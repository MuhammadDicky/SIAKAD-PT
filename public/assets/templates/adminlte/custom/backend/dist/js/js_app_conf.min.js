/*SIAKAD UNCP Js Config*/
/*==========================================*/
/*Dev		=> Muhammad Dicky Hidayat Latif*/
/*Email		=> muh.dickyhidayat@gmail.com*/
/*==========================================*/

function getJSON(a,t){void 0!=t?t.csrf_key=token:t={csrf_key:token};var e=JSON.parse($.ajax({type:"POST",url:a,data:t,dataType:"json",global:!1,async:!1,beforeSend:function(){},complete:function(a){},success:function(a){token=a.n_token},error:function(a,e,s){console.log("status = "+e),console.log(a.status),console.log(a.statusText),console.log("error = "+s),window.history.pushState(null,null,path),"user_active_status"==t.data?1==t.status?(swal({title:"Error",text:"Akun gagal diaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t.id).bootstrapToggle("destroy"),$(".status-user-"+t.id).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t.id+"' value='"+t.id+"'/>"),$(".status-user-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500)):0==t.status&&(swal({title:"Error",text:"Akun gagal dinonaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t.id).bootstrapToggle("destroy"),$(".status-user-"+t.id).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t.id+"' checked value='"+t.id+"'/>"),$(".status-user-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500)):"thn_ajaran_status_inp"==t.data||"thn_ajaran_status"==t.data?1==t.status?"thn_ajaran_status"==t.data?(swal({title:"Tahun akademik gagal diterapkan",type:"error",timer:2e3}),delay(function(){$(".check-status-thn-ajar-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-ajar-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+t.in+"' value='"+t.in+"'/>"),$(".check-status-thn-ajar-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):"thn_ajaran_status_inp"==t.data&&(swal({title:"Input nilai pada tahun akademik ini gagal diaktifkan",type:"error",timer:2e3}),delay(function(){$(".check-status-thn-inp-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-inp-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+t.in+"' value='"+t.in+"'/>"),$(".check-status-thn-inp-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):0==t.status&&("thn_ajaran_status"==t.data?(swal({title:"Tahun akademik gagal dinonaktifkan",type:"error",timer:2e3}),delay(function(){$(".check-status-thn-ajar-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-ajar-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+t.in+"' checked value='"+t.in+"'/>"),$(".check-status-thn-ajar-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):"thn_ajaran_status_inp"==t.data&&(swal({title:"Input nilai pada tahun akademik ini gagal dinonaktifkan",type:"error",timer:2e3}),delay(function(){$(".check-status-thn-inp-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-inp-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+t.in+"' checked value='"+t.in+"'/>"),$(".check-status-thn-inp-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},500))):swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}}).responseText);return null==e.login_rld?e:(window.history.pushState(null,null,path),"user_active_status"==t.data?1==t.status?(swal({title:"Error",html:"Akun gagal diaktifkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".status-user-"+t.id).bootstrapToggle("destroy"),$(".status-user-"+t.id).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t.id+"' value='"+t.id+"'/>"),$(".status-user-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger",width:100})},500)):0==t.status&&(swal({title:"Error",html:"Akun gagal dinonaktifkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".status-user-"+t.id).bootstrapToggle("destroy"),$(".status-user-"+t.id).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t.id+"' checked value='"+t.id+"'/>"),$(".status-user-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger",width:100})},500)):"thn_ajaran_status_inp"==t.data||"thn_ajaran_status"==t.data?1==t.status?"thn_ajaran_status"==t.data?(swal({title:"Error",html:"Tahun akademik gagal diterapkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".check-status-thn-ajar-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-ajar-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+t.in+"' value='"+t.in+"'/>"),$(".check-status-thn-ajar-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):"thn_ajaran_status_inp"==t.data&&(swal({title:"Error",html:"Input nilai pada tahun akademik ini gagal diaktifkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".check-status-thn-inp-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-inp-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+t.in+"' value='"+t.in+"'/>"),$(".check-status-thn-inp-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):0==t.status&&("thn_ajaran_status"==t.data?(swal({title:"Error",html:"Tahun akademik gagal dinonaktifkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".check-status-thn-ajar-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-ajar-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+t.in+"' checked value='"+t.in+"'/>"),$(".check-status-thn-ajar-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140})},500)):"thn_ajaran_status_inp"==t.data&&(swal({title:"Error",html:"Input nilai pada tahun akademik ini gagal dinonaktifkan karena Session anda telah berakhir, silahkan klik ulang!",type:"error"}),delay(function(){$(".check-status-thn-inp-"+t.in).bootstrapToggle("destroy"),$(".check-status-thn-inp-"+t.in).replaceWith("<input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+t.in+"' checked value='"+t.in+"'/>"),$(".check-status-thn-inp-"+t.in).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},500))):swal({type:"info",title:"Info",html:"Session anda telah berakhir, silahkan klik tombol <strong>Reset</strong> untuk memuat ulang halaman!",showCancelButton:!0,confirmButtonText:'<i class="fa fa-refresh"></i> Reload',cancelButtonText:'<i class="fa fa-times"></i> Batal'}).then(function(){window.location.href=e.url}),!1)}function getJSON_async(a,t,e,s){return void 0!=t?t.csrf_key=token:t={csrf_key:token},new Promise(function(l,n){$.ajax({type:"POST",url:a+"?token="+token+"&key="+rand_val(30),data:t,dataType:"json",beforeSend:function(a,t){load_inval()},complete:function(a,t){if(200==a.status&&"success"==t){var s=a.responseJSON;null!=s.n_token?token=s.n_token:token=rand_val(),setTimeout(function(){$(".modal .load-data").replaceWith(""),clearInterval(load_interval),null==s.login_rld?l(s):(s.status="0",s.statusText="Session anda telah berakhir dan telah direset kembali!",n(s))},e)}},error:function(a,t,e){500==a.status?console.log("Error "+a.status+" = "+a.statusText):200==a.status?(a.statusText="Parser Error",console.log("Error "+a.status+" = "+a.statusText)):0==a.status?(a.statusText="No Respon From Server",console.log("Error "+a.status+" = "+a.statusText)):console.log("status = "+t),n(a),$(".modal .load-data").replaceWith(""),clearInterval(load_interval),1==s&&swal({title:"Error",html:'Maaf, terjadi kesalahan!<p style="text-align:right;"><a href="" class="show-error">Show Error</a></p><div style="font-family:Segoe UI;text-align: center;display:none" class="error-detail">Error '+a.status+": "+a.statusText+"</div>",type:"error",confirmButtonText:'<i class="fa fa-check"></i> Ok'})}})})}function getHtml_page(a){return a.csrf_key=token,$.ajax({type:"POST",url:"http://"+host+"/siakad-uncp/admin/html_request",data:a,global:!1,async:!1,complete:function(a){},success:function(a){}}).responseText}function getUrlVars(){for(var a,t=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<e.length;s++)a=e[s].split("="),t.push(a[0]),t[a[0]]=a[1];return t}function load_inval(){clearInterval(load_interval);var a=0;load_interval=setInterval(function(){$(".load-data").append(". "),4==++a&&($(".load-data").html("Memproses Data"),a=0)},400)}function check_all(){$(".data_action").attr("checked",!0)}function modal_animated(a){var a=$("#myModal .modal-dialog, #myModal-pt .modal-dialog").attr("class","modal-dialog "+a+" animated")}function collapse_toggle(a){var t=$(a),e=t.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");t.hasClass("collapsed-box")?(t.find("i.fa-plus").removeClass("fa fa-plus").addClass("fa fa-minus"),e.slideDown(450,function(){t.removeClass("collapsed-box")})):(t.find("i.fa-minus").removeClass("fa fa-minus").addClass("fa fa-plus"),e.slideUp(450,function(){t.addClass("collapsed-box")}))}function collapse_box(a,t){var e=$(a),s=e.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");void 0==t?e.find(".box-header .fa-plus").removeClass("fa fa-plus").addClass("fa fa-minus"):$(a+" .collapse-icon").removeClass("fa fa-plus").addClass("fa fa-minus"),s.slideDown(450,function(){e.removeClass("collapsed-box")})}function row_detail(a,t){if("data-user"==t)return'<div class="slider-detail" style="display:none"><table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr><td>Full name:</td><td>'+a.username+"</td></tr><tr><td>Extension number:</td><td>"+a.uncrypt_password+"</td></tr><tr><td>Extra info:</td><td>And any further details here (images etc)...</td></tr></table></div>";if("data-visitor-mhs"==t||"data-visitor-ptk"==t)return'<div class="slider-detail" style="display:none"><div class="row">  <div class="col-md-2" style="margin:30px -25px 10px 10px">    <img class="profile-user-img img-responsive photo-mhs-detail" src="'+a.photo_u+'" alt="User profile picture">  </div>  <div class="col-md-10"><table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;margin:10px;"><tr><td>Username</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td>'+a.username+'</td></tr><tr><td>Nama</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td>'+a.nama+"</td></tr><tr><td></td><td></td><td>"+a.user_lvl+'</td></tr><tr><td>Browser</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td><li class="fa '+a.browser_icon+'"></li> '+a.visitor_browser+'</td></tr><tr><td>Platform</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td><li class="fa '+a.device_icon+'"></li> '+a.visitor_agent+' | <li class="fa '+a.os_icon+'"></li> '+a.visitor_os+'</td></tr><tr><td>Terakhir Online</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td><li class="fa fa-calendar"></li> '+a.date+' <li class="fa fa-clock-o"></li> '+a.time+'</td></tr><tr><td>Extra info</td><td>&nbsp<li class="fa fa-chevron-right"></li>&nbsp</td><td>And any further details soon...</td></tr></table>  </div></div></div>';if("data-mhs"==t)return'<div class="slider-detail text-center" style="display:none;margin: 10px 0 10px 0">  <div class="btn-group">    <a href="#detail?mhs='+a.id+"&token="+token+'" class="btn btn-warning detail-mhs-btn" data-search="'+a.id+'" title="Detail data mahasiswa '+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-id-card" style="display:block;font-size:30px"></i> Detail Data</a>    <a href="#edit?mhs='+a.id+"&token="+token+'" class="btn btn-success" title="Edit data mahasiswa '+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-pencil-square" style="display:block;font-size:30px"></i> Edit Data</a>    <a href="#hapus?mhs='+a.id+"&token="+token+'" class="btn btn-danger" title="Hapus data mahasiswa '+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-trash" style="display:block;font-size:30px"></i> Hapus Data</a>  </div></div>';if("data-ptk"==t)return'<div class="slider-detail text-center" style="display:none;margin: 10px 0 10px 0">  <div class="btn-group">    <div class="btn-group">        <button type="button" class="btn btn-info" style="height:70px;padding-top:11px"><li class="fa fa-plus" style="display:block;font-size:30px"></li> Tambah</button>        <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" style="height:70px;padding-top:11px">          <span class="caret"></span>          <span class="sr-only">Toggle Dropdown</span>        </button>        <ul class="dropdown-menu" role="menu">          <li><a href="#tambah?data=pend_ptk&in='+a.id_ptk+"&token="+token+'" title="Tambah data riwayat pendidik tenaga pendidik '+a.nama_ptk+" dengan NIDN "+a.nuptk+'"><span class="fa fa-book"></span> Data Riwayat Pendidikan</a></li>          <li><a href="#tambah?data=research_ptk&in='+a.id_ptk+"&token="+token+'" title="Tambah data penelitian tenaga pendidik '+a.nama_ptk+" dengan NIDN "+a.nuptk+'"><span class="fa fa-flask"></span> Data Penelitian</a></li>        </ul>      </div>    <a href="#detail?ptk='+a.id_ptk+"&token="+token+'" class="btn btn-warning detail-ptk-btn" data-search='+a.id_ptk+' title="Detail data tenaga pendidik '+a.nama_ptk+" dengan NIDN "+a.nuptk+'" style="height:70px;padding-top:11px"><i class="fa fa-id-card" style="display:block;font-size:30px"></i> Detail Data</a>    <a href="#edit?ptk='+a.id_ptk+"&token="+token+'" class="btn btn-success" title="Edit data tenaga pendidik '+a.nama_ptk+" dengan NIDN "+a.nuptk+'" style="height:70px;padding-top:11px"><i class="fa fa-pencil-square" style="display:block;font-size:30px"></i> Edit Data</a>    <a href="#hapus?ptk='+a.id_ptk+"&token="+token+'" class="btn btn-danger" title="Hapus data tenaga pendidik '+a.nama_ptk+" dengan NIDN "+a.nuptk+'" style="height:70px;padding-top:11px"><i class="fa fa-trash" style="display:block;font-size:30px"></i> Hapus Data</a>  </div></div>';if("data-prodi"==t){var e=a.id_prodi,s=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_pd:a.id_prodi,data:"data_prodi"},500);s.then(function(a){if(""!=a.data){var t=a.data[0];$.each(a.data[0],function(a,e){""!=t[a]&&"0000-00-00"!=t[a]||(t[a]="-"),"status_prodi"==a&&1==t[a]?t[a]="Aktif":"status_prodi"==a&&1!=t[a]&&(t[a]="Tidak Aktif")}),$(".slider-detail[data-search="+e+"]").html('   <div class="row">      <div class="col-md-6">        <dl class="dl-horizontal no-margin">          <dt>Fakultas</dt>          <dd>'+t.nama_fakultas+"</dd>          <dt>Kode Program Studi</dt>          <dd>"+t.kode_prodi+"</dd>          <dt>Nama Program Studi</dt>          <dd>"+t.nama_prodi+"</dd>          <dt>Nama Ketua Prodi</dt>          <dd>"+t.nama_kprodi+"</dd>          <dt>Jenjang</dt>          <dd>"+t.jenjang_prodi+"</dd>          <dt>Akreditas</dt>          <dd>"+t.akreditasi_prodi+"</dd>          <dt>Status</dt>          <dd>"+t.status_prodi+"</dd>          <dt>SK Penyelenggaraan</dt>          <dd>"+t.sk_peny_prodi+"</dd>          <dt>Tanggal SK</dt>          <dd>"+t.tgl_sk_prodi+"</dd>          <dt>Tanggal Berdiri</dt>          <dd>"+t.tgl_berdiri_prodi+'</dd>        </dl>      </div>      <div class="col-md-6">        <dl class="dl-horizontal no-margin">          <dt>Alamat</dt>          <dd>'+t.alamat_prodi+"</dd>          <dt>Kode POS</dt>          <dd>"+t.kode_pos_prodi+"</dd>          <dt>Telepon</dt>          <dd>"+t.telpon_prodi+"</dd>          <dt>FAX</dt>          <dd>"+t.fax_prodi+"</dd>          <dt>Email</dt>          <dd>"+t.email_prodi+"</dd>          <dt>Website</dt>          <dd>"+t.website_prodi+'</dd>          <dt>Jumlah Mahasiswa</dt>          <dd><span class="fa fa-users"></span> '+t.jml_mhs+'</dd>          <dt>Mahasiswa Laki-Laki</dt>          <dd><span class="fa fa-male"></span> '+t.jml_lk+'</dd>          <dt>Mahasiswa Perempuan</dt>          <dd><span class="fa fa-female"></span> '+t.jml_pr+"</dd>        </dl>      </div>    </div>").removeClass("text-center")}else $(".tbl-data-pd").DataTable().ajax.reload(),swal({title:"Info",text:"Program Studi yang anda pilih tidak ada didalam database!",type:"info",timer:2e3})}).catch(function(a){$(".slider-detail[data-search="+e+"]").html("<font>Terjadi Kesalahan, <b>Error "+a.status+": "+a.statusText+"</b></font>")})}else if("data-alumni-do"==t){if(0==$(".select2_data").val())var l="alumni",n="alumni";else if(1==$(".select2_data").val())var l="mahasiswa drop out",n="mhs_do";return'<div class="slider-detail text-center" style="display:none;margin: 10px 0 10px 0">  <div class="btn-group">    <a href="#detail?'+n+"="+a.id+"&token="+token+'" class="btn btn-warning detail-mhs-btn" data-search="'+a.id+'" title="Detail '+l+" "+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-id-card" style="display:block;font-size:30px"></i> Detail Data</a>    <a href="#edit?'+n+"="+a.id+"&token="+token+'" class="btn btn-success" title="Edit data '+l+" "+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-pencil-square" style="display:block;font-size:30px"></i> Edit Data</a>    <a href="#hapus?'+n+"="+a.id+"&token="+token+'" class="btn btn-danger" title="Hapus data '+l+" "+a.nama+" dengan NIM "+a.nisn+'" style="height:70px;padding-top:11px"><i class="fa fa-trash" style="display:block;font-size:30px"></i> Hapus Data</a>  </div></div>'}return void 0!=s?'<div class="slider-detail text-center" data-search="'+e+'" style="display:none;margin: 10px 0 10px 0"><font class="load-data">Memproses Data</font></div>':void 0}function data_mhs_master(a,t){if($("#box-mhs").slideDown(),$("#box-mhs").find("div.overlay").fadeIn(),$("html, body").animate({scrollTop:$("#box-mhs").offset().top},800),$.fn.DataTable.isDataTable(".tbl-data-mhs-master")&&$(".tbl-data-mhs-master").DataTable().destroy(),$(document).bind("ajaxComplete",function(){$("#box-mhs").find("div.overlay").fadeOut()}),"thn_akademik"==a)e="data_mahasiswa_ak";else if("thn_angkatan"==a)var e="data_mahasiswa";if($("section.content").is(":visible"))s=0;else var s=1e3;setTimeout(function(){$(".tbl-data-mhs-master").DataTable({processing:!0,serverSide:!0,ajax:{url:"http://"+host+data_akademik_path+"/data_table_request/"+e,type:"POST",data:{data:a,value:t}},order:[[1,"asc"]],columns:[{data:"no",width:"5px",sClass:"text-center",orderable:!1},{data:"nisn",width:"70px"},{data:"nama",width:"300px"},{data:"nama_prodi"},{data:{agama:"agama",tahun_angkatan:"tahun_angkatan"},sClass:"text-center",orderable:!0,mRender:function(a,t,s){return"data_mahasiswa"==e?s.agama:s.tahun_angkatan}},{data:{agama:"agama",alamat:"alamat"},sClass:"text-center",orderable:!1,mRender:function(a,t,s){return"data_mahasiswa"==e?s.alamat:s.agama}}],initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2"),$("div.dataTables_filter input").removeClass("input-sm").attr("placeholder","Cari Data..."),$("div.dataTables_filter label").append('<div class="input-group hidden-tablet hidden-phone">      <span class="input-group-btn">        <button type="button" class="btn btn-default btn-flat" style="cursor: default;"><span class="fa fa-search"></span></button>      </span></div>'),$("div.dataTables_filter input").removeClass("input-sm").attr("placeholder","Cari Data..."),$("div.dataTables_length select").removeClass("input-sm").addClass("select2_change"),$(".select2_change").select2({minimumResultsForSearch:-1})},oLanguage:{oPaginate:{sNext:"<li class='fa fa-angle-double-right' title='Selanjutnya'></li>",sPrevious:"<li class='fa fa-angle-double-left' title='Sebelumnya'></li>",sFirst:"Pertama",sLast:"Terakhir"},sInfo:"Menampilkan Data (_START_ Sampai _END_) Dari _TOTAL_ Data",sInfoEmpty:"Data tidak ditemukan",sProcessing:"Memuat Data",sLoadingRecords:"<center>Memproses Data...</center>",sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="10">10 Data</option><option value="20">20 Data</option><option value="30">30 Data</option><option value="40">40 Data</option><option value="50">50 Data</option></select>',sSearch:"",sInfoFiltered:" - Hasil Pencarian Dari _MAX_ Data",sZeroRecords:"<center>Data yang dicari tidak ditemukan</center>"},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!1,scrollX:!0,scroller:!0})},s)}function daftar_jadwal(a,t){$("#box-content .hapus").addClass("disabled"),$(".check-all-mk").iCheck("uncheck"),$("#box-jadwal").find("div.overlay").fadeIn(),getJSON_async("http://"+host+controller_path+"/action/ambil",{thn:a,data:"daftar_jadwal_pd"},500).then(function(a){""!=a.record_jadwal?(collapse_box("#box-jadwal"),$("#box-kelas-mhs").slideUp(),$(".check-all-jadwal").iCheck("uncheck"),$("table.tbl-data-jadwal").find("tbody").text(""),$("#box-jadwal").is(":visible")?delay(function(){$("html, body").animate({scrollTop:$("#box-jadwal").offset().top-55},800)},500):delay(function(){$("html, body").animate({scrollTop:$("#box-jadwal").offset().top-55},800)},100),$("#box-jadwal").slideDown(),$.each(a.record_u,function(t,e){var s,l,n,i=1,d=1,o=1;$.each(a.record_kelas,function(t,r){if(1==o&&0==r.jenis_jdl||o==d&&0==r.jenis_jdl){c=' style="background-color:#f9f9f9;"';d++,d++}else var c="";e.jenis_jdl==r.jenis_jdl&&0==e.jenis_jdl?(s=r.semester+"/"+r.kelas,i=1,$.each(a.record_jadwal,function(a,t){var d=t.thn_ajaran_jdl.substr(5,1),o=t.thn_ajaran_jdl.substr(0,4);if(d=1==d?"Ganjil":"Genap",1==t.status_jdl)var r='<div class="btn-group">    <button class="btn btn-warning btn-sm view-kelas" value="'+t.id_jdl+'" title="Lihat daftar mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button>    <a href="#edit?jadwal='+t.id_jdl+'" class="btn btn-success btn-sm" title="Edit jadwal"><i class="fa fa-pencil-square"></i></a>    <a href="#hapus?jadwal='+t.id_jdl+'" class="btn btn-danger btn-sm" title="Hapus jadwal"><i class="fa fa-trash"></i></a></div>',m='  <td class="text-center"><input type="checkbox" class="check-data check-jadwal" value="'+t.id_jdl+"/"+t.id_pd_mk+"/"+t.id_thn_ak_jdl+'" data-selected="check-jadwal" data-all-selected="check-all-jadwal" data-toggle=".box-jadwal-mk-control .hapus"></td>';else var r='<div class="btn-group"><button class="btn btn-warning btn-sm view-kelas" value="'+t.id_jdl+'" title="Lihat daftar mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button></div>',m='  <td class="text-center"></td>';null!=t.nama_mk&&""!=t.nama_mk||(t.nama_mk="-",t.jml_sks="-"),null!=t.nama_ptk&&""!=t.nama_ptk||(t.nama_ptk="-"),$("#box-jadwal span.thn-ajaran-jad").text(o+"/"+d),$("#box-jadwal span.prodi-jad").text(t.nama_prodi),(l=t.semester+"/"+t.kelas)==s&&t.jenis_jdl==e.jenis_jdl&&(1==i?($("table.tbl-data-jadwal").find("tbody").append("<tr"+c+">"+m+'  <td rowspan="" class="kelas-row'+t.id_jdl+' text-center">'+t.semester+"/"+t.kelas+'</td>  <td class="text-center">'+t.hari_jdl+'</td>  <td class="text-center">'+t.jam_mulai_jdl+" - "+t.jam_akhir_jdl+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+'</td>  <td class="text-center">'+t.ruang+"</td>  <td>"+t.nama_ptk+'</td>  <td class="text-center">'+r+"  </td></tr>"),n=t.id_jdl):$("table.tbl-data-jadwal").find("tbody").append("<tr"+c+">"+m+'  <td class="text-center">'+t.hari_jdl+'</td>  <td class="text-center">'+t.jam_mulai_jdl+" - "+t.jam_akhir_jdl+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+'</td>  <td class="text-center">'+t.ruang+"</td>  <td>"+t.nama_ptk+'</td>  <td class="text-center">'+r+"  </td></tr>"),i++)}),$("table.tbl-data-jadwal .kelas-row"+n).attr("rowspan",i-1),o++):0!=e.jenis_jdl&&(s=r.semester+"/"+r.kelas,$.each(a.record_jadwal,function(a,t){var n=t.thn_ajaran_jdl.substr(5,1),d=t.thn_ajaran_jdl.substr(0,4);if(n=1==n?"Ganjil":"Genap",$("#box-jadwal span.thn-ajaran-jad").text(d+"/"+n),$("#box-jadwal span.prodi-jad").text(t.nama_prodi),1==t.status_jdl)var o='<div class="btn-group">    <button class="btn btn-warning btn-sm view-kelas" value="'+t.id_jdl+'" title="Lihat daftar mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button>    <a href="#edit?jadwal='+t.id_jdl+'" class="btn btn-success btn-sm" title="Edit jadwal"><i class="fa fa-pencil-square"></i></a>    <a href="#hapus?jadwal='+t.id_jdl+'" class="btn btn-danger btn-sm" title="Hapus jadwal"><i class="fa fa-trash"></i></a></div>',r='  <td class="text-center"><input type="checkbox" class="check-data check-jadwal" value="'+t.id_jdl+"/"+t.id_pd_mk+"/"+t.id_pd_mk+'" data-selected="check-jadwal" data-all-selected="check-all-jadwal" data-toggle=".box-jadwal-mk-control .hapus"></td>';else var o='<div class="btn-group"><button class="btn btn-warning btn-sm view-kelas" value="'+t.id_jdl+'" title="Lihat daftar mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button></div>',r='  <td class="text-center"></td>';null!=t.nama_mk&&""!=t.nama_mk||(t.nama_mk="-",t.jml_sks="-"),null!=t.nama_ptk&&""!=t.nama_ptk||(t.nama_ptk="-"),(l=t.semester+"/"+t.kelas)==s&&t.jenis_jdl==e.jenis_jdl&&(1==i?$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td colspan="9" align="left"><b>Konsentrasi '+t.nm_konsentrasi+"</b></td></tr><tr>"+r+'  <td class="text-center">'+t.semester+"/"+t.kelas+'</td>  <td class="text-center">'+t.hari_jdl+'</td>  <td class="text-center">'+t.jam_mulai_jdl+" - "+t.jam_akhir_jdl+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+'</td>  <td class="text-center">'+t.ruang+"</td>  <td>"+t.nama_ptk+'</td>  <td class="text-center">'+o+"  </td></tr>"):$("table.tbl-data-jadwal").find("tbody").append("<tr>"+r+'  <td class="text-center">'+t.semester+"/"+t.kelas+'</td>  <td class="text-center">'+t.hari_jdl+'</td>  <td class="text-center">'+t.jam_mulai_jdl+" - "+t.jam_akhir_jdl+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+'</td>  <td class="text-center">'+t.ruang+"</td>  <td>"+t.nama_ptk+'</td>  <td class="text-center">'+o+"  </td></tr>"),i++)}))})}),$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"})):1==t?($("#box-kelas-mhs,#box-jadwal").slideUp(),$("table.tbl-data-jadwal").find("tbody").text("")):swal({title:"Info",text:"Tahun akademik dan program studi yang anda pilih belum memiliki jadwal kuliah!",type:"info",timer:2e3}),$("#box-jadwal").find("div.overlay").fadeOut(),$(".tamp-jadwal").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")}).catch(function(){$(".tamp-jadwal").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")})}function daftar_kelas_mhs(a,t,e){$(".check-all-mhs-kelas").iCheck("uncheck"),$(".hapus-mhs").addClass("disabled"),null!=a?($(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="7" align="center"><font class="load-data">Memproses Data</font></td></tr>'),getJSON_async("http://"+host+controller_path+"/action/ambil",{kelas:a,data:"daftar_kelas_mhs"},500).then(function(a){if(""!=a.record_kelas){$("#box-kelas-mhs").is(":visible")?($("#box-kelas-mhs").find("div.overlay").fadeIn(),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},500)):($("#box-kelas-mhs").fadeIn(),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},100));var t,e;$.each(a.record_kelas,function(a,s){$.each(s,function(a,t){null!=t&&""!=t||(t="-"),$(".detail-kelas .detail-kelas-"+a).text(t)}),"0"!=s.jenis_jdl&&$(".detail-kelas .detail-kelas-nama_mk").text(s.nama_mk+" (Konsentrasi "+s.nm_konsentrasi+")"),1==(t=s.status_jdl)?(e=s.id_jdl,$("#box-kelas-mhs .kelas-mhs-cp").show(),$("table.tbl-daftar-kelas-mhs .check-all-mhs-kelas").parents("th").show(),$("table.tbl-daftar-kelas-mhs th.action-kelas").show(),$("#box-kelas-mhs .tambah-mhs-kls").attr("href","#tambah?kelas_mhs="+e),$("#box-kelas-mhs .hapus-mhs").attr("href","#delete_selected?kls_mhs="+e+"&data=kls_mhs"),$("#box-kelas-mhs .pindah-kelas").attr("href","#edit?kls_mhs="+e),$("#myModal #kelas_mhs").val(s.id_jdl)):($("#box-kelas-mhs .kelas-mhs-cp").hide(),$("table.tbl-daftar-kelas-mhs .check-all-mhs-kelas").parents("th").hide(),$("table.tbl-daftar-kelas-mhs th.action-kelas").hide())}),""!=a.record_mhs?($(".tbl-daftar-kelas-mhs").find("tbody").text(""),$.each(a.record_mhs,function(a,e){var s,l,n;n=1==e.status_mhs_kls?"Aktif":"Tidak Aktif",1==t?(s='<td class="text-center">  <div class="btn-group">    <a href="#edit?kelas='+e.id_kelas+'" class="btn btn-success btn-sm" title="Pindah kelas"><i class="fa fa-pencil-square"></i></a>    <a href="#hapus?kelas='+e.id_kelas+'" class="btn btn-danger btn-sm" title="Hapus dari daftar kelas"><i class="fa fa-trash"></i></a>  </div></td>',l='  <td class="text-center"><input type="checkbox" class="check-data check-mhs-kls" value="'+e.id_kelas+'" data-search="'+e.in_mhs+'" data-selected="check-mhs-kls" data-all-selected="check-all-mhs-kelas" data-toggle=".box-kelas-control .pindah-kelas,.box-kelas-control .hapus-mhs"></td>',$("table.tbl-daftar-kelas-mhs .check-all-mhs-kelas").parents("th").show(),$("table.tbl-daftar-kelas-mhs th.action-kelas").show()):($("table.tbl-daftar-kelas-mhs .check-all-mhs-kelas").parents("th").hide(),$("table.tbl-daftar-kelas-mhs th.action-kelas").hide()),$("table.tbl-daftar-kelas-mhs").find("tbody").append("<tr>"+l+'  <td class="text-center">'+e.nisn+"</td>  <td>"+e.nama+'</td>  <td class="text-center">'+e.tahun_angkatan+'</td>  <td class="text-center">'+n+"</td>"+s+"</tr>")})):1==t?$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="6" align="center">Untuk sekarang kelas ini belum memiliki mahasiswa, silahkan klik <a href="#tambah?kelas_mhs='+e+'" class="btn btn-info"><i class="fa fa-plus"></i> Tambah Mahasiswa</a></td></tr>'):$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="4" align="center">Untuk sekarang kelas ini belum memiliki mahasiswa</td></tr>')}else swal({title:"Info",text:"Kelas yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3});$(".check-mhs-kls").iCheck({checkboxClass:"icheckbox_flat-blue"}),$(".view-kelas").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")}).catch(function(){$(".view-kelas").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")})):($(".tbl-daftar-kelas-mhs").find("tbody").text(""),$("#box-kelas-mhs .kelas-mhs-cp").show(),$("table.tbl-daftar-kelas-mhs .check-all-mhs-kelas").parents("th").show(),$("table.tbl-daftar-kelas-mhs th.action-kelas").show(),""!=t?$.each(t,function(a,t){if(1==t.status_mhs_kls)e="Aktif";else var e="Tidak Aktif";$("table.tbl-daftar-kelas-mhs").find("tbody").append('<tr>  <td class="text-center"><input type="checkbox" class="check-data check-mhs-kls" value="'+t.id_kelas+'" data-search="'+t.in_mhs+'" data-selected="check-mhs-kls" data-all-selected="check-all-mhs-kelas" data-toggle=".box-kelas-control .pindah-kelas,.box-kelas-control .hapus-mhs"></td>  <td class="text-center">'+t.nisn+"</td>  <td>"+t.nama+'</td>  <td class="text-center">'+t.tahun_angkatan+'</td>  <td class="text-center">'+e+'</td>  <td class="text-center">  <div class="btn-group">    <a href="#edit?kelas='+t.id_kelas+'" class="btn btn-success btn-sm" title="Pindah kelas"><i class="fa fa-pencil-square"></i></a>    <a href="#hapus?kelas='+t.id_kelas+'" class="btn btn-danger btn-sm" title="Hapus dari daftar kelas"><i class="fa fa-trash"></i></a>  </div>  </td></tr>')}):$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="7" align="center">Untuk sekarang kelas ini belum memiliki mahasiswa, silahkan klik <a href="#tambah?kelas_mhs='+e+'" class="btn btn-info"><i class="fa fa-plus"></i> Tambah Mahasiswa</a></td></tr>')),$(".check-mhs-kls").iCheck({checkboxClass:"icheckbox_flat-blue"}),$(".check-status-mhs-kls").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger",width:100})}function data_detail_fk(a){$(".check-all-prodi").iCheck("uncheck"),$(".detail-data-fk[data-search="+a+"]").find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+controller_path+"/action/ambil",{id:a,data:"detail_fk"},500).then(function(a){if($(".detail-data-fk").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),""!=a.data){$("#box-detail-fk .tbl-data-prodi").find("tbody").text(""),$("#box-detail-fk").slideDown(),$("#box-detail-fk").find("div.overlay").fadeIn(),$("html, body").animate({scrollTop:$("#box-detail-fk").offset().top},800),delay(function(){$("#box-detail-fk").find("div.overlay").fadeOut()},500),$.each(a.count_fk_mhs,function(a,t){""!=t&&"0"!=t||(t="-"),$("#box-detail-fk .detail-fak-"+a).text(t)});var t=1;$.each(a.data,function(a,e){$.each(e,function(a,t){""!=t&&"0"!=t&&"0000-00-00"!=t||(t="-"),"nama_fakultas"!=a&&"dekan"!=a&&"tgl_berdiri"!=a&&"akreditasi_fk"!=a||$("#box-detail-fk .detail-fak-"+a).text(t)}),1==e.status_prodi?e.status_prodi="Aktif":e.status_prodi="Tidak Aktif",$("#box-detail-fk .tbl-data-prodi").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.kode_prodi+'</td>  <td class="daftar-nm-pd">'+e.nama_prodi+'</td>  <td class="text-center">'+e.status_prodi+'</td>  <td class="text-center">'+e.jenjang_prodi+'</td>  <td class="text-center">    <a href="#tambah?data=konsentrasi_prodi&prodi_kons='+e.nama_prodi.replace(" ","_").toLowerCase()+"&i="+e.id_prodi+"&token="+token+'" class="btn btn-info btn-sm" title="Tambah Konsentrasi pada Program Studi '+e.nama_prodi+'"><i class="fa fa-plus"></i></a> |     <div class="btn-group">      <a href="#data?pd='+e.id_prodi+"&token="+token+'" class="btn btn-warning btn-sm data-detail-prodi" data-search="'+e.id_prodi+'" title="Lihat Detail Program Studi '+e.nama_prodi+'"><i class="fa fa-list"></i></a>       <a href="#edit?pd='+e.id_prodi+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Data Program Studi '+e.nama_prodi+'"><i class="fa fa-pencil-square"></i></a>       <a href="#hapus?pd='+e.id_prodi+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Data Program Studi '+e.nama_prodi+'"><i class="fa fa-trash"></i></a>    </div>  </td></tr>'),t++}),$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"})}else swal({title:"Info",text:"Fakultas yang anda pilih belum memiliki program studi!",type:"info",timer:2e3}),$("#box-detail-fk").slideUp()}).catch(function(a){window.history.pushState(null,null,path),$(".detail-data-fk").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),swal({title:"Error",html:'Maaf, terjadi kesalahan!<p style="text-align:right;"><a href="" class="show-error">Show Error</a></p><div style="font-family:Segoe UI;text-align: center;display:none" class="error-detail">Error '+a.status+": "+a.statusText+"</div>",type:"error"})})}function daftar_konsentrasi(a,t){if(null!=a)e=a;else var e=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_konst:t,data:"daftar_konsentrasi_pd"},500);$(".tbl-data-konst-pd").find("tbody").append('<tr class=".table-load"><td class="text-center load-data" colspan="3">Memproses Data</td></tr>'),e.then(function(a){var t=1;""!=a.data?($(".box-konsentrasi-pd").show(),$(".box-konsentrasi-pd").attr("data-search",a.data[0].id_pd_konst),$(".tbl-data-konst-pd").find("tbody").text(""),$.each(a.data,function(a,e){if(null==e.id_konst)return $(".box-konsentrasi-pd").hide(),$(".tbl-data-konst-pd").find("tbody").html('<tr class="text-center"><td colspan="3">Program studi ini tidak memiliki konsentrasi</td></tr>'),!1;$(".tbl-data-konst-pd").find("tbody").append('<tr>  <td class="text-center">'+t+"</td>  <td>"+e.nm_konsentrasi+'</td>  <td class="text-center">    <div class="btn-group">      <a href="#edit?data=konsentrasi_prodi&konsentrasi='+e.id_konst+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Konsentrasi Program Studi '+e.nama_prodi+'"><i class="fa fa-pencil-square"></i></a>       <a href="#hapus?data=konsentrasi_prodi&konsentrasi='+e.id_konst+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Konsentrasi Program Studi '+e.nama_prodi+'"><i class="fa fa-trash"></i></a>    </div>  </td></tr>'),t++})):($(".box-konsentrasi-pd").hide(),$(".tbl-data-konst-pd").find("tbody").html('<tr class="text-center"><td colspan="3">Program studi ini tidak memiliki konsentrasi</td></tr>'))}).catch(function(a){1==$(".tbl-data-konst-pd tr.table-load").length&&$(".tbl-data-konst-pd tr.table-load td").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>"),setTimeout(function(){$(".tbl-data-konst-pd tr.table-load").replaceWith("")},2e3)})}function daftar_mk(a){$(".check-all-mk").iCheck("uncheck"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top-55},800),$(".box-daftar-mk").is(":visible")&&($(".box-daftar-mk").fadeIn("slow"),$(".box-daftar-mk").find("div.overlay").fadeIn()),getJSON_async("http://"+host+controller_path+"/data_table_request/data_mk",{pd:a,act:"single-tbl"}).then(function(t){if($(".box-daftar-mk").is(":hidden")&&($(".box-daftar-mk").slideDown(),$(".box-daftar-mk").find("div.overlay").fadeOut()),""!=t.prodi?$.each(t.prodi[0],function(a,t){"status_prodi"==a&&1==t?t="Aktif":"status_prodi"==a&&0==t&&(t="Tidak Aktif"),$(".box-daftar-mk .detail-prodi-"+a).text(t)}):($(".box-daftar-mk .detail-prodi-mk").text("-"),$(".box-daftar-mk .box-title").text("Daftar Mata Kuliah"),swal({title:"Info",text:"Program Studi yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3})),t.total_rows>0)if($(".box-daftar-mk").attr("data-search",a),$(".tbl-data-mk1, .tbl-data-mk2, .tbl-data-mk").find("tbody").text(""),1==t.total_rows?$(".tbl-data-mk2").hide():$(".tbl-data-mk2").show(),null!=t.record_mk){var e={};$.each(t.record_mk,function(a,t){if(0!=t.jenis_jdl)var s=(l="Konsentrasi")+" "+(n=t.nm_konsentrasi);else var l=s="Umum",n="-";e[s]=(e[s]||0)+1,$(".tbl-data-mk").find("tbody").append('   <tr>     <td class="text-center"><input type="checkbox" class="check-data check-mk" name="id" value="'+t.id_mk+'" data-selected="check-mk" data-all-selected="check-all-mk" data-toggle=".edit-mk,.hapus"></td>     <td class="text-center">'+t.kode_mk+"</td>     <td>"+t.nama_mk+'</td>     <td class="text-center">'+l+"</td>     <td>"+n+'</td>     <td class="text-center">'+t.jml_sks+'</td>     <td class="text-center">     <div class="btn-group">        <a href="#edit?mk='+t.id_mk+'" class="btn btn-success btn-sm"><i class="fa fa-pencil-square"></i></a>         <a href="#hapus?mk='+t.id_mk+'" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i></a>     </div>     </td>  </tr>')}),$(".tbl-data-mk").find("tbody").append('<tr>  <td colspan="5" class="text-right">Jumlah Mata Kuliah</td>  <td colspan="2" class="text-center">'+t.record_mk.length+"</td></tr>"),$.each(e,function(a,t){$(".tbl-data-mk").find("tbody").append('<tr>  <td colspan="5" class="text-right">'+a+'</td>  <td colspan="2" class="text-center">'+t+"</td></tr>")})}else $.each(t.record_mk1,function(a,t){if(0!=t.jenis_jdl)e="(Konsentrasi "+t.nm_konsentrasi+")";else var e="";$("#form-input .id_pd_mk").val(t.id_pd_mk),$(".tbl-data-mk1").find("tbody").append('   <tr>     <td class="text-center"><input type="checkbox" class="check-data check-mk" name="id" value="'+t.id_mk+'" data-selected="check-mk" data-all-selected="check-all-mk" data-toggle=".edit-mk,.hapus"></td>     <td class="text-center">'+t.kode_mk+"</td>     <td>"+t.nama_mk+" <b>"+e+'</b></td>     <td class="text-center">'+t.jml_sks+'</td>     <td class="text-center">     <div class="btn-group">        <a href="#edit?mk='+t.id_mk+'" class="btn btn-success btn-sm"><i class="fa fa-pencil-square"></i></a>         <a href="#hapus?mk='+t.id_mk+'" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i></a>     </div>     </td>  </tr>')}),$.each(t.record_mk2,function(a,t){if(0!=t.jenis_jdl)e="(Konsentrasi "+t.nm_konsentrasi+")";else var e="";$(".tbl-data-mk2").find("tbody").append('   <tr>     <td class="text-center"><input type="checkbox" class="check-data check-mk" name="id" value="'+t.id_mk+'" data-selected="check-mk" data-all-selected="check-all-mk" data-toggle=".edit-mk,.hapus"></td>     <td class="text-center">'+t.kode_mk+"</td>     <td>"+t.nama_mk+" <b>"+e+'</b></td>     <td class="text-center">'+t.jml_sks+'</td>     <td class="text-center">     <div class="btn-group">        <a href="#edit?mk='+t.id_mk+'" class="btn btn-success btn-sm"><i class="fa fa-pencil-square"></i></a>         <a href="#hapus?mk='+t.id_mk+'" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i></a>     </div>     </td>  </tr>')});else $(".tbl-data-mk2").show(),$(".tbl-data-mk1, .tbl-data-mk2").find("tbody").html('<tr><td colspan="5" align="center">Belum ada mata kuliah yang di input</td></tr>'),$(".tbl-data-mk").find("tbody").html('<tr><td colspan="7" align="center">Belum ada mata kuliah yang di input</td></tr>');$(".hapus,.edit-mk").addClass("disabled"),$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"}),$(".box-daftar-mk").find("div.overlay").fadeOut(),$(".tamp-mk").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")}).catch(function(){$(".tamp-mk").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),$(".box-daftar-mk").find("div.overlay").fadeOut()})}function detail_nilai(a){$(".tbl-nilai-mhs").find("tbody").html('<tr><td colspan="7" class="text-center load-data">Memproses Data</td></tr>'),getJSON_async("http://"+host+controller_path+"/action/ambil",{thn:a,data:"data_nilai_mhs"},500,!0).then(function(a){if($(".tamp-nilai").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-file-text-o"),$(".tamp-all-nilai").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-files-o"),a.total_rows>0){$(".tbl-nilai-mhs").find("tbody").text(""),$(".photo-mhs").attr("src","http://"+host+"/siakad-uncp/uploads/default-photo/user-image.png"),""!=a.record_nilai[0].photo_mhs&&$(".photo-mhs").attr("src","http://"+host+"/siakad-uncp/uploads/mhs-photo/"+a.record_nilai[0].photo_mhs),$(".nama-ket").text(a.record_nilai[0].nama),$(".nim-ket").text(a.record_nilai[0].nisn),$(".nama-fakultas-ket").text(a.record_nilai[0].nama_fakultas),$(".nama-prodi-ket").text(a.record_nilai[0].nama_prodi),$(".jejang-prodi-ket").text(a.record_nilai[0].jenjang_prodi),$(".tahun-ajaran-ket").text(a.record_nilai[0].thn_ajaran_jdl);var t=1;$.each(a.record_nilai,function(a,e){$(".tbl-nilai-mhs").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.kode_mk+"</td>  <td>"+e.nama_mk+'</td>  <td class="text-center">'+e.jml_sks+'</td>  <td class="text-center">'+e.hm+'</td>  <td class="text-center">'+e.am+'</td>  <td class="text-center">'+e.mutu+"</td></tr>"),t++}),$(".tbl-nilai-mhs").find("tbody").append('<tr>  <td colspan="3" class="text-right">Jumlah SKS</td>  <td class="text-center">'+a.sks+'</td>  <td colspan="2"></td>  <td class="text-center">'+a.mutu+"</td></tr>")}else swal({title:"Info",text:"Tahun akademik / mahasiswa yang anda pilih tidak ada dalam database!",type:"info",timer:2e3})}).catch(function(a){$(".tamp-nilai").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-file-text-o"),$(".tamp-all-nilai").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-files-o")})}function thn_akademik_chart(a){$(".detail-jml-mhs .progress-bar").css("width","0%"),getJSON_async("http://"+host+controller_path+"/data_statistik",{thn_ak:a,data:"static_thn_ak"}).then(function(a){var t=1;$(".detail-jml-mhs").text(""),$(".title-thn-ak-static").text("Data Statistik Mahasiswa Berdasarkan Tahun Akademik "+a.thn_ak),$(".detail-jml-mhs").prepend('<p class="text-center"><strong>Keterangan</strong></p>'),$("#barchart-mhs-thn-ak").replaceWith('<canvas id="barchart-mhs-thn-ak" style="height: 315px; width: 510px;"></canvas>'),$.each(a.pd,function(a,e){$(".detail-jml-mhs").append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+e.color_detail+';"></i> '+e.no_prodi+": "+e.nama_prodi+" ("+e.jenjang_prodi+')</span>  <span class="progress-number">'+e.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+t+'" style="background-color:'+e.color_detail+';"></div>  </div></div>'),t++}),t=1,setTimeout(function(){$.each(a.pd,function(a,e){$(".p-bar-"+t).css("width",e.statik_mhs+"%"),t++})},100);var e=$("#barchart-mhs-thn-ak").get(0).getContext("2d"),s=new Chart(e),l={labels:a.nama_prodi,datasets:[{label:"Laki-Laki",fillColor:a.color,strokeColor:a.color,pointColor:a.color,pointStrokeColor:"#c1c7d1",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:a.mhs_lk},{label:"Perempuan",fillColor:a.color,strokeColor:a.color,pointColor:a.color,pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:a.mhs_pr}]},n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',responsive:!0,maintainAspectRatio:!0,multiTooltipTemplate:"<%= datasetLabel %>: <%= value %> Orang"};n.datasetFill=!1,s.Bar(l,n)})}function data_master_chart(a,t){$('a[href="#statik-fk"], .static-mhs-tab').find("span").removeClass("fa-bar-chart").addClass("fa-circle-o-notch fa-spin"),$("#statik-fk .load-row").remove(),$("#barchart-mhs-master-dt").height()<=315&&($("#statik-fk .chart-container, .static-tab .chart-container").hide(),$("#statik-fk, .static-tab").prepend('<div class="row load-row"><div class="col-md-12 text-center"><font class="load-data">Memproses Data</font></div></div>')),$(".detail-jml-mhs-dt .progress-bar").css("width","0%"),getJSON_async("http://"+host+controller_path+"/data_statistik",{thn_ak:a,data:t},500,!0).then(function(a){var e=1;if("static_mhs_thn_ak"==t?$(".title-master-dt").text("Data Statistik Mahasiswa Berdasarkan Tahun Akademik "+a.thn_ak):"static_mhs_thn_angkatan"==t&&$(".title-master-dt").text("Data Statistik Mahasiswa Berdasarkan Tahun Angkatan "+a.thn_ak),$('a[href="#statik-fk"], .static-mhs-tab').find("span").removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart"),$("#statik-fk .chart-container, .static-tab .chart-container").show(),$("#statik-fk .load-row, .static-tab .load-row").remove(),$(".detail-jml-mhs-dt").text(""),$(".detail-jml-mhs-dt").prepend('<p class="text-center"><strong>Keterangan</strong></p>'),$("#barchart-mhs-master-dt").replaceWith('<canvas id="barchart-mhs-master-dt" style="height: 335px; width: 510px;"></canvas>'),"static_mhs_fk"==t){s=a.nama_fk;$.each(a.fk,function(a,t){$(".detail-jml-mhs-dt").append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+t.color_detail+';"></i> '+t.nama_fakultas+'</span>  <span class="progress-number">'+t.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+e+'" style="background-color:'+t.color_detail+';"></div>  </div></div>'),e++}),e=1,setTimeout(function(){$.each(a.fk,function(a,t){$(".p-bar-"+e).css("width",t.statik_mhs+"%"),e++})},100)}else{var s=a.nama_prodi;$.each(a.pd,function(a,t){$(".detail-jml-mhs-dt").append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+t.color_detail+';"></i> '+t.no_prodi+": "+t.nama_prodi+" ("+t.jenjang_prodi+')</span>  <span class="progress-number">'+t.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+e+'" style="background-color:'+t.color_detail+';"></div>  </div></div>'),e++}),e=1,setTimeout(function(){$.each(a.pd,function(a,t){$(".p-bar-"+e).css("width",t.statik_mhs+"%"),e++})},100)}var l=$("#barchart-mhs-master-dt").get(0).getContext("2d"),n=new Chart(l),i={labels:s,datasets:[{label:"Laki-Laki",fillColor:a.color,strokeColor:a.color,pointColor:a.color,pointStrokeColor:"#c1c7d1",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:a.mhs_lk},{label:"Perempuan",fillColor:a.color,strokeColor:a.color,pointColor:a.color,pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:a.mhs_pr}]},d={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',responsive:!0,maintainAspectRatio:!0,multiTooltipTemplate:"<%= datasetLabel %>: <%= value %> Orang"};d.datasetFill=!1,n.Bar(i,d)}).catch(function(){$('a[href="#statik-fk"], .static-mhs-tab').find("span").removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart"),$("#statik-fk .load-row, .static-tab .load-row").remove()})}function load_backup_tbl(){$(".table-backup-db, .table-backup-tbl-db").find("tbody tr").html('<td colspan="3" class="text-center load-data">Memproses Data</td>'),getJSON_async("http://"+host+data_dashboard_path+"/action/ambil",{data:"backup_file",act:"get_file"},1e3).then(function(a){""!=a&&($(".table-backup-db, .table-backup-tbl-db").find("tbody tr").text(""),$(".table-backup-db, .table-backup-tbl-db").find("tbody tr").append('  <td>-</td>  <td class="text-center">-</td>  <td class="text-center">-</td>'),0!=a.backup_db.backup_detail&&$(".table-backup-db").find("tbody tr").html("  <td>"+a.backup_db.backup_db_name+'</td>  <td class="text-center">'+moment(a.backup_db.backup_detail.date).fromNow()+'</td>  <td class="text-center">    <div class="btn-group">      <a href="'+a.backup_db.download_path+'" class="btn btn-info btn-sm download-backup" title="Download Backup Database"><i class="fa fa-download"></i></a>       <a href="'+a.backup_db.backup_db_name+'" class="btn btn-danger btn-sm delete-backup" title="Hapus Backup Database"><i class="fa fa-trash"></i></a>    </div>  </td>'),0!=a.backup_db_tbl.backup_detail&&$(".table-backup-tbl-db").find("tbody tr").html("  <td>"+a.backup_db_tbl.backup_db_name+'</td>  <td class="text-center">'+moment(a.backup_db_tbl.backup_detail.date).fromNow()+'</td>  <td class="text-center">    <div class="btn-group">      <a href="'+a.backup_db_tbl.download_path+'" class="btn btn-info btn-sm" title="Download Backup Tabel Database"><i class="fa fa-download"></i></a>       <a href="'+a.backup_db_tbl.backup_db_name+'" class="btn btn-danger btn-sm delete-backup" title="Hapus Backup Tabel Database"><i class="fa fa-trash"></i></a>    </div>  </td>'))}).catch(function(a){})}function detail_akademik_mhs(){0==$(".tbl-riwayat-studi-mhs tr.table-load").length&&$(".tbl-riwayat-studi-mhs").find("tbody").append('<tr class="table-load"><td class="text-center load-data" colspan="5">Memproses Data</td></tr>'),0==$(".tbl-riwayat-kuliah-mhs tr.table-load").length&&$(".tbl-riwayat-kuliah-mhs").find("tbody").append('<tr class="table-load"><td class="text-center load-data" colspan="4">Memproses Data</td></tr>'),getJSON_async("http://"+host+controller_path+"/action/ambil",{in_mhs:id_data_akademik_u,data:"riwayat_akademik_mhs"},1e3).then(function(a){if(""!=a.record_akademik){$(".tbl-riwayat-studi-mhs, .tbl-riwayat-kuliah-mhs").find("tbody").text("");var t,e=1,s=1;$.each(a.record_akademik,function(a,l){if($(".tbl-riwayat-studi-mhs").find("tbody").append('<tr>  <td class="text-center">'+e+'</td>  <td class="text-center">'+l.thn_ajaran_jdl+'</td>  <td class="text-center">'+l.kode_mk+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+"</td></tr>"),e++,"Aktif"==l.status_aktif_mhs&&l.statik_aktif_mhs>=50)n='<button type="button" class="btn btn-success btn-sm" style="width:100px;pointer-events:none;cursor:default">  <b><i class="fa fa-check-circle"></i> Aktif</b></button>';else var n='<button type="button" class="btn btn-danger btn-sm" style="width:100px;pointer-events:none;cursor:default">  <b><i class="fa fa-times"></i> Tidak Aktif</b></button>';l.thn_ajaran_jdl!=t&&($(".tbl-riwayat-kuliah-mhs").find("tbody").append('<tr>  <td class="text-center">'+s+'</td>  <td class="text-center">'+l.thn_ajaran_jdl+'</td>  <td class="text-center">'+n+'</td>  <td class="text-center">'+l.total_sks+"</td></tr>"),s++,t=l.thn_ajaran_jdl)})}else $(".tbl-riwayat-kuliah-mhs").find("tbody").html('<tr>  <td colspan="4" align="center">Untuk saat ini, mahasiswa ini belum memiliki riwayat kuliah</td></tr>'),$(".tbl-riwayat-studi-mhs").find("tbody").html('<tr>  <td colspan="5" align="center">Untuk saat ini, mahasiswa ini belum memiliki riwayat studi</td></tr>')}).catch(function(a){1==$(".tbl-riwayat-studi-mhs tr.table-load").length&&$(".tbl-riwayat-studi-mhs tr.table-load td").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>"),1==$(".tbl-riwayat-kuliah-mhs tr.table-load").length&&$(".tbl-riwayat-kuliah-mhs tr.table-load td").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>"),setTimeout(function(){$(".tbl-riwayat-studi-mhs tr.table-load, .tbl-riwayat-kuliah-mhs tr.table-load").replaceWith("")},2e3)})}function detail_data_ptk(a){var t=null,e=null,s=null;if(null==a){$(".tbl-pend-ptk").find("tbody").html('<tr class="load-row"><td colspan="6" class="text-center load-data">Memproses Data</td></tr>'),$(".tbl-riwayat-ptk").find("tbody").html('<tr class="load-row"><td colspan="6" class="text-center load-data">Memproses Data</td></tr>'),$(".tbl-penelitian-ptk").find("tbody").html('<tr class="load-row"><td colspan="5" class="text-center load-data">Memproses Data</td></tr>');l=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_ptk:id_data_akademik_u,data:"detail_data_ptk",get_data:"all"})}else{"studi_ptk"==a?$(".tbl-pend-ptk").find("tbody").html('<tr><td colspan="6" class="text-center load-data">Memproses Data</td></tr>'):"penelitian_ptk"==a&&$(".tbl-penelitian-ptk").find("tbody").html('<tr><td colspan="5" class="text-center load-data">Memproses Data</td></tr>');var l=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_ptk:id_data_akademik_u,data:"detail_data_ptk",get_data:a})}l.then(function(l){if(null==a?(t=l.studi_ptk,e=l.riwayat_mengajar,s=l.penelitian_ptk):"studi_ptk"==a?t=l.studi_ptk:"penelitian_ptk"==a&&(s=l.penelitian_ptk),null!=t&&""!=t){var n=t;$(".tbl-pend-ptk").find("tbody").text("");d=1;$.each(n,function(a,t){$(".tbl-pend-ptk").find("tbody").append('<tr>  <td class="text-center">'+d+"</td>  <td>"+t.nama_pt_studi+'</td>  <td class="text-center">'+t.gelar_ak_ptk+'</td>  <td class="text-center">'+t.tgl_ijazah_ptk+'</td>  <td class="text-center">'+t.jenjang_studi_ptk+'</td>  <td class="text-center">    <div class="btn-group">      <a href="#edit?data=pend_ptk&studi_ptk='+t.in_studi+'" class="btn btn-success btn-sm" title="Edit Studi Tenaga Pendidik"><i class="fa fa-pencil-square"></i></a>      <a href="#hapus?data=pend_ptk&studi_ptk='+t.in_studi+'" class="btn btn-danger btn-sm" title="Hapus Studi Tenaga Pendidik"><i class="fa fa-trash"></i></a>    </div>  </td></tr>'),d++})}else null!=t&&""==t&&$(".tbl-pend-ptk").find("tbody").html('<tr>  <td colspan="6" align="center">Untuk saat ini, tenaga pendidik ini belum memiliki riwayat pendidikan</td></tr>');if(null!=e&&""!=e){$(".tbl-riwayat-ptk").find("tbody").text("");d=1;$.each(e,function(a,t){$(".tbl-riwayat-ptk").find("tbody").append('<tr>  <td class="text-center">'+d+'</td>  <td class="text-center">'+t.thn_ajaran_jdl+'</td>  <td class="text-center">'+t.kode_mk+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.kelas+"</td>  <td>"+t.nama_prodi+"</td></tr>"),d++})}else null!=e&&""==e&&$(".tbl-riwayat-ptk").find("tbody").html('<tr>  <td colspan="6" align="center">Untuk saat ini, tenaga pendidik ini belum memiliki riwayat mengajar</td></tr>');if(null!=s&&""!=s){var i=s;$(".tbl-penelitian-ptk").find("tbody").text("");var d=1;$.each(i,function(a,t){$(".tbl-penelitian-ptk").find("tbody").append('<tr>  <td class="text-center">'+d+"</td>  <td>"+t.judul_penelitian+'</td>  <td class="text-center">'+t.bidang_ilmu+"</td>  <td>"+t.lembaga+'</td>  <td class="text-center">    <div class="btn-group">      <a href="#edit?data=research_ptk&research_ptk='+t.in_research+'" class="btn btn-success btn-sm" title="Edit Data Penelitian Tenaga Pendidik"><i class="fa fa-pencil-square"></i></a>      <a href="#hapus?data=research_ptk&research_ptk='+t.in_research+'" class="btn btn-danger btn-sm" title="Hapus Data Penelitian Tenaga Pendidik"><i class="fa fa-trash"></i></a>    </div>  </td></tr>'),d++})}else null!=s&&""==s&&$(".tbl-penelitian-ptk").find("tbody").html('<tr>  <td colspan="5" align="center">Untuk saat ini, tenaga pendidik ini belum memiliki riwayat penelitian</td></tr>')}).catch(function(t){null==a?($(".tbl-pend-ptk").find("tbody").html('<tr><td colspan="6" class="text-center load-data">Terjadi kesalahan, <b>Error '+t.status+": "+t.statusText+"</b></td></tr>"),$(".tbl-riwayat-ptk").find("tbody").html('<tr><td colspan="6" class="text-center load-data">Terjadi kesalahan, <b>Error '+t.status+": "+t.statusText+"</b></td></tr>"),$(".tbl-penelitian-ptk").find("tbody").html('<tr><td colspan="5" class="text-center load-data">Terjadi kesalahan, <b>Error '+t.status+": "+t.statusText+"</b></td></tr>")):"studi_ptk"==a?$(".tbl-pend-ptk").find("tbody").html('<tr><td colspan="6" class="text-center load-data">Terjadi kesalahan, <b>Error '+t.status+": "+t.statusText+"</b></td></tr>"):"penelitian_ptk"==a&&$(".tbl-penelitian-ptk").find("tbody").html('<tr><td colspan="5" class="text-center load-data">Terjadi kesalahan, <b>Error '+t.status+": "+t.statusText+"</b></td></tr>")})}function line_chart_alumni_do(a,t,e,s,l){var n=$(l).get(0).getContext("2d"),i=new Chart(n),d={labels:a,datasets:[{label:"Laki-Laki",fillColor:s,strokeColor:s,pointColor:s,pointStrokeColor:"#c1c7d1",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:t},{label:"Perempuan",fillColor:s,strokeColor:s,pointColor:s,pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:e}]},o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',responsive:!0,maintainAspectRatio:!0,multiTooltipTemplate:"<%= datasetLabel %>: <%= value %> Orang"};o.datasetFill=!1,i.Bar(d,o)}function list_menu(a,t){$("#menu-set").find("div.overlay").fadeIn(),getJSON_async("http://"+host+data_dashboard_path+"/action/ambil",{act:"get",data:"list_menu",menu:a},500).then(function(t){if($("#menu-set").find("div.overlay").fadeOut(),null==t.login_rld||void 0==t.login_rld){if(t.total_rows>0){var e=new Promise(function(e,s){"all"==a?$("#admin-list-menu, #user-list-menu").html(""):"admin-menu"==a?$("#admin-list-menu").html(""):"user-menu"==a&&$("#user-list-menu").html(""),$.each(t.parents_menu,function(a,s){"admin"==s.level_access_menu?$("#admin-list-menu").append('<div class="panel box list" style="border-left: 4px solid '+s.color_menu+' !important;border:none;margin-bottom: 5px;margin-left: 1px;width: 99.7%" data-in-menu="'+s.id_menu+'" menu-type="main-menu">  <div class="box-header with-border">      <h4 class="box-title">        <span class="handle">            <i class="fa fa-sort"></i>          </span>          <a data-toggle="collapse" data-parent="#accordion" href="#box-main-menu-'+s.id_menu+'" aria-expanded="false" class="collapsed" style="color: '+s.color_menu+'">            <i class="'+s.icon_menu+'"></i> '+s.nm_menu+'          </a>      </h4>      <div class="box-tools pull-right">        <div class="btn-group">          <a href="#tambah?data=sub-menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-info btn-sm" title="Tambah sub menu pada menu '+s.nm_menu+'"><i class="fa fa-plus"></i></a>          <a href="#edit?data=menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-success btn-sm" title="Edit menu '+s.nm_menu+'"><i class="fa fa-pencil-square"></i></a>          <a href="#hapus?data=menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Menu '+s.nm_menu+'"><i class="fa fa-trash"></i></a>          <a href="'+s.link_menu+'" class="btn btn-warning btn-sm" title="Buka Link Menu '+s.nm_menu+'" target="blank"><i class="fa fa-external-link-square"></i></a>        </div>      </div>  </div>  <div id="box-main-menu-'+s.id_menu+'" class="panel-collapse collapse" aria-expanded="false">    <div class="box-body">        <font>Status: '+s.status+'</font>        <h6>Sub Menu:</h6>        <ul class="todo-list sub-menu-list-admin subs-menu-list" style="margin-bottom: -20px;margin-top: -25px;padding:20px 0px;color: '+s.color_menu+'" parent-menu="'+s.id_menu+'" url-menu="true" lvl-menu="'+s.level_access_menu+'">        </ul>    </div>  </div></div>'):"admin"!=s.level_access_menu&&$("#user-list-menu").append('<div class="panel box" style="border-left: 4px solid '+s.color_menu+' !important;border:none;margin-bottom: 5px;margin-left: 1px;width: 99.7%" data-in-menu="'+s.id_menu+'" menu-type="main-menu">  <div class="box-header with-border">      <h4 class="box-title">        <span class="handle">            <i class="fa fa-sort"></i>          </span>          <a data-toggle="collapse" data-parent="#accordion" href="#box-main-menu-'+s.id_menu+'" aria-expanded="false" class="collapsed" style="color: '+s.color_menu+'">            <i class="'+s.icon_menu+'"></i> '+s.nm_menu+'          </a>      </h4>      <div class="box-tools pull-right">        <div class="btn-group">          <a href="#tambah?data=sub-menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-info btn-sm" title="Tambah sub menu pada menu '+s.nm_menu+'"><i class="fa fa-plus"></i></a>          <a href="#edit?data=menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-success btn-sm" title="Edit menu '+s.nm_menu+'"><i class="fa fa-pencil-square"></i></a>          <a href="#hapus?data=menu&in_menu='+s.id_menu+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Menu '+s.nm_menu+'"><i class="fa fa-trash"></i></a>        </div>      </div>  </div>  <div id="box-main-menu-'+s.id_menu+'" class="panel-collapse collapse" aria-expanded="false">    <div class="box-body">        <font>Status: '+s.status+'</font>        <h6>Sub Menu:</h6>        <ul class="todo-list sub-menu-list-user subs-menu-list" style="margin-bottom: -20px;margin-top: -25px;padding:20px 0px; color: '+s.color_menu+'" parent-menu="'+s.id_menu+'" url-menu="false" lvl-menu="'+s.level_access_menu+'">        </ul>    </div>  </div></div>'),t.total_rows==a+1&&e()})}),s=new Promise(function(a,e){var s=t.sub_menu.length;$.each(t.sub_menu,function(t,e){$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"]").append('<li class="list" style="border-left:2px solid '+$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"]").css("color")+'" data-in-menu="'+e.id_sub_menu+'" menu-type="sub-menu">  <span class="handle">    <i class="fa fa-sort"></i>  </span>  <span class="fa fa-circle-o icon-list" style="color: '+$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"]").css("color")+'"></span>  <span class="text name-list" style="color: '+$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"]").css("color")+'">'+e.nm_sub_menu+'</span>  <div class="tools">    <label class="text-muted">Status: '+e.status+' - </label>    <a href="#edit?data=sub-menu&in_menu='+e.id_sub_menu+"&token="+token+'" style="padding-right:5px"><i class="fa fa-pencil-square text-green" title="Edit menu '+e.nm_sub_menu+'"></i></a>    <a href="#hapus?data=sub-menu&in_menu='+e.id_sub_menu+"&token="+token+'" style="padding-right:5px"><i class="fa fa-trash text-red" title="Hapus menu '+e.nm_sub_menu+'"></i></a>  </div></li>'),"true"==$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"]").attr("url-menu")&&$("ul.subs-menu-list[parent-menu="+e.id_parent_menu+"] li.list[data-in-menu="+e.id_sub_menu+"] .tools").append('<a href="'+e.link_sub_menu+'" target="blank"><i class="fa fa-external-link-square text-yellow" title="Buka link menu '+e.nm_sub_menu+'" style="padding-right:5px"></i></a>'),s==t+1&&a()})});"all"!=a&&"admin"!=a||sidebar_menu_reorder(t)}var l=[e,s];Promise.all(l).then(function(a){Sortable.create(document.getElementById("admin-list-menu"),{group:"#admin-list-menu",draggable:".panel",handle:"span.handle",animation:200,ghostClass:"sortable-ghost",dataIdAttr:"data-in-menu",onChoose:function(a){},onSort:function(a){$("#menu-set").find("div.overlay").fadeIn();var t=this.options;t.disabled=!0;var e=[];$("#admin-list-menu .panel").each(function(){e.push($(this).attr("data-in-menu"))}),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:e,menu_type:"main-menu",level:"admin",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):"failed_list"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):sidebar_menu_reorder()}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("admin-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan menu",type:"error"})})}}),Sortable.create(document.getElementById("user-list-menu"),{group:"#user-list-menu",draggable:".panel",handle:"span.handle",animation:200,ghostClass:"sortable-ghost",dataIdAttr:"data-in-menu",onChoose:function(a){},onSort:function(a){var t=this.options;t.disabled=!0,$("#menu-set").find("div.overlay").fadeIn();var e=[];$("#user-list-menu .panel").each(function(){e.push($(this).attr("data-in-menu"))}),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:e,menu_type:"main-menu",level:"user",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu")):"failed_list"==a.status&&(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu"))}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("user-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan menu",type:"error"})}),console.log(a),console.log(a.to),console.log(a.from)}}),$.each(document.getElementsByClassName("sub-menu-list-admin"),function(a,t){Sortable.create(t,{group:".sub-menu-list-admin",handle:"span.handle",animation:100,ghostClass:"sortable-ghost",dataIdAttr:"data-in-menu",onUpdate:function(a){$("#menu-set").find("div.overlay").fadeIn();var t=this.options;t.disabled=!0;var e,s=[];$.each(a.srcElement.attributes,function(t,s){"parent-menu"==a.srcElement.attributes[t].name&&(e=a.srcElement.attributes[t].nodeValue)}),$(".sub-menu-list-admin[parent-menu="+e+"] li.list").each(function(){s.push($(this).attr("data-in-menu"))}),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:s,parent_menu:e,menu_type:"sub-menu",level:"admin",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):"failed_list"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):sidebar_menu_reorder()}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("admin-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan sub menu",type:"error"})})},onAdd:function(a){$("#menu-set").find("div.overlay").fadeIn();var t=this.options;t.disabled=!0;var e,s=[];$.each(a.srcElement.attributes,function(t,s){"parent-menu"==a.srcElement.attributes[t].name&&(e=a.srcElement.attributes[t].nodeValue)}),$(".sub-menu-list-admin[parent-menu="+e+"] li.list").each(function(){s.push($(this).attr("data-in-menu"))});var l=$(".sub-menu-list-admin[parent-menu="+e+"]").css("color");$(".sub-menu-list-admin[parent-menu="+e+"] .list").css("border-left","2px solid "+l),$(".sub-menu-list-admin[parent-menu="+e+"] .list .icon-list, .sub-menu-list-admin[parent-menu="+e+"] .list .name-list").css("color",l),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:s,parent_menu:e,menu_type:"sub-menu",move_sub:!0,level:"admin",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):"failed_list"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("admin-menu")):sidebar_menu_reorder()}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("admin-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan sub menu",type:"error"})})}})}),$.each(document.getElementsByClassName("sub-menu-list-user"),function(a,t){Sortable.create(t,{group:".sub-menu-list-user[lvl-menu="+$(this).attr("lvl-menu")+"]",handle:"span.handle",animation:100,ghostClass:"sortable-ghost",dataIdAttr:"data-in-menu",onUpdate:function(a){$("#menu-set").find("div.overlay").fadeIn();var t=this.options;t.disabled=!0;var e,s=[];$.each(a.srcElement.attributes,function(t,s){"parent-menu"==a.srcElement.attributes[t].name&&(e=a.srcElement.attributes[t].nodeValue)}),$(".sub-menu-list-user[parent-menu="+e+"] li.list").each(function(){s.push($(this).attr("data-in-menu"))}),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:s,parent_menu:e,menu_type:"sub-menu",level:"user",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu")):"failed_list"==a.status&&(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu"))}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("user-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan sub menu",type:"error"})})},onAdd:function(a){$("#menu-set").find("div.overlay").fadeIn();var t=this.options;t.disabled=!0;var e,s=[];$.each(a.srcElement.attributes,function(t,s){"parent-menu"==a.srcElement.attributes[t].name&&(e=a.srcElement.attributes[t].nodeValue)}),$(".sub-menu-list-user[parent-menu="+e+"] li.list").each(function(){s.push($(this).attr("data-in-menu"))});var l=$(".sub-menu-list-user[parent-menu="+e+"]").css("color");$(".sub-menu-list-user[parent-menu="+e+"] .list").css("border-left","2px solid "+l),$(".sub-menu-list-user[parent-menu="+e+"] .list .icon-list, .sub-menu-list-user[parent-menu="+e+"] .list .name-list").css("color",l),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/update",{data:"sorting_menu",act:"sorting_menu",list_menu:s,parent_menu:e,menu_type:"sub-menu",move_sub:!0,level:"user",menu:a.item.dataset.inMenu,new_in:a.newIndex+1,old_in:a.oldIndex+1},500).then(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),"failed"==a.status?(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu")):"failed_list"==a.status&&(swal({title:"Error",html:a.message,type:"error"}),list_menu("user-menu"))}).catch(function(a){t.disabled=!1,$("#menu-set").find("div.overlay").fadeOut(),list_menu("user-menu"),swal({title:"Error",html:"Gagal memperbahrui urutan sub menu",type:"error"})})}})})}).catch(function(a){})}else 1==t.login_rld&&list_menu(a)}).catch(function(t){$("#menu-set").find("div.overlay").fadeOut(),void 0!=t.login_rld&&1==t.login_rld?list_menu(a):swal({title:"Error",html:"Terjadi error saat mengambil data menu",type:"error"})})}function sidebar_menu_reorder(a){if(null!=a)t=new Promise(function(t,e){t(a)});else var t=getJSON_async("http://"+host+data_dashboard_path+"/action/ambil",{act:"get",data:"list_menu",menu:"admin"},500);t.then(function(a){$("#menu-container").text(""),$.each(a.parents_menu,function(a,t){if("admin"==t.level_access_menu)if(t.sub_menu.length>0)$("#menu-container").append('<li class="treeview">  <a href="#">    <i class="'+t.icon_menu+'" style="color: '+t.color_menu+'"></i> <span style="color: '+t.color_menu+'">'+t.nm_menu+'</span>    <span class="pull-right-container">      <i class="fa fa-angle-left pull-right"></i>    </span>  </a>    <ul class="treeview-menu parent-menu-'+t.id_menu+'">    </ul>  </a></li>'),$.each(t.sub_menu,function(a,t){if(1==t.status_access_sub_menu)$("#menu-container ul.parent-menu-"+t.id_parent_menu).append('      <li><a href="'+t.link_sub_menu+'"><i class="fa fa-circle-o"></i> '+t.nm_sub_menu+"</a></li>");else{if(0==t.status_access_sub_menu)e={text:"Soon",class:"bg-green"};else if(2==t.status_access_sub_menu)e={text:"BETA",class:"bg-blue"};else if(3==t.status_access_sub_menu)var e={text:"Repair",class:"bg-red"};$("#menu-container ul.parent-menu-"+t.id_parent_menu).append('      <li>        <a href="'+t.link_sub_menu+'">           <i class="fa fa-circle-o"></i> '+t.nm_sub_menu+'           <span class="pull-right-container">              <small class="label pull-right '+e.class+'">'+e.text+"</small>           </span>        </a>    </li>")}});else if(1==t.status_access_menu)$("#menu-container").append('<li class="treeview">  <a href="'+t.link_menu+'" style="color: '+t.color_menu+'">    <i class="'+t.icon_menu+'"></i> <span>'+t.nm_menu+"</span>  </a></li>");else{if(0==t.status_access_menu)e={text:"Soon",class:"bg-green"};else if(2==t.status_access_menu)e={text:"BETA",class:"bg-blue"};else if(3==t.status_access_menu)var e={text:"Repair",class:"bg-red"};$("#menu-container").append('<li class="treeview">  <a href="'+t.link_menu+'" style="color: '+t.color_menu+'">    <i class="'+t.icon_menu+'"></i> <span>'+t.nm_menu+'</span>    <span class="pull-right-container">     <small class="label pull-right '+e.class+'">'+e.text+"</small>    </span>  </a></li>")}})}).catch(function(a){})}function check_array_exist(a,t){var e,s=a.length;return $.each(a,function(a,l){if(l==t)return e=!0,!1;a+1==s&&l!=t&&(e=!1)}),e}function rand_val(a){null==a&&(a=20);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",e=t.length,s="",l=1;l<=a;l++)s+=t[Math.floor(Math.random()*e)];return s}var path=window.location.pathname,host=window.location.hostname,id_data_akademik_u,load_interval,intval_vars,load_state=!1,element_vars=[],controller_path,dashboard_path_dt=[data_dashboard_path,data_dashboard_path+"/",data_dashboard_path+"/pengolahan_database",data_dashboard_path+"/pengaturan"],master_path_dt=[data_master_path+"/data_identitas_pt",data_master_path+"/data_fakultas_pstudi",data_master_path+"/data_angkatan",data_master_path+"/data_thn_akademik"],user_path_dt=[data_pengguna_path+"/data_pengguna_mahasiswa",data_pengguna_path+"/data_pengguna_ptk",data_pengguna_path+"/data_pengunjung"],akademik_path_dt=[data_akademik_path+"/data_mahasiswa",data_akademik_path+"/data_ptk",data_akademik_path+"/data_mata_kuliah",data_akademik_path+"/data_jadwal_kuliah",data_akademik_path+"/data_nilai_mhs",data_akademik_path+"/data_alumni_do"],delay=function(){var a=0;return function(t,e){clearTimeout(a),a=setTimeout(t,e)}}();1==check_array_exist(dashboard_path_dt,path)?controller_path=data_dashboard_path:1==check_array_exist(master_path_dt,path)?controller_path=data_master_path:1==check_array_exist(user_path_dt,path)?controller_path=data_pengguna_path:1==check_array_exist(akademik_path_dt,path)&&(controller_path=data_akademik_path),$(function(){$(document).ajaxSend(function(a,t,e){"[object FormData]"!=e.data&&e.data.search("csrf_key=")<0&&(e.data=e.data+"&csrf_key="+token)}),path==controller_path+"/data_identitas_pt"&&($("#tab-identitas-pt .detail-data-pt").text("-"),getJSON_async("http://"+host+controller_path+"/action/ambil",{data:"data_identitas_pt"},1e3).then(function(a){"empty"==a.status?($("#tab-identitas-pt .detail-data-pt").text("-"),$(".box").hide(),$("#tab-identitas-pt #profil").append('<p class="text-center empty-pt-dt">Belum ada data untuk identitas perguruan tinggi. Klik <a class="btn btn-info btn-sm form-identitas-pt"><span class="fa fa-pencil-square"></span></a> untuk input data identitas perguruan tinggi pertama kalinya.</p>')):($(".box").show(),$.each(a.data,function(a,t){$.each(t,function(a,t){""==t&&(t="-"),"website"==a&&$("#tab-identitas-pt ."+a).parents().attr("href","http://"+t),"rt"!=a&&"rw"!=a||$("#tab-identitas-pt ."+a).text(t),$("#tab-identitas-pt .detail-data-pt."+a).text(t)})}))}),$("#tab-identitas-sekolah #container-form-profil, #tab-identitas-sekolah #container-form-kontak").slimScroll({position:"right",height:"340"})),path==controller_path+"/pengolahan_database"&&load_backup_tbl(),path==controller_path+"/pengaturan"&&("undefined"==typeof Storage&&$("#settings-layout .body-settings-layout").prepend('<div class="row">  <div class="col-md-12">    <div class="callout callout-danger">      <h4><i class="fa fa-exclamation-circle"></i> Perhatian!</h4>      <p>Browser yang anda pakai tidak mendukung untuk pengaturan layout, tolong gunakan browser modern untuk bisa menggunakan pengaturan layout!</p>    </div>  </div></div>'),load_backup_tbl(),list_menu("all"),getJSON_async("http://"+host+controller_path+"/action/ambil",{data:"general_conf"}).then(function(a){$.each(a.config,function(a,t){$("#config-set dd.detail"+a).text(t)})}).catch(function(a){$("#config-set .detail-config-siakad").text("-")})),$(".default-overflow-container").slimScroll({position:"right",height:"340px"}),$(".container-form-mhs").slimScroll({position:"right",height:"265px"}),$("#container-detail-user-mhs").slimScroll({position:"right",height:"340px"}),$("#container-detail-user-ptk").slimScroll({position:"right",height:"250px"}),$("#settings-layout #row-layout-settings .box .box-footer").slimScroll({position:"right",height:"96px",distance:"2px"}),$(".datepicker").datepicker({format:"yyyy-mm-dd",autoclose:!0,language:"id"}),$(".timepicker").timepicker({showMeridian:!1,defaultTime:"14:08",showWidget:!0,minuteStep:1,timeFormat:"HH:mm"}),$(".timepicker").timepicker().on("changeTime.timepicker",function(a){var t=$(this).val();4==t.length&&$(this).val("0"+t)}),$(".datepicker").datepicker().on("changeDate",function(a){}).on("hide",function(a){a.preventDefault(),a.stopPropagation()}),$(".control-panel-data").mousewheel(function(a,t){a.preventDefault(),this.scrollLeft-=40*t}),moment.locale("id"),$("#user-widget-detail .user-last-time-login").text("Terakhir kali login "+moment($("#user-widget-detail .user-last-time-login").text()).fromNow()),$(window).hashchange(function(){var a=$.param.fragment();if($("#batal").text("Batal"),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$(".modal .load-data").replaceWith(""),$(".modal .modal-body").append('<p class="load-data text-center">Memproses Data</p>'),"tambah"==a)$(".modal .load-data").replaceWith(""),$("#myModal form, #myModal .list-selected, #myModal .data-message").hide(),$(".modal .submit-btn, .modal .submit-again-btn").show(),$("#myModal").modal("show"),$(".modal").addClass("modal-info"),modal_animated("zoomIn"),path.search("admin/data_master/data_angkatan")>0?($("#myModal #form-input").show(),$("#myModal .modal-title").text("Tambah Data Tahun Angkatan Mahasiswa")):path.search("admin/data_master/data_thn_akademik")>0?($("#myModal #form-input").show(),$("#myModal .modal-title").text("Tambah Data Tahun Akademik")):path.search("admin/data_akademik/data_mahasiswa")>0?($("#myModal .nav-tabs-custom").addClass("nav-info").removeClass("nav-success"),$("#form-input .photo-usr-edit-n").attr("src",$("#form-input .photo-usr-edit-n").attr("default-photo")),$("#form-input .photo-file-name").text("Nama File: -"),$("#form-input .remove-photo").hide(),$("#form-input #tab_media .box").removeClass("box-success").addClass("box-info"),$("#myModal #form-input, #form-input .ft-mhs-form").show(),$("#myModal .modal-title").text("Tambah Data Mahasiswa")):path.search("admin/data_akademik/data_ptk")>0?($("#myModal .nav-tabs-custom").addClass("nav-info").removeClass("nav-success"),$("#rincian-guru").hide(),$("#form-input .photo-usr-edit-n").attr("src",$("#form-input .photo-usr-edit-n").attr("default-photo")),$("#form-input .photo-file-name").text("Nama File: -"),$("#form-input .remove-photo").hide(),$("#form-input #tab_media .box").removeClass("box-success").addClass("box-info"),$("#myModal #form-input, #form-input .ft-mhs-form").show(),$("#myModal .modal-title").text("Tambah Data Tenaga Pendidik")):path.search("admin/data_akademik/data_mata_kuliah")>0?($("#myModal .nav-tabs-custom").addClass("nav-info").removeClass("nav-success"),$("#myModal .modal-title").text("Tambah Data Mata Kuliah"),$("#myModal #form-input").show(),$("#myModal #form-input-jadwal").hide()):path.search("admin/data_akademik/data_jadwal_kuliah")>0?($("#myModal #form-input-kls-mhs, #myModal #form-pindah-kelas, #myModal #form-input-jadwal").hide(),$("#myModal .nav-tabs-custom").addClass("nav-info").removeClass("nav-success"),$("#myModal .modal-title").text("Tambah Data Jadwal Kuliah"),$("#myModal #form-input").show()):path.search("admin/data_master/data_fakultas_pstudi")>0?($("#myModal #form-input").show(),$("#myModal #form-input-pstudi").hide(),$("#myModal .modal-title").text("Tambah Data Fakultas")):$("#myModal").modal("hide"),$("#myModal #form-input").attr("action","tambah"),$("#myModal #submit").text("Simpan"),$("#myModal #submit").prepend('<li class="fa fa-save"></li> '),$("#myModal #submit-again").prepend('<li class="fa fa-clone"></li> ');else if(0==a.search("tambah")){if(modal_animated("zoomIn"),$("#myModal form, #myModal .list-selected, #myModal .data-message").hide(),$("#myModal .submit-btn").attr("id","submit"),$("#myModal").modal("show"),$(".modal").addClass("modal-info"),$("#myModal #form-input").attr("action","tambah"),path.search("admin/data_akademik/data_mahasiswa")>0)if("alumni"==getUrlVars().data){$("#myModal .modal-title").text("Tambah Data Alumni"),$("#submit-again").hide();m=[];$(".check-siswa:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"alumni"},1e3)).then(function(a){if("alumni"==getUrlVars().data)if(a.total_rows>0){$("#form-input-alumni,#submit,.list-selected").show(),$(".list-selected").find("h5").text("Daftar Mahasiswa yang akan diinput kedalam data alumni:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else $(".data-message").show(),$("#submit,.list-selected").hide(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html(a.message),$("#batal").text("Tutup");else load_state=!0}).catch(function(){}):($(".data-message").show(),$("#submit,.list-selected").hide(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data mahasiswa yang diinput ke data alumni!"),$("#batal").text("Tutup"))}else if("drop_out"==getUrlVars().data){$("#myModal .modal-title").text("Tambah Data Mahasiswa Drop Out"),$("#submit-again").hide();m=[];$(".check-siswa:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"alumni"},1e3)).then(function(a){if("drop_out"==getUrlVars().data)if(a.total_rows>0){$("#form-input-mhs-do,#submit,.list-selected").show(),$(".list-selected").find("h5").text("Daftar Mahasiswa yang akan diinput kedalam data mahasiswa drop out:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else $(".data-message").show(),$("#submit,.list-selected").hide(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html(a.message),$("#batal").text("Tutup");else load_state=!0}).catch(function(){}):($(".data-message").show(),$("#submit,.list-selected").hide(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data mahasiswa yang diinput ke data mahasiswa drop out!"),$("#batal").text("Tutup"))}else $("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_ptk")>0){if("pend_ptk"==getUrlVars().data)$("#myModal .modal-title").text("Tambah Data Riwayat Pendidikan Tenaga Pendidik"),null!=(t=getUrlVars().in)&&""!=t?((e=[]).push(t),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:e,data:"check_ptk",check:"data_exists"},1e3)).then(function(a){a.total_rows>0&&($("#form-input-studi-ptk").show(),$("#form-input-studi-ptk .select2_ptk").prepend('<option value="'+t+'">'+a.data[0].nidn+" | "+a.data[0].nama+"</option>"))})):($("#myModal .submit-btn").html('<li class="fa fa-save"></li> Simpan').show(),$("#myModal .submit-again-btn").html('<li class="fa fa-clone"></li> Simpan dan Tambah').show(),$("#form-input-studi-ptk").show());else if("research_ptk"==getUrlVars().data){$("#myModal .modal-title").text("Tambah Data Penelitian Tenaga Pendidik");var t=getUrlVars().in;if(null!=t&&""!=t){var e=[];e.push(t),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:e,data:"check_ptk",check:"data_exists"},1e3)).then(function(a){a.total_rows>0&&($("#form-input-penelitian-ptk").show(),$("#form-input-penelitian-ptk .select2_ptk").prepend('<option value="'+t+'">'+a.data[0].nidn+" | "+a.data[0].nama+"</option>"))})}else $("#myModal .submit-btn").html('<li class="fa fa-save"></li> Simpan').show(),$("#myModal .submit-again-btn").html('<li class="fa fa-clone"></li> Simpan dan Tambah').show(),$("#form-input-penelitian-ptk").show()}}else if(path.search("admin/data_master/data_fakultas_pstudi")>0)if("prodi"==getUrlVars())$("#myModal #form-input-pstudi, .modal .submit-btn, .modal .submit-again-btn").show(),$("#myModal .modal-title").text("Tambah Program Studi"),$("#myModal #submit").text("Simpan"),$("#myModal #submit").prepend('<li class="fa fa-save"></li> '),$("#myModal #submit-again").prepend('<li class="fa fa-clone"></li> ');else if(void 0!=getUrlVars().fk){$("#myModal .modal-title").text("Tambah Program Studi");getUrlVars().fk;k=getUrlVars().i;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_fk:k,data:"data_fakultas"},1e3)).then(function(a){$("#form-input-pstudi").show(),""!=a.record?$("#form-input-pstudi .select2_fk").prepend('<option value="'+a.record[0].id_fk+'">'+a.record[0].nama_fakultas+"</option>"):$("#form-input-pstudi .select2_fk").text("")})}else if(void 0!=getUrlVars().prodi_kons)if($("#box-prodi").is(":visible")||$("#box-detail-fk").is(":visible")){$("#myModal .modal-title").text("Tambah Konsentrasi Program Studi");getUrlVars().prodi_kons;k=getUrlVars().i;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_pd:k,data:"data_prodi"},1e3)).then(function(a){$("#form-input-konsentrasi-pd").show(),""!=a.record_pd?$("#form-input-konsentrasi-pd .select2_prodi").prepend('<option value="'+a.record_pd[0].id_prodi+'">'+a.record_pd[0].nama_prodi+" ("+a.record_pd[0].jenjang_prodi+")</option>"):$("#form-input-konsentrasi-pd .select2_prodi").text("")})}else $("#myModal").modal("hide");else $("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_jadwal_kuliah")>0)void 0!=(p=getUrlVars()).kelas_mhs?($("#myModal .modal-title").text("Tambah Mahasiswa"),$("#box-kelas-mhs").is(":visible")?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{status_kelas:p.kelas_mhs,data:"status_jdl"},1e3)).then(function(a){1==a.status_jdl?$("#myModal #form-input-kls-mhs").show():($("#submit, #submit-again").hide(),$(".data-message").show(),$("#batal").text("Tutup"),0==a.status_jdl?$(".data-message .content-message").html("Maaf, anda tidak bisa menambah mahasiswa dikelas ini karena tahun akademik kelas ini sudah tidak diterapkan!"):$(".data-message .content-message").html("Maaf, kelas ini tidak terdaftar dalam database!"))}):$("#myModal").modal("hide")):$("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_alumni_do")>0)$("#alumni,#mhs-do").show(),$(".modal .load-data").replaceWith(""),$("#myModal .submit-btn").html('<li class="fa fa-save"></li> Simpan').show(),$("#myModal .submit-again-btn").html('<li class="fa fa-clone"></li> Simpan dan Tambah').show(),"alumni"==getUrlVars().data?($("#myModal .modal-title").text("Tambah Data Alumni"),$("#myModal #form-input").show()):"mhs_do"==getUrlVars().data?($("#myModal .modal-title").text("Tambah Data Mahasiswa Drop Out"),$("#myModal #form-input-mhs-do").show()):$("#myModal").modal("hide");else if(path.search("admin/pengaturan")>0){if(void 0!=(c=getUrlVars()).data&&"menu"==c.data){$("#myModal .modal-title").text("Tambah Data Menu"),$("#form-input-menu").show(),$("#myModal .submit-btn").text("Simpan");var s=c.lvl;$("#form-input-menu select.level_access_menu").val(s).trigger("change.select2")}else void 0!=c.data&&"sub-menu"==c.data&&($("#myModal .modal-title").text("Tambah Data Sub Menu"),$("#myModal .submit-btn").text("Simpan"),""!=c.in_menu&&(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_menu:c.in_menu,data:"data_menu"},500)).then(function(a){a.total_rows>0&&($("#form-input-sub-menu .select2_parent_menu").html(""),$("#form-input-sub-menu .select2_parent_menu").prepend('<option value="'+a.record_menu[0].id_menu+'">'+a.record_menu[0].nm_menu+"</option>")),$("#form-input-sub-menu").show()}));$("#myModal .submit-btn").attr("id","submit").html('<li class="fa fa-save"></li> Simpan</button>').show(),$("#myModal #batal").text("Batal")}else $("#myModal").modal("hide");void 0!=g?g.then(function(a){$("#myModal .submit-btn").attr("id","submit").html('<li class="fa fa-save"></li> Simpan</button>'),1==load_state&&0!=load_state?(load_state=!1,$(".modal .modal-body").append('<p class="load-data text-center">Memproses Data</p>'),$("#myModal form, #myModal .submit-btn, #myModal .list-selected").hide(),load_inval()):null!=a.total_rows&&a.total_rows>0||null!=a.status_jdl&&1==a.status_jdl||path.search("admin/data_master/data_fakultas_pstudi")>0&&void 0!=getUrlVars().fk||path.search("admin/data_master/data_fakultas_pstudi")>0&&void 0!=getUrlVars().prodi_kons?(void 0!=getUrlVars().data&&"alumni"==getUrlVars().data||void 0!=getUrlVars().data&&"drop_out"==getUrlVars().data?$(".modal .submit-btn").show():$(".modal .submit-btn, .modal .submit-again-btn").show(),$("#myModal .submit-btn").html('<li class="fa fa-save"></li> Simpan'),$("#myModal .submit-again-btn").html('<li class="fa fa-clone"></li> Simpan dan Tambah')):(null!=a.message&&""!=a.message&&($(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html(a.message)),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '))}).catch(function(a){$("#myModal .submit-btn").attr("id","submit").html('<li class="fa fa-save"></li> Simpan</button>').hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")}):$(".modal .load-data").remove()}else if(0==a.search("edit")){if($("#myModal form, #myModal .submit-again-btn, .data-message").hide(),$(".modal").addClass("modal-success"),$("#myModal").modal("show"),modal_animated("zoomIn"),path.search("admin/data_master/data_angkatan")>0){k=getUrlVars().thn;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{thn:k,data:"data_thn_angkatan"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input").show(),$.each(a.record_thn,function(a,t){"0000-00-00"!=t.tgl_masuk_angkatan&&($("#form-input input[name=tgl_masuk_angkatan]").val(t.tgl_masuk_angkatan),$("#form-input input[name=tgl_masuk_angkatan]").datepicker("update",new Date(t.tgl_masuk_angkatan))),$("#form-input input[name=thn_angkatan]").val(t.tahun_angkatan),$("#form-input #id_thn_angkatan").val(t.id_thn_angkatan)}))}),$("#myModal .modal-title").text("Edit Data Tahun Angkatan Mahasiswa")}else if(path.search("admin/data_master/data_thn_akademik")>0){k=getUrlVars().i;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{thn:k,data:"data_thn_akademik"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input").show(),$.each(a.record_thn,function(a,t){"tgl_mulai_thn_ajar"!=a&&"tgl_akhir_thn_ajar"!=a||$("#form-input ."+a).datepicker("update",new Date(t)),$("#form-input ."+a).val(t),$("#form-input ."+a).trigger("change.select2")}))}),$("#myModal .modal-title").text("Edit Data Tahun Akademik")}else if(path.search("admin/data_master/data_fakultas_pstudi")>0){if("fk"==(h=getUrlVars())[0]){k=getUrlVars().fk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_fk:k,data:"data_fakultas"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input").show(),$.each(a.record[0],function(a,t){$("#form-input ."+a).val(t),"akreditasi_fk"==a&&$("#form-input ."+a).trigger("change.select2"),"tgl_berdiri"==a&&$("#form-input ."+a).datepicker("update",new Date(t))}))}),$("#myModal .modal-title").text("Edit Data Fakultas"),$("#form-input-pstudi").hide()}else if("pd"==h[0]){k=getUrlVars().pd;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_pd:k,data:"data_prodi",act:"edit"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input-pstudi").show(),$.each(a.data,function(a,t){$.each(t,function(a,t){$("#form-input-pstudi ."+a).val(t),$("#form-input-pstudi ."+a).trigger("change.select2"),"tgl_berdiri_prodi"!=a&&"tgl_sk_prodi"!=a||$("#form-input-pstudi ."+a).datepicker("update",new Date(t))}),$("#form-input-pstudi .select2_fk").prepend('<option value="'+t.id_fk_pd+'">'+t.nama_fakultas+"</option>")}))}),$("#myModal .modal-title").text("Edit Data Program Studi"),$("#form-input").hide()}else if("konsentrasi_prodi"==h.data)if($("#box-detail-fk").is(":visible")){k=getUrlVars().konsentrasi;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:k,data:"data_konsentrasi_pd"},500)).then(function(a){a.total_rows>0&&($("#form-input-konsentrasi-pd").show(),$.each(a.data,function(a,t){$.each(t,function(a,t){$("#form-input-konsentrasi-pd ."+a).val(t)}),$("#form-input-konsentrasi-pd .select2_prodi").prepend('<option value="'+t.id_pd_konst+'">'+t.nama_prodi+" ("+t.jenjang_prodi+")</option>")}))}),$("#myModal .modal-title").text("Edit Konsentrasi Program Studi")}else $(".modal").modal("hide")}else if(path.search("admin/data_akademik/data_mahasiswa")>0){$("#myModal .nav-tabs-custom").addClass("nav-success").removeClass("nav-info"),$("#rincian-siswa").hide();k=getUrlVars().mhs;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:k,data:"data_mhs",ac:""},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input, #myModal #submit").show(),$("#form-input .select2_prodi").text(""),$("#form-input .ft-mhs-form").show(),$("#form-input #tab_media .box").addClass("box-success").removeClass("box-info"),$.each(a.record_mhs,function(a,t){$.each(t,function(a,t){"0"!=t&&""!=t&&"0000-00-00"!=t||(t=""),"photo_mhs"!=a&&$("#form-input ."+a).val(t),"jk"==a&&$("#form-input ."+t).iCheck("check"),"tgl_lhr"==a&&"0000-00-00"!=t&&""!=t&&$("#form-input ."+a).datepicker("update",new Date(t)),$("#form-input select."+a).trigger("change.select2")}),1==t.check_file?($("#form-input .photo-usr-edit-n").attr("src",t.photo_mhs),$("#form-input .photo-file-name").text("Nama File: "+t.file_name),$("#form-input .remove-photo").show()):($("#form-input .photo-usr-edit-n").attr("src",t.photo_mhs).attr("default-photo",t.photo_mhs),$("#form-input .new-photo-usr").attr("default-photo",t.photo_mhs),$("#form-input .photo-file-name").text("Nama File: -"),$("#form-input .remove-photo").hide()),null!=t.nama_prodi?$("#form-input .select2_prodi").prepend('<option value="'+t.id_pd_mhs+'">'+t.nama_prodi+" ("+t.jenjang_prodi+")</option>"):$("#form-input .select2_prodi").text(""),null!=t.tahun_angkatan?$("#form-input .select2_thn_angkatan").prepend('<option value="'+t.thn_angkatan+'">'+t.tahun_angkatan+"</option>"):$("#form-input .select2_thn_angkatan").text(""),$("#form-input .photo-plc").val(t.photo_mhs)}))}),$("#myModal .modal-title").text("Edit Data Mahasiswa")}else if(path.search("admin/data_akademik/data_ptk")>0){if(null==(d=getUrlVars()).data){$("#myModal .nav-tabs-custom").addClass("nav-success").removeClass("nav-info");k=getUrlVars().ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_ptk:k,data:"data_ptk",ac:""},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input").show(),$("#form-input .ft-mhs-form").show(),$("#form-input #tab_media .box").addClass("box-success").removeClass("box-info"),$.each(a.record_ptk,function(a,t){$.each(t,function(a,t){"0"!=t&&"0000-00-00"!=t||(t=""),"jk_ptk"==a?$("#form-input input[value="+t+"]").iCheck("check"):"tgl_lhr_ptk"==a&&$("#form-input input[name="+a+"]").datepicker("update",new Date(t)),"photo_ptk"!=a&&$("#form-input ."+a).val(t),$("#form-input select[name="+a+"]").trigger("change.select2")}),1==t.check_file?($("#form-input .photo-usr-edit-n").attr("src",t.photo_ptk),$("#form-input .photo-file-name").text("Nama File: "+t.file_name),$("#form-input .remove-photo").show()):($("#form-input .photo-usr-edit-n").attr("src",t.photo_ptk),$("#form-input .new-photo-usr").attr("default-photo",t.photo_mhs),$("#form-input .photo-file-name").text("Nama File: -"),$("#form-input .remove-photo").hide()),$("#form-input .select2_prodi").prepend('<option value="'+t.id_prodi+'">'+t.nama_prodi+" ("+t.jenjang_prodi+")</option>")}))}),$("#myModal .modal-title").text("Edit Data Tenaga Pendidik")}else if("pend_ptk"==d.data){k=getUrlVars().studi_ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_studi:k,data:"data_studi_ptk"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input-studi-ptk").show(),$.each(a.studi_ptk,function(a,t){$.each(t,function(a,t){"0"!=t&&"0000-00-00"!=t||(t=""),"tgl_ijazah_ptk"==a?$("#form-input-studi-ptk input[name="+a+"]").datepicker("update",new Date(t)):$("#form-input-studi-ptk ."+a).val(t)}),$("#form-input-studi-ptk .select2_ptk").prepend('<option value="'+t.id_ptk_studi+'">'+t.nidn+" | "+t.nama+"</option>")}))}),$("#myModal .modal-title").text("Edit Data Riwayat Pendidikan Tenaga Pendidik")}else if("research_ptk"==d.data){k=getUrlVars().research_ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_penelitian_ptk:k,data:"data_penelitian_ptk"},500)).then(function(a){a.total_rows>0&&(Pace.restart(),$("#myModal #form-input-penelitian-ptk").show(),$.each(a.penelitian_ptk,function(a,t){$.each(t,function(a,t){"0"!=t&&"0000-00-00"!=t||(t=""),$("#form-input-penelitian-ptk ."+a).val(t)}),$("#form-input-penelitian-ptk .select2_ptk").prepend('<option value="'+t.id_ptk_rsch+'">'+t.nidn+" | "+t.nama+"</option>")}))}),$("#myModal .modal-title").text("Edit Data Penelitian Tenaga Pendidik")}}else if(path.search("admin/data_akademik/data_mata_kuliah")>0)if(null!=(k=getUrlVars().mk))(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_mk:k,data:"data_mk"},500)).then(function(a){a.total_rows>0&&($("#myModal #form-input").show(),$.each(a.record_mk,function(a,t){$.each(t,function(a,t){"id_pd_mk"==a&&"nama_prodi"==a||($("#form-input ."+a).val(t),$("#form-input ."+a).trigger("change.select2"))}),$("#form-input .select2_prodi").html('<option value="'+t.id_pd_mk+'">'+t.nama_prodi+" ("+t.jenjang_prodi+")</option>"),0!=t.jenis_jdl&&null!=t.nm_konsentrasi&&$("#form-input .select2_konsentrasi_mk").html('<option value="'+t.jenis_jdl+'">'+t.nm_konsentrasi+"</option>")}))}),$("#myModal .modal-title").text("Edit Data Mata Kuliah");else{$("#myModal .modal-title").text("Edit Data Mata Kuliah");m=[];$(".check-mk:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mk",check:"data_exists"},1e3)).then(function(a){if(a.total_rows>0){$(".list-selected").show().find("h5").text("Daftar Data Mata Kuliah yang akan diperbahrui:"),$("#form-edit-mk, #myModal .data-message").show(),$("#myModal #submit").attr("id","update-mk").text("Update"),$(".data-message .content-message").addClass("centered-text").html("Anda akan memperbahrui&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbspmata kuliah<br>"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){if(0!=e.jenis_jdl)s=" <b>(Konsentrasi "+e.nm_konsentrasi+")</b>";else var s="";$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.kode_mk+"</td>  <td>"+e.nama_mk+s+"</td></tr>"),t++})}}):($(".data-message").show(),$(".data-message .content-message").addClass("centered-content").html("Silahkan pilih data mata kuliah yang ingin diedit!"),$("#submit, #update-mk").hide(),$("#batal").text("Tutup"))}else if(path.search("admin/data_akademik/data_jadwal_kuliah")>0)if($("#box-jadwal, #box-kelas-mhs").is(":visible"))if("jadwal"==(p=getUrlVars())){k=getUrlVars().jadwal;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_jdl:k,data:"data_jadwal_kuliah",act:"get"},500)).then(function(a){a.total_rows>0&&$.each(a.record_jdl,function(a,t){if(1==t.status_jdl){if($("#myModal #form-input").show(),$.each(t,function(a,t){$("#form-input ."+a).val(t)}),"0"!=t.jenis_jdl)e=" (Konsentrasi "+t.nm_konsentrasi+")";else var e="";$("#form-input .select2_thn_akademik").html('<option value="'+t.id_thn_ak_jdl+'">'+t.thn_ajaran_jdl+"</option>"),$("#form-input .select2_mk").html('<option value="'+t.id_mk_jdl+'">'+t.kode_mk+" | "+t.nama_mk+e+"</option>"),$("#form-input .select2_ptk").html('<option value="'+t.id_ptk_jdl+'">'+t.nuptk+" | "+t.nama_ptk+"</option>"),$("#form-input .select2").trigger("change.select2")}else $(".data-message").show(),$(".data-message .content-message").html("Maaf, anda tidak bisa mengedit data jadwal ini karena tahun akademik jadwal ini sudah tidak diterapkan!")})}),$("#myModal .modal-title").text("Edit Data Jadwal Kuliah")}else"kelas"==p?((g=getJSON_async("http://"+host+controller_path+"/action/ambil",{status:p.kelas,data:"status_jdl"},500)).then(function(a){1==a.status_jdl?($("#myModal #form-pindah-kelas").show(),$("#form-pindah-kelas .jumlah").html("Silahkan pilih kelas mahasiswa yang akan diperbahrui")):($("#submit, #submit-again,#submit,#myModal #form-pindah-kelas").hide(),$(".data-message").show(),$("#batal").text("Tutup"),0==a.status_jdl?$(".data-message .content-message").html("Maaf, anda tidak bisa memindahkan kelas mahasiswa saat ini!"):$(".data-message .content-message").html("Maaf, kelas ini tidak terdaftar dalam database!"))}),$("#myModal .modal-title").text("Edit Kelas Mahasiswa")):"kls_mhs"==p&&($("#myModal .modal-title").text("Edit Data Kelas"),$("#myModal #form-input-kls-mhs, #form-input").hide(),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{status_kelas:getUrlVars().kls_mhs,data:"status_jdl"},1e3)).then(function(a){if(1==a.status_jdl){$(".modal .modal-body").append('<p class="load-data text-center">Memproses Data</p>');var t=[];if($(".check-mhs-kls:checked").each(function(){t.push($(this).attr("data-search"))}),t.length>0)return getJSON_async("http://"+host+controller_path+"/action/ambil",{id:t,data:"check_mhs",check:"data_exists",kls_mhs:getUrlVars().kls_mhs});$(".data-message").show(),$(".data-message .content-message").html("Silahkan pilih mahasiswa yang ingin anda pindahkan!"),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> ')}else $(".data-message").show(),0==a.status_jdl?$(".data-message .content-message").html("Maaf, anda tidak bisa memindahkan mahasiswa ke kelas lain saat ini karena tahun akademik kelas ini sudah tidak diterapkan!"):$(".data-message .content-message").html("Maaf, kelas ini tidak terdaftar dalam database!")}).then(function(a){if(void 0!=a)if(a.total_rows>0){$("#myModal #submit").attr("id","pindah-kelas").text("Update").prepend('<li class="fa fa-pencil-square"></li> '),$("#myModal #form-pindah-kelas").show(),$("#form-pindah-kelas .jumlah").html("Anda akan memindahkan&nbsp<b>"+a.data.length+" data</b>&nbspmahasiswa ke kelas lain!, silahkan pilih kelas yang dituju"),$(".list-selected").show().find("h5").text("Daftar data mahasiswa yang akan dipindah kelas:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else null!=a.message&&""!=a.message&&($(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html(a.message),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '))}));else $("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_alumni_do")>0)if($("#alumni,#mhs-do").hide(),null!=getUrlVars().alumni&&void 0!=getUrlVars().alumni){$("#myModal .modal-title").text("Edit Data Alumni");o=getUrlVars().alumni;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_alumni:o,data:"check_mhs",check:"data_exists"},500)).then(function(a){if(a.total_rows>0){$("#myModal #form-input,.list-selected").show(),$(".list-selected").show().find("h5").text("Data alumni yang akan diedit:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++}),$.each(a.data[0],function(a,t){"0000-00-00"!=t&&""!=t||(t=""),$("#form-input ."+a).val(t)})}})}else if(null!=getUrlVars().mhs_do&&void 0!=getUrlVars().mhs_do){$("#myModal .modal-title").text("Edit Data Mahasiswa Drop Out");r=getUrlVars().mhs_do;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_mhs_do:r,data:"check_mhs",check:"data_exists"},500)).then(function(a){if(a.total_rows>0){$("#myModal #form-input-mhs-do,.list-selected").show(),$(".list-selected").show().find("h5").text("Data mahasiswa drop out yang akan diedit:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++}),$.each(a.data[0],function(a,t){"0000-00-00"!=t&&""!=t||(t=""),$("#form-input-mhs-do ."+a).val(t)})}})}else if("data-selected"==getUrlVars()){if(0==$(".select2_data").val()){$("#myModal .modal-title").text("Hapus Data Alumni");var l="alumni",n="alumni",i="#form-input"}else if(1==$(".select2_data").val()){$("#myModal .modal-title").text("Hapus Data Mahasiswa Drop Out");var l="mahasiswa drop out",n="mhs_do",i="#form-input-mhs-do"}$(".data-message").show().find(".content-message").text("");m=[];$(".check-mhs-dt:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"data_exists",data_check:n},1e3)).then(function(a){if(a.total_rows>0){$("#myModal "+i).show(),$(".list-selected").show().find("h5").text("Daftar data "+l+" yang akan diedit:"),$(".data-message .content-message").addClass("centered-text").html("Anda akan mengedit&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbsp"+l+" !"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}}):($(".data-message .content-message").addClass("centered-content").html("Silahkan pilih data "+l+" yang ingin diedit!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"))}else $("#myModal").modal("hide");else path.search("admin/pengaturan")>0?void 0!=(c=getUrlVars()).data&&"menu"==c.data?($("#myModal .modal-title").text("Edit Data Menu"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_menu:c.in_menu,data:"data_menu"},500)).then(function(a){a.total_rows>0&&($("#form-input-menu").show(),$.each(a.record_menu[0],function(a,t){$("#form-input-menu ."+a).val(t).focus().blur(),$("#form-input-menu select."+a).trigger("change.select2")}))})):void 0!=c.data&&"sub-menu"==c.data&&($("#myModal .modal-title").text("Edit Data Sub Menu"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_menu:c.in_menu,data:"data_sub_menu"},500)).then(function(a){a.total_rows>0&&($("#form-input-sub-menu").show(),$.each(a.record_menu[0],function(a,t){$("#form-input-sub-menu ."+a).val(t).focus().blur(),$("#form-input-sub-menu select."+a).trigger("change.select2")}),null!=a.record_menu[0].in_menu&&$("#form-input-sub-menu .select2_parent_menu").prepend('<option value="'+a.record_menu[0].in_menu+'">'+a.record_menu[0].nm_menu+"</option>"))})):$("#myModal").modal("hide");void 0!=g?(Pace.restart(),g.then(function(a){null!=a.total_rows&&a.total_rows>0||null!=a.status_jdl&&1==a.status_jdl?($("#myModal #form-input").attr("action","update"),$("#myModal .submit-btn").text("Update").prepend('<li class="fa fa-pencil-square"></li> ').show()):(null!=a.message&&""!=a.message&&($(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html(a.message)),$(".modal .submit-btn, .modal .submit-again-btn, .modal .list-selected").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '))}).catch(function(a){$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '),$(".modal .submit-btn, .modal .submit-again-btn, .modal .list-selected").hide(),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")})):$(".modal .load-data").remove()}else if(0==a.search("hapus")){if($("#myModal").modal("show"),$("#myModal form, #myModal #submit-again, .data-message").hide(),$(".modal").addClass("modal-danger"),modal_animated("zoomIn"),path.search("admin/data_akademik/data_mahasiswa")>0){$("#rincian-siswa").hide(),$("#form-pindah-kelas").hide();k=getUrlVars().mhs;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id:k,data:"data_mhs"},500)).then(function(a){a.total_rows>0&&$.each(a.record_mhs,function(a,t){$(".data-message, #submit").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data mahasiswa <strong>"+t.nama+"</strong> dengan NIM <strong>"+t.nisn+"</strong> ?"),$("#form-input .id").attr("value",t.id)})}),$("#myModal .modal-title").text("Hapus Data Mahasiswa")}else if(path.search("admin/data_akademik/data_ptk")>0){var d=getUrlVars();if(null==d.data){k=getUrlVars().ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_ptk:k,data:"data_ptk"},500)).then(function(a){a.total_rows>0&&$.each(a.record_ptk,function(a,t){$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data tenaga pendidik dengan nama <strong>"+t.nama_ptk+"</strong> dan NIDN <strong>"+t.nuptk+"</strong> ?"),$(".id_ptk").attr("value",t.id_ptk)})}),$("#myModal .modal-title").text("Hapus Data Tenaga Pendidik")}else if("pend_ptk"==d.data){$("#form-input-studi-ptk .select2_ptk").text("");k=getUrlVars().studi_ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_studi:k,data:"data_studi_ptk"},500)).then(function(a){a.total_rows>0&&$.each(a.studi_ptk,function(a,t){$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data pendidikan (Perguruan tinggi <b>"+t.nama_pt_studi+"</b> studi <b>"+t.studi_ptk+" "+t.jenjang_studi_ptk+"</b> dengan gelar <b>"+t.gelar_ak_ptk+"</b>) tenaga pendidik dengan nama <strong>"+t.nama+"</strong> dan NIDN <strong>"+t.nidn+"</strong> ?"),$("#form-input-studi-ptk .select2_ptk").prepend('<option value="'+t.id_ptk_studi+'">'+t.nidn+" | "+t.nama+"</option>"),$("#form-input-studi-ptk .id_studi").val(t.id_studi)})}),$("#myModal .modal-title").text("Hapus Data Riwayat Pendidikan Tenaga Pendidik")}else if("research_ptk"==d.data){$("#form-input-penelitian-ptk .select2_ptk").text("");k=getUrlVars().research_ptk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_penelitian_ptk:k,data:"data_penelitian_ptk"},500)).then(function(a){a.total_rows>0&&$.each(a.penelitian_ptk,function(a,t){$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data penelitian (Judul <b>"+t.judul_penelitian+"</b> dibidang <b>"+t.bidang_ilmu+"</b> pada lembaga <b>"+t.lembaga+"</b>) tenaga pendidik dengan nama <strong>"+t.nama+"</strong> dan NIDN <strong>"+t.nidn+"</strong> ?"),$("#form-input-penelitian-ptk .select2_ptk").prepend('<option value="'+t.id_ptk_rsch+'">'+t.nidn+" | "+t.nama+"</option>"),$("#form-input-penelitian-ptk .id_penelitian_ptk").val(t.id_penelitian_ptk)})}),$("#myModal .modal-title").text("Hapus Data Penelitian Tenaga Pendidik")}}else if(path.search("admin/data_akademik/data_mata_kuliah")>0){k=getUrlVars().mk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_mk:k,data:"data_mk"},500)).then(function(a){a.total_rows>0&&$.each(a.record_mk,function(a,t){if(0!=t.jenis_jdl)e=" (Konsentrasi "+t.nm_konsentrasi+")";else var e="";$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus mata kuliah <strong>"+t.nama_mk+e+"</strong> program studi <strong>"+t.nama_prodi+" ("+t.jenjang_prodi+")</strong> ?"),$("#form-input .id_mk").val(t.id_mk),$("#form-input .id_pd_mk").val(t.id_pd_mk).text(t.nama_prodi)})}),$("#myModal .modal-title").text("Hapus Data Mata Kuliah")}else if(path.search("admin/data_akademik/data_jadwal_kuliah")>0)if($("#box-jadwal, #box-kelas-mhs").is(":visible")){if("jadwal"==getUrlVars()[0]){k=getUrlVars().jadwal;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_jdl:k,data:"data_jadwal_kuliah"},500)).then(function(a){a.total_rows>0&&$.each(a.record_jdl,function(a,t){if(1==t.status_jdl){var e=t.thn_ajaran_jdl.split("/");if(1==e[1])s=e[0]+"/Ganjil";else var s=e[0]+"/Genap";if("0"!=t.jenis_jdl)l=" (Konsentrasi "+t.nm_konsentrasi+")";else var l="";$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus jadwal mata kuliah <strong>"+t.nama_mk+l+"</strong> kelas <strong>"+t.semester+"/"+t.kelas+"</strong> pada program studi <strong>"+t.nama_prodi+"</strong> tahun akademik <strong>"+s+"</strong> ?"),$("#form-input .id_jdl").val(t.id_jdl+"/"+t.id_pd_mk+"/"+t.id_thn_ak_jdl)}else $("#myModal #submit").hide(),$(".data-message").show(),$("#batal").text("Tutup"),$(".data-message .content-message").addClass("centered-content").html("Maaf, anda tidak bisa menghapus data jadwal ini karena tahun akademik jadwal ini sudah tidak diterapkan!")})}),$("#myModal .modal-title").text("Hapus Data Jadwal Kuliah")}else if("kelas"==getUrlVars()[0]){k=getUrlVars().kelas;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_kls:k,data:"kelas_mhs"},500)).then(function(a){a.total_rows>0&&$.each(a.record_mhs,function(a,t){if(1==t.status_jdl){var e=t.thn_ajaran_jdl.split("/");if(1==e[1])s=e[0]+"/Ganjil";else var s=e[0]+"/Genap";if("0"!=t.jenis_jdl)l=" (Konsentrasi "+t.nm_konsentrasi+")";else var l="";$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus mahasiswa <strong>"+t.nama+"</strong> dengan NIM <strong>"+t.nisn+"</strong> dari daftar mahasiswa kelas <strong>"+t.semester+"/"+t.kelas+"</strong> mata kuliah <strong>"+t.nama_mk+l+"</strong> pada program studi <strong>"+t.nama_prodi+"</strong> tahun akademik <strong>"+s+"</strong> ?"),$("#form-input .id_jdl").val(t.id_kelas+"/"+t.id_jdl_kls)}else $("#myModal #submit").hide(),$(".data-message").show(),$("#batal").text("Tutup"),$(".data-message .content-message").html("Maaf, anda tidak bisa menghapus daftar mahasiswa dikelas ini karena tahun akademik jadwal ini sudah tidak diterapkan!")})}),$("#myModal .modal-title").text("Hapus Data Kelas")}}else $("#myModal").modal("hide");else if(path.search("admin/data_master/data_fakultas_pstudi")>0)if("fk"==(h=getUrlVars())[0]){k=getUrlVars().fk;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_fk:k,data:"data_fakultas"},500)).then(function(a){a.total_rows>0&&$.each(a.record_fk,function(a,t){$(".data-message").show(),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data fakultas&nbsp<strong>"+t.nama_fakultas+"</strong>&nbsp?").addClass("centered-text"),$("#form-input .id_fk").attr("value",t.id_fk)})}),$("#myModal .modal-title").text("Hapus Data Fakultas")}else if("pd"==h[0]){k=getUrlVars().pd;(g=getJSON_async("http://"+host+controller_path+"/action/ambil_id",{id_pd:k,data:"data_prodi"},500)).then(function(a){a.total_rows>0&&$.each(a.record_pd,function(a,t){$(".data-message").show(),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data program studi&nbsp<strong>"+t.nama_prodi+" ("+t.jenjang_prodi+")</strong>&nbsp?").addClass("centered-text"),$("#form-input-pstudi .id_prodi").attr("value",t.id_prodi),$("#form-input-pstudi .id_fk_pd").attr("value",t.id_fk_pd)})}),$("#myModal .modal-title").text("Hapus Data Program Studi")}else if("konsentrasi_prodi"==h.data)if($("#box-detail-fk").is(":visible")){k=getUrlVars().konsentrasi;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:k,data:"data_konsentrasi_pd"},500)).then(function(a){a.total_rows>0&&$.each(a.data,function(a,t){$(".data-message").show(),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus data konsentrasi&nbsp<strong>"+t.nm_konsentrasi+"</strong>&nbsp pada program studi <strong>"+t.nama_prodi+" ("+t.jenjang_prodi+")</strong>&nbsp?").addClass("centered-text"),$("#form-input-konsentrasi-pd .select2_prodi").prepend('<option value="'+t.id_pd_konst+'">'+t.nama_prodi+" ("+t.jenjang_prodi+")</option>"),$("#form-input-konsentrasi-pd .id_konst").attr("value",t.id_konst)})}),$("#myModal .modal-title").text("Hapus Konsentrasi Program Studi")}else $(".modal").modal("hide");else $("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_alumni_do")>0)if(null!=getUrlVars().alumni){var o=getUrlVars().alumni;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_alumni:o,data:"check_mhs",check:"data_exists",data_check:"alumni"},500)).then(function(a){a.total_rows>0&&$.each(a.data,function(a,t){$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content").html("Apakah anda yakin ingin menghapus data alumni <strong>"+t.nama+"</strong> dengan NIM <strong>"+t.nim+"</strong> ?"),$(".in_mhs").attr("value",t.in_data)})}),$("#myModal .modal-title").text("Hapus Data Alumni")}else if(null!=getUrlVars().mhs_do){$("#myModal .modal-title").text("Edit Data Mahasiswa Drop Out");var r=getUrlVars().mhs_do;(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_mhs_do:r,data:"check_mhs",check:"data_exists",data_check:"mhs_do"},500)).then(function(a){a.total_rows>0&&$.each(a.data,function(a,t){$(".data-message").show(),$(".data-message .content-message").removeClass("centered-content").html("Apakah anda yakin ingin menghapus data mahasiswa drop out <strong>"+t.nama+"</strong> dengan NIM <strong>"+t.nim+"</strong> ?"),$(".in_mhs").attr("value",t.in_data)})})}else $("#myModal").modal("hide");else if(path.search("admin/pengaturan")>0){var c=getUrlVars();void 0!=c.data&&"menu"==c.data?($("#myModal .modal-title").text("Hapus Data Menu"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_menu:c.in_menu,data:"data_menu"},500)).then(function(a){a.total_rows>0&&$.each(a.record_menu,function(a,t){$(".data-message, #submit").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html('Apakah anda yakin ingin menghapus menu <strong style=""><span class="'+t.icon_menu+'"></span> '+t.nm_menu+"</strong>, Level Akses Menu <strong>"+t.level_access_menu+"</strong> ?"),$("#form-input-menu .id_menu").attr("value",t.id_menu)})})):void 0!=c.data&&"sub-menu"==c.data&&($("#myModal .modal-title").text("Hapus Data Sub Menu"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{in_menu:c.in_menu,data:"data_sub_menu"},500)).then(function(a){a.total_rows>0&&$.each(a.record_menu,function(a,t){$(".data-message, #submit").show(),$(".data-message .content-message").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus sub menu <strong>"+t.nm_sub_menu+"</strong>, Parent Menu <strong>"+t.nm_menu+"</strong> ?"),$("#form-input-sub-menu .id_sub_menu").attr("value",t.id_sub_menu)})}))}else $("#myModal").modal("hide");void 0!=g?g.then(function(a){a.total_rows>0?($("#myModal #form-input").attr("action","delete"),$("#myModal #submit").text("Hapus").show().prepend('<li class="fa fa-trash"></li> ')):($("#myModal form,#myModal .submit-btn, #myModal .submit-again-btn, #myModal .list-selected").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '),$(".data-message").show(),$(".data-message .content-message").addClass("centered-content").html("Data yang ingin anda hapus tidak ditemukan"))}).catch(function(a){$("#myModal form, .modal .submit-btn, .modal .submit-again-btn, .list-selected").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")}):$(".modal .load-data").remove()}else if("delete_selected"==a||0==a.search("delete_selected")){if($("#myModal form, #submit-again").hide(),$(".modal").addClass("modal-danger"),$("#myModal").modal("show"),$(".data-message").show().find(".content-message").text(""),modal_animated("zoomIn"),path.search("admin/data_akademik/data_mahasiswa")>0){$("#form-pindah-kelas").hide(),$("#rincian-siswa").hide(),$("#myModal .modal-title").text("Hapus Data Mahasiswa");m=[];$(".check-siswa:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"data_exists"},1e3)).then(function(a){if(a.total_rows>0){$(".list-selected").show().find("h5").text("Daftar data mahasiswa yang akan dihapus:"),$(".data-message .content-message").addClass("centered-text"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbspmahasiswa ?"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else $(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html(a.message),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup")}):($(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data mahasiswa yang ingin dihapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"))}else if(path.search("admin/data_akademik/data_ptk")>0){$(".data-message").show(),$("#rincian-guru").hide(),$("#myModal .modal-title").text("Hapus Data PTK");m=[];$(".check-guru:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_ptk",check:"data_exists"},1e3)).then(function(a){if(a.total_rows>0){$(".list-selected").show().find("h5").text("Daftar data tenaga pendidik yang akan dihapus:"),$(".data-message .content-message").addClass("centered-text"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbsptenaga pendidik ?"),$(".list-selected .list-ptk-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-ptk-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nidn+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else $(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Tenaga Pendidik yang anda pilih tidak ada didalam database atau sudah terhapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup")}):($(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data tenaga pendidik yang ingin dihapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"))}else if(path.search("admin/data_master/data_fakultas_pstudi")>0){var m=[],p=getUrlVars();if("fk"==p){u="data_fk";$(".check-fk:checked").each(function(){m.push($(this).val())})}else if("pd"==p){var u="data_pd";$(".check-prodi:checked").each(function(){m.push($(this).val())})}$(".data-message").show(),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_data_master",check:u},1e3)).then(function(a){$(".data-message .content-message").addClass("centered-text"),a.total_rows>0?"fk"==p?$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.total_rows+"&nbspdata</strong>&nbspFakultas ?"):"pd"==p&&$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.total_rows+"&nbspdata</strong>&nbspProgram Studi ?"):"fk"==p?$(".data-message .content-message").html("Data fakultas yang anda ingin hapus tidak ditemukan dalam database!"):"pd"==p&&$(".data-message .content-message").html("Data program studi yang anda ingin hapus tidak ditemukan dalam database!")}):($(".data-message .content-message").addClass("centered-content"),"fk"==p?$(".data-message .content-message").html("Silahkan pilih data Fakultas yang ingin dihapus!"):"pd"==p&&$(".data-message .content-message").html("Silahkan pilih data Program Studi yang ingin dihapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup")),"fk"==p?$("#myModal .modal-title").text("Hapus Data Fakultas"):"pd"==p&&$("#myModal .modal-title").text("Hapus Data Program Studi")}else if(path.search("admin/data_akademik/data_mata_kuliah")>0){$(".data-message").show(),$("#myModal .modal-title").text("Hapus Data Mata Kuliah");m=[];$(".check-mk:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mk",check:"data_exists"},1e3)).then(function(a){if(a.total_rows>0){$(".list-selected").show().find("h5").text("Daftar data mata kuliah yang akan dihapus:"),$("#myModal #submit").attr("id","delete-selected"),$(".data-message .content-message").addClass("centered-text"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbspmata kuliah ?"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){if(0!=e.jenis_jdl)s=" <b>(Konsentrasi "+e.nm_konsentrasi+")</b>";else var s="";$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.kode_mk+"</td>  <td>"+e.nama_mk+s+"</td></tr>"),t++})}}):($(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data mata kuliah yang ingin dihapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"))}else if(path.search("admin/data_akademik/data_jadwal_kuliah")>0)if($("#box-jadwal").is(":visible")||$("#box-kelas-mhs").is(":visible")){var h=getUrlVars();if($(".data-message").show(),"jadwal"==h.data){$("#myModal #form-input-kls-mhs").hide(),$("#myModal .modal-title").text("Hapus Data Jadwal Kuliah");m=[];$(".check-jadwal:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_jadwal",check:"data_exists"},1e3)).then(function(a){a.total_rows>0&&($(".data-message .content-message").addClass("centered-text").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.total_rows+"&nbspdata</strong>&nbspjadwal kuliah ?"))}):($(".data-message .content-message").addClass("centered-content"),$("#submit, #delete-selected").hide(),$(".data-message .content-message").html("Silahkan pilih jadwal kuliah yang ingin dihapus!"))}else"kls_mhs"==h.data&&($("#myModal #form-input-kls-mhs").hide(),$("#myModal .modal-title").text("Hapus Data Kelas"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{status_kelas:getUrlVars().kls_mhs,data:"status_jdl"},1e3)).then(function(a){if(1==a.status_jdl){$(".modal .modal-body").append('<p class="load-data text-center">Memproses Data</p>');var t=[];if($(".check-mhs-kls:checked").each(function(){t.push($(this).attr("data-search"))}),t.length>0)return getJSON_async("http://"+host+controller_path+"/action/ambil",{id:t,data:"check_mhs",check:"data_exists",kls_mhs:getUrlVars().kls_mhs});$(".data-message .content-message").addClass("centered-content"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"),$(".data-message .content-message").html("Silahkan pilih mahasiswa yang ingin dihapus dari kelas ini!")}else $("#submit, #submit-again").hide(),$(".data-message").show(),$("#batal").text("Tutup"),0==a.status_jdl?$(".data-message .content-message").html("Maaf, anda tidak bisa menghapus mahasiswa dari kelas ini karena tahun akademik kelas ini sudah tidak diterapkan!"):$(".data-message .content-message").html("Maaf, kelas ini tidak terdaftar dalam database!")}).then(function(a){if(void 0!=a)if(a.total_rows>0){$("#myModal #submit").attr("id","delete-selected"),$(".data-message .content-message").addClass("centered-text").removeClass("centered-content"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbspmahasiswa dari kelas ini ?"),$(".list-selected").show().find("h5").text("Daftar data mahasiswa yang akan hapus dari kelas ini:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else null!=a.message&&""!=a.message&&($(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html(a.message),$(".modal .submit-btn, .modal .submit-again-btn").hide(),$("#myModal #batal").text("Tutup").prepend('<li class="fa fa-times"></li> '))}))}else $("#myModal").modal("hide");else if(path.search("admin/data_akademik/data_alumni_do")>0){if(0==$(".select2_data").val()){$("#myModal .modal-title").text("Hapus Data Alumni");var f="alumni",n="alumni"}else if(1==$(".select2_data").val()){$("#myModal .modal-title").text("Hapus Data Mahasiswa Drop Out");var f="mahasiswa drop out",n="mhs_do"}$(".data-message").show();m=[];$(".check-mhs-dt:checked").each(function(){m.push($(this).val())}),(y=m.length)>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"data_exists",data_check:n},1e3)).then(function(a){if(a.total_rows>0){$(".list-selected").show().find("h5").text("Daftar data "+f+" yang akan dihapus:"),$("#myModal #submit").attr("id","delete-selected"),$(".data-message .content-message").addClass("centered-text"),$(".data-message .content-message").html("Apakah anda yakin ingin menghapus&nbsp<strong>"+a.data.length+"&nbspdata</strong>&nbsp"+f+" ?"),$(".list-selected .list-mhs-selected").find("tbody").text("");var t=1;$.each(a.data,function(a,e){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+t+'</td>  <td class="text-center">'+e.nim+"</td>  <td>"+e.nama+"</td></tr>"),t++})}else $(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html(a.message),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup")}):($(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data "+f+" yang ingin dihapus!"),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup"))}else $("#myModal").modal("hide");void 0!=g?g.then(function(a){null!=a.total_rows&&a.total_rows>0||null!=a.status_jdl&&1==a.status_jdl?($("#myModal #form-input").attr("action","delete"),$("#myModal #submit").attr("id","delete-selected").html('<li class="fa fa-trash"></li> Hapus').show(),$("#myModal #delete-selected").html('<li class="fa fa-trash"></li> Hapus').show()):(null!=a.message&&""!=a.message&&($(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html(a.message)),$(".modal .submit-btn, .modal .submit-again-btn, .modal .list-selected").hide(),$("#myModal #batal").html('<li class="fa fa-times"></li> Tutup')),$("#myModal form").hide()}).catch(function(a){$("#myModal #batal").html('<li class="fa fa-times"></li> Tutup'),$(".modal .submit-btn, .modal .submit-again-btn, .modal .list-selected").hide(),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")}):$(".modal .load-data").remove()}else if(0==a.search("detail")){if($("#submit, #submit-again, .data-message").hide(),$("#batal").text("Tutup"),modal_animated("zoomIn"),path.search("admin/data_akademik/data_mahasiswa")>0||path.search("admin/data_akademik/data_alumni_do")>0)$("#submit").show(),null!=getUrlVars().mhs?id_data_akademik_u=getUrlVars().mhs:null!=getUrlVars().alumni?(id_data_akademik_u=getUrlVars().alumni,$("#box-detail-mhs .box-title").text("Detail Data Alumni"),$("#box-detail-mhs").attr("data-detail","alumni")):null!=getUrlVars().mhs_do&&(id_data_akademik_u=getUrlVars().mhs_do,$("#box-detail-mhs .box-title").text("Detail Data Mahasiswa Drop Out"),$("#box-detail-mhs").attr("data-detail","mhs_do")),$(".detail-mhs-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-id-card").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+controller_path+"/action/ambil",{id:id_data_akademik_u,data:"data_mhs"},500,!0).then(function(a){$(".detail-mhs-btn").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-id-card"),a.total_rows>0?(detail_akademik_mhs(),$("#box-detail-mhs").is(":visible")&&($("#detail-mhs .close-tab, #detail-mhs .close-dt-tab").removeClass("active"),$("#detail-mhs .close-tab").find("a").attr("aria-expanded","false"),$("#detail-mhs .open-tab, #detail-mhs .open-dt-tab").addClass("active"),$("#detail-mhs .open-tab").find("a").attr("aria-expanded","true"),$("#box-detail-mhs .detail-data-mhs").text("")),$("#box-detail-mhs").slideDown().attr("data-search",id_data_akademik_u),$("html, body").animate({scrollTop:$("#box-detail-mhs").offset().top-55},1e3),$.each(a.record_mhs,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t&&null!=t||(t="-"),"jk"==a&&"L"==t?t="Laki - Laki":"jk"==a&&"P"==t&&(t="Perempuan"),"active_status"==a&&(t="1"==t?"Aktif":"Nonaktif"),"last_online"==a&&(t="0000-00-00 00:00:00"!=t?moment(t).fromNow():"Belum pernah login"),$("#box-detail-mhs .detail-"+a).text(t)}),1==t.status_verifikasi_mhs?$("#box-detail-mhs .detail-status-data").replaceWith('<button type="button" class="btn btn-success btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_mhs+'"><b><i class="fa fa-check-square-o"></i> Terverifikasi</b></button>'):2==t.status_verifikasi_mhs?$("#box-detail-mhs .detail-status-data").replaceWith('<button type="button" class="btn btn-danger btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_mhs+'"><b><i class="fa fa-times"></i> Data Salah</b></button>'):0==t.status_verifikasi_mhs&&$("#box-detail-mhs .detail-status-data").replaceWith('<button type="button" class="btn btn-default btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_mhs+'"><b><i class="fa fa-warning"></i> Belum Diverifikasi</b></button>'),null!=t.tgl_lulus&&null==t.tgl_drop_out?($("#box-detail-mhs .detail-status").text(t.status_mhs),$("#box-detail-mhs .list-tgl-kelulusan-mhs").show(),$("#box-detail-mhs .list-tgl-do-mhs, #box-detail-mhs .list-tgl-masuk").hide()):null==t.tgl_lulus&&null!=t.tgl_drop_out?($("#box-detail-mhs .detail-status").text(t.status_mhs),$("#box-detail-mhs .list-tgl-do-mhs").show(),$("#box-detail-mhs .list-tgl-kelulusan-mhs, #box-detail-mhs .list-tgl-masuk").hide()):($("#box-detail-mhs .list-tgl-kelulusan-mhs,#box-detail-mhs .list-tgl-do-mhs").hide(),$("#box-detail-mhs .detail-status").text(t.status_mhs),$("#box-detail-mhs .list-tgl-masuk").show()),$(".photo-mhs-detail").attr("src",t.photo_mhs),$("#box-detail-mhs .detail-nama_prodi").text(t.nama_prodi+" ("+t.jenjang_prodi+")"),$("#box-detail-mhs .change-pass-user").val("user-"+t.id_user+"-"+t.nisn+"-"+t.in_user),$("#box-detail-mhs").find("div.overlay").fadeOut()})):(window.history.pushState(null,null,path),swal({title:"Info",text:"Maaf, data mahasiswa yang anda cari tidak ditemukan!",type:"info",timer:2e3}))}).catch(function(){$(".detail-mhs-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-fa-circle-o-notch fa-spin").addClass("fa-times"),setTimeout(function(){$(".detail-mhs-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-times fa-fa-circle-o-notch fa-spin").addClass("fa-id-card")},1e3)}),$("#myModal .modal-title").text("Detail Data Mahasiswa");else if(path.search("admin/data_akademik/data_ptk")>0)id_data_akademik_u=getUrlVars().ptk,$("#box-ptk").find("div.overlay").fadeIn(),$(".detail-ptk-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-id-card").addClass("fa-circle-o-notch fa-spin"),(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_ptk:id_data_akademik_u,data:"data_ptk"},500,!0)).then(function(a){a.total_rows>0?(detail_data_ptk(),$("#box-ptk").is(":visible")&&($("#detail-ptk .close-tab, #detail-ptk .close-dt-tab").removeClass("active"),$("#detail-ptk .close-tab").find("a").attr("aria-expanded","false"),$("#detail-ptk .open-tab, #detail-ptk .open-dt-tab").addClass("active"),$("#detail-ptk .open-tab").find("a").attr("aria-expanded","true"),$("#box-ptk .detail-data-ptk").text("")),$("#box-ptk").slideDown().attr("data-search",id_data_akademik_u),$("html, body").animate({scrollTop:$("#box-ptk").offset().top-55},1e3),$.each(a.record_ptk,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t&&"0000-00-00"!=t||(t="-"),"active_status"==a&&(t="1"==t?"Aktif":"Nonaktif"),"jk_ptk"==a&&"L"==t?t="Laki - Laki":"jk_ptk"==a&&"P"==t&&(t="Perempuan"),"last_online"==a&&(t="0000-00-00 00:00:00"!=t?moment(t).fromNow():"Belum pernah login"),$("#box-ptk .detail-"+a).text(t)}),1==t.status_verifikasi_ptk?$("#box-ptk .detail-status-data").replaceWith('<button type="button" class="btn btn-success btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_ptk+'"><b><i class="fa fa-check-square-o"></i> Terverifikasi</b></button>'):2==t.status_verifikasi_ptk?$("#box-ptk .detail-status-data").replaceWith('<button type="button" class="btn btn-danger btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_ptk+'"><b><i class="fa fa-times"></i> Data Salah</b></button>'):0==t.status_verifikasi_ptk&&$("#box-ptk .detail-status-data").replaceWith('<button type="button" class="btn btn-default btn-block dt-vld detail-status-data" data-status="'+t.status_verifikasi_ptk+'"><b><i class="fa fa-warning"></i> Belum Diverifikasi</b></button>'),$(".photo-ptk-detail").attr("src",t.photo_ptk),$("#box-ptk .detail-nama_prodi").text(t.nama_prodi+" ("+t.jenjang_prodi+")"),$("#box-ptk .change-pass-user").val("user-"+t.id_user+"-"+t.nuptk+"-"+t.in_user)})):(window.history.pushState(null,null,path),swal({title:"Info",text:"Maaf, data tenaga pendidik yang anda cari tidak ditemukan!",type:"info",timer:2e3})),$(".detail-ptk-btn").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-id-card"),$("#box-ptk").find("div.overlay").fadeOut()}).catch(function(){$(".detail-ptk-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-times"),setTimeout(function(){$(".detail-ptk-btn[data-search="+id_data_akademik_u+"]").find("i").removeClass("fa-times fa-circle-o-notch fa-spin").addClass("fa-id-card")},1e3)}),$("#myModal .modal-title").text("Detail Data Tenaga Pendidik");else if((path.search("admin/")>0||path.search("admin")>0)&&"id_user"==getUrlVars()[0]){$("#myModal #rincian-ptk, #myModal #rincian-mhs").hide(),$("#myModal").modal("show"),$(".modal").addClass("modal-warning");var k=getUrlVars().id_user,b=getUrlVars().level;(g=getJSON_async("http://"+host+controller_path+"/dashboard/data_statistik/pengguna",{id:k,level:b},500)).then(function(a){a.total_rows>0?"mhs"==a.data?($("#myModal #rincian-mhs").show(),$("#myModal #rincian-ptk").hide(),$("#myModal #rincian-ptk").find("dd").text(""),$.each(a.record,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t||(t="-"),"jk"==a&&"L"==t?t="Laki - Laki":"jk"==a&&"P"==t&&(t="Perempuan"),$("#rincian-mhs #detail-"+a).text(t)}),$("#rincian-mhs #detail-nama_prodi").text(t.nama_prodi+" ("+t.jenjang_prodi+")")})):($("#myModal #rincian-ptk").show(),$("#myModal #rincian-mhs").hide(),$("#myModal #rincian-mhs").find("dd").text(""),$.each(a.record,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t||(t="-"),"jk_ptk"==a&&"L"==t?t="Laki - Laki":"jk_ptk"==a&&"P"==t&&(t="Perempuan"),$("#rincian-ptk #detail-"+a).text(t)}),$("#rincian-ptk #detail-nama_prodi").text(t.nama_prodi+" ("+t.jenjang_prodi+")")})):($("#myModal #rincian-mhs, #myModal #rincian-ptk").hide(),$("#myModal .data-message .content-message").html("Maaf, data yang anda cari tidak ditemukan"),$(".data-message").show())}).catch(function(a){$("#myModal #rincian-mhs, #myModal #rincian-ptk").hide(),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")}),$("#myModal .modal-title").text("Detail Data Pengguna")}}else if(0==a.search("data"))if(modal_animated("zoomIn"),path.search("admin/data_master/data_thn_akademik")>0){var _=getUrlVars().i,g=getJSON_async("http://"+host+controller_path+"/action/ambil",{thn_ak:_,data:"check_thn_ak"},500);$(".detail-data-thn-ak[data-search="+_+"]").find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),g.then(function(a){if($(".detail-data-thn-ak").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),"success"==a.status){var t="Data Mahasiswa Tahun Akademik "+a.thn_akademik;$("#box-mhs .box-title").text(t),Pace.restart(),$.fn.dataTable.ext.errMode="none",data_mhs_master("thn_akademik",_),$(document).bind("ajaxError",function(){swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}),$(".static-mhs-tab").attr("href","#static-"+_),$(".static-tab").attr("id","static-"+_),$(".static-tab").removeClass("active"),$(".static-mhs-tab").parents("li").removeClass("active"),$(".static-mhs-tab").attr("aria-expanded","false"),$("#daftar-mhs-thn-ak, .tab-daftar-mhs-thn-ak").addClass("active"),$(".tab-daftar-mhs-thn-ak").find("a").attr("aria-expanded","true")}else swal({title:"Info",text:"Tahun akademik yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3})}).catch(function(){$(".detail-data-thn-ak").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")})}else if(path.search("admin/data_master/data_angkatan")>0){var v=getUrlVars().mhs,g=getJSON_async("http://"+host+controller_path+"/action/ambil",{thn_ak:v,data:"check_thn_angkatan"},500);$(".detail-data-thn-mhs[data-search="+v+"]").find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),g.then(function(a){if($(".detail-data-thn-mhs").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),"success"==a.status){var t="Data Mahasiswa Tahun Angkatan "+a.thn_angkatan;$("#box-mhs .box-title").text(t),Pace.restart(),$.fn.dataTable.ext.errMode="none",data_mhs_master("thn_angkatan",v),$(document).bind("ajaxError",function(){swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}),$(".static-mhs-tab").attr("href","#static-"+v),$(".static-tab").attr("id","static-"+v),$(".static-tab").removeClass("active"),$(".static-mhs-tab").parents("li").removeClass("active"),$(".static-mhs-tab").attr("aria-expanded","false"),$("#daftar-mhs-thn-ak, .tab-daftar-mhs-thn-ak").addClass("active"),$(".tab-daftar-mhs-thn-ak").find("a").attr("aria-expanded","true")}else swal({title:"Info",text:"Tahun angkatan yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3})}).catch(function(){$(".detail-data-thn-mhs").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list")})}else if(path.search("admin/data_master/data_fakultas_pstudi")>0){if("fk"==getUrlVars()[0]){k=getUrlVars().i;$(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active"),data_detail_fk(k)}else if("pd"==getUrlVars()[0])if($("#box-detail-fk").is(":visible")){var x,k=getUrlVars().pd,g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id_pd:k,data:"data_prodi"},null,!0);$(".data-detail-prodi[data-search="+k+"]").find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),g.then(function(a){$(".data-detail-prodi").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),""!=a.data?(collapse_box("#detail-prodi .box"),$.each(a.data,function(a,t){x=t.id_fk,$(".detail-prodi").find("a").html('<span class="fa fa-list"></span> Detail Prodi '+t.nama_prodi),$.each(t,function(a,t){""==t||"0000-00-00"==t||"0"==t?(t="-",$("#detail-prodi span."+a).text(t)):$("#detail-prodi span."+a).text(t+" Orang"),$("#detail-prodi dd."+a).text(t)})}),$("#box-detail-fk").is(":hidden")&&data_detail_fk(x),$(".detail-prodi, .close-dt-pd-bt").fadeIn(),daftar_konsentrasi(null,k)):(window.history.pushState(null,null,path),swal({title:"Info",text:"Program Studi yang anda pilih tidak ada didalam database!",type:"info",timer:2e3}))}).catch(function(){$(".data-detail-prodi").find("i").removeClass("fa-circle-o-notch fa-spin").addClass("fa-list"),window.history.pushState(null,null,path)})}else window.history.pushState(null,null,path)}else path.search("admin/data_akademik/data_alumni_do")>0&&($("#myModal").modal("show"),$("#myModal .modal-dialog").addClass("modal-lg"),$(window).width()>=1243?$(".modal-lg").css("width","1200px"):$(window).width()>=1030&&$(".modal-lg").css("width","1000px"),$(".modal").addClass("modal-warning"),$("form,.submit-btn,.submit-again-btn").hide(),$("#myModal .data-statistik-mhs").hide(),$("#batal").text("Tutup"),$("#myModal .modal-title").text("Data Statistik"),setTimeout(function(){getJSON_async("http://"+host+controller_path+"/data_statistik/alumni",null,500).then(function(a){if($("#myModal .data-statistik-mhs").show(),$("#statistik-alumni").is(":visible"))var t="#barchart-alumni",e='<canvas id="barchart-alumni" class="chart" style="height: 300px; width: 510px;"></canvas>',s=".detail-jml-alumni";else if($("#statistik-mhs-do").is(":visible"))var t="#barchart-mhs-do",e='<canvas id="barchart-mhs-do" class="chart" style="height: 300px; width: 510px;"></canvas>',s=".detail-jml-mhs-do";$(t).replaceWith(e),line_chart_alumni_do(a.nama_prodi,a.mhs_lk,a.mhs_pr,a.color,t),$(s).text(""),$(s).prepend('<p class="text-center"><strong>Keterangan</strong></p>');var l=1;$.each(a.pd,function(a,t){$(s).append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+t.color_detail+';"></i> Prodi '+l+": "+t.nama_prodi+" ("+t.jenjang_prodi+')</span>  <span class="progress-number">'+t.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+l+'" style="background-color:'+t.color_detail+';"></div>  </div></div>'),l++}),l=1,delay(function(){$.each(a.pd,function(a,t){$(s+" .p-bar-"+l).css("width",t.statik_mhs+"%"),l++})},100)})},200));else if(0==a.search("pindah_prodi")){if($("#myModal form, #submit-again").hide(),$(".modal").addClass("modal-success"),modal_animated("zoomIn"),$("#myModal").modal("show"),path.search("admin/data_akademik/data_mahasiswa")>0){$("#rincian-siswa").hide(),$("#myModal .modal-title").text("Update Program Studi Mahasiswa");m=[];$(".check-siswa:checked").each(function(){m.push($(this).val())});var y=m.length;y>0?(g=getJSON_async("http://"+host+controller_path+"/action/ambil",{id:m,data:"check_mhs",check:"data_exists"},1e3)).then(function(t){if(0==a.search("pindah_prodi"))if(t.total_rows>0){$("#form-pindah-kelas").show(),$("#form-pindah-kelas .jumlah").html("Anda akan memindahkan&nbsp<strong>"+t.data.length+"&nbspdata</strong>&nbspmahasiswa ke program studi<br>"),$(".list-selected").show().find("h5").text("Daftar Mahasiswa yang akan diperbahrui program studinya:"),$(".list-selected .list-mhs-selected").find("tbody").text("");var e=1;$.each(t.data,function(a,t){$(".list-selected .list-mhs-selected").find("tbody").append('<tr>  <td class="text-center">'+e+'</td>  <td class="text-center">'+t.nim+"</td>  <td>"+t.nama+"</td></tr>"),e++})}else $(".data-message").show(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html(t.message),$("#submit, #delete-selected").hide(),$("#batal").text("Tutup");else load_state=!0}):($(".data-message").show(),$(".data-message .content-message").addClass("centered-content"),$(".data-message .content-message").html("Silahkan pilih data mahasiswa yang ingin dirubah program studinya!"),$("#submit, #pindah-kelas").hide(),$("#batal").text("Tutup"))}else $("#myModal").modal("hide");void 0!=g?g.then(function(){1==load_state&&0!=load_state?(load_state=!1,$("#myModal .submit-btn").attr("id","submit"),$(".modal .modal-body").append('<p class="load-data text-center">Memproses Data</p>'),$("#myModal form, #myModal .submit-btn, #myModal .list-selected").hide(),load_inval()):$("#myModal #submit").attr("id","pindah-kelas").html('<li class="fa fa-pencil-square"></li> Update Program Studi').show().css("pointer-events","")}).catch(function(a){$("#myModal .submit-btn").hide().css("pointer-events","none"),$(".data-message").show(),$(".data-message .content-message").addClass("centered-text"),$(".data-message .content-message").html("Terjadi kesalahan, <b>Error "+a.status+": "+a.statusText+"</b>")}):($("#myModal .submit-btn").hide().css("pointer-events","none"),$(".modal .load-data").remove())}else if(0==a.search("backup")){if(modal_animated("zoomIn"),$("#myModal form, #myModal .list-selected, #myModal .data-message").hide(),$("#myModal").modal("show"),$(".modal").addClass("modal-info"),$("#myModal #form-input").attr("action","backup"),path.search("admin/pengaturan")>0){var w=getUrlVars().dt;"database"==w?($(".modal .load-data").remove(),$("#myModal form[form-data=backup-db]").show(),$("#myModal .submit").attr("id","backup_db").text("Backup Database").prepend('<li class="fa fa-download"></li> ').show(),$("#myModal #batal").text("Batal"),$("#myModal .modal-title").text("Backup Database"),$("#myModal").removeClass("modal-warning modal-success modal-default").addClass("modal-info")):"table_db"==w&&($(".modal .load-data").remove(),$("#myModal").modal("show"),$("#myModal form[form-data=backup-db]").show(),$("#myModal .modal-title").text("Backup Table Database"),$("#myModal .submit").attr("id","backup_db_tbl").text("Backup Tabel").prepend('<li class="fa fa-download"></li> ').show(),$("#myModal #batal").text("Batal"),$("#myModal").removeClass("modal-warning modal-success modal-default").addClass("modal-info"))}}else if("pilih_data"==a)$("#submit-again").hide(),$("#form-input").hide(),$(".modal").addClass("modal-primary"),modal_animated("zoomIn"),path.search("admin/data_akademik/data_mahasiswa")&&($("#form-pindah-kelas").hide(),$("#rincian-siswa").hide(),$("#myModal #form-get").show(),$("#myModal .modal-title").text("Tampilkan Data Mahasiswa"),$("#myModal #form-get").attr("action","ambil"),$("#myModal #submit").attr("id","tamp-data"),$("#myModal #tamp-data").text("Tampilkan Data")),$("#myModal #submit").text("Tampilkan Data"),$("#myModal").modal("show");else if(0==a.search("set")&&path==controller_path+"/pengaturan"){var j=$(".set-section[settings-section="+a.split("set=")[1]+"]");collapse_box(j.attr("settings-box"),j.attr("collapse-filter"));for(var C=1;C<=6;C++)j.find(".setting-label").fadeToggle();setTimeout(function(){$("html, body").animate({scrollTop:j.offset().top-55},800)},500)}$("#myModal #batal").prepend('<li class="fa fa-times"></li> ')}),$(window).trigger("hashchange"),$(".modal").on("show.bs.modal",function(a){$("body").addClass("modal-show")}),$("#myModal").on("hidden.bs.modal",function(a){modal_animated("zoomOutDown"),window.history.pushState(null,null,path),$("#myModal form,#rincian-siswa,.list-selected,.hide-modal-content").hide(),$("#myModal .submit-btn, #myModal #tamp-data, #myModal #delete-selected, #myModal #pindah-kelas,#myModal #update-mk").attr("id","submit"),$("#submit").show(),$("#submit-again").text("Simpan dan Tambah"),$("#batal").text("Batal"),$(".list-selected .list-mhs-selected").find("tbody").text(""),$(".modal").removeClass("modal-info"),$(".modal").removeClass("modal-success"),$(".modal").removeClass("modal-danger"),$(".modal").removeClass("modal-primary"),$(".modal").removeClass("modal-warning"),$("#myModal").find("input[type=text],input[type=hidden],input[type=number],input[type=email],input[type=password]").val(""),$("#barchart-alumni").replaceWith('<canvas id="barchart-alumni" class="chart" style="height: 280px; width: 510px;"></canvas>'),$("#barchart-mhs-do").replaceWith('<canvas id="barchart-mhs-do" class="chart" style="height: 280px; width: 510px;"></canvas>'),$('input[type="radio"]').iCheck("uncheck"),$("#myModal select.select2_thn_angkatan, #myModal select#select2_wali_kelas").text(""),$(".timepicker").val("14:08"),$("#myModal .select2").val(null).trigger("change"),$("#myModal .select2-remote-dt").text(""),$("#myModal .select2").prop("disabled",!1),$("#myModal").find(".has-error").removeClass("has-error"),$("#alert-place").text(""),$("#myModal .close-tab, #myModal .close-dt-tab").removeClass("active"),$("#myModal .close-tab").find("a").attr("aria-expanded","false"),$("#myModal .open-tab, #myModal .open-dt-tab").addClass("active"),$("#myModal .open-tab").find("a").attr("aria-expanded","true"),$("#myModal .modal-dialog").removeClass("modal-lg").removeAttr("style"),$("#myModal .data-message").hide(),$("#myModal .data-message .content-message").addClass("centered-content").removeClass("centered-text"),$("#myModal .data-message .content-message").html("Maaf, data yang anda cari tidak ditemukan"),$("#myModal dl dd").text(""),$("#detail-rt-rw").append("<font id='detail-rt'></font>/<font id='detail-rw'></font>"),$("#myModal dl dd#password").html("<div class='pass password-cry pull-left'></div><div class='password pull-left' id='detail-uncrypt_password'></div><div class='pull-right show-password' title='Tampilkan password'><span class='glyphicon glyphicon-eye-close'></span><div>"),$(".file-select-foto").fileinput("clear"),$(".file-select-foto").parents().find(".fileinput-remove-button").hide()}),$("#myModal-pt").on("hidden.bs.modal",function(a){modal_animated("zoomOutDown"),$("#myModal-pt input").val(""),$("#myModal-pt").find(".has-error").removeClass("has-error"),$("#alert-place").text(""),$("#myModal-pt .close-tab, #myModal-pt .close-dt-tab").removeClass("active"),$("#myModal-pt .close-tab").find("a").attr("aria-expanded","false"),$("#myModal-pt .open-tab, #myModal-pt .open-dt-tab").addClass("active"),$("#myModal-pt .open-tab").find("a").attr("aria-expanded","true")}),$("#myModal, #myModal-pt").on("hide.bs.modal",function(a){modal_animated("zoomOutDown"),$("#myModal .overflow-tab, #myModal .content-responsive, #myModal-pt .overflow-tab").scrollTop(0),$(".modal .tab-pane, .tab-overflow-container").scrollTop(0),$(".slimScrollDiv").find(".slimScrollBar").css("top","0px")}),$(".modal .nav-tabs li a").on("shown.bs.tab",function(){$(".modal .tab-pane").scrollTop(0)}),$("#refresh-form, .refresh-form").on("click",function(a){a.preventDefault(),$("#myModal #form-input, #myModal #form-input-pstudi").find("input[type=text],input[type=number],input[type=email]").val(""),$('input[type="radio"]').iCheck("uncheck"),$("form .select2").val(null).trigger("change"),$("#myModal").find(".has-error").removeClass("has-error"),$("#alert-place").text("")}),$(".refresh-data").on("click",function(a){a.preventDefault(),Pace.restart();var t=$(this).attr("data-refresh"),e=$(this).attr("data-box"),s=$(this).find("i");if(s.addClass("fa-spin"),$(e).find("div.overlay").fadeIn(),collapse_box(e),"data-alumni-do"==t)0!=$(".select2_data").val()&&1!=$(".select2_data").val()||($(".check-all-mhs-dt").iCheck("uncheck"),$(".tbl-data-alumni-do").DataTable().ajax.reload());else if("statistik-alumni-mhs-do"==t){if($("#myModal .content-responsive").scrollTop(0),$("#statistik-alumni").is(":visible"))var l="alumni",n="#barchart-alumni",i='<canvas id="barchart-alumni" class="chart" style="height: 280px; width: 510px;"></canvas>',d=".detail-jml-alumni";else if($("#statistik-mhs-do").is(":visible"))var l="mhs_do",n="#barchart-mhs-do",i='<canvas id="barchart-mhs-do" class="chart" style="height: 280px; width: 510px;"></canvas>',d=".detail-jml-mhs-do";$(d+" .progress-bar").css("width","0%"),getJSON_async("http://"+host+controller_path+"/data_statistik/"+l,null,500).then(function(a){$(n).replaceWith(i),line_chart_alumni_do(a.nama_prodi,a.mhs_lk,a.mhs_pr,a.color,n),$(d).text(""),$(d).prepend('<p class="text-center"><strong>Keterangan</strong></p>');var t=1;$.each(a.pd,function(a,e){$(d).append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+e.color_detail+';"></i> Prodi '+t+": "+e.nama_prodi+" ("+e.jenjang_prodi+')</span>  <span class="progress-number">'+e.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+t+'" style="background-color:'+e.color_detail+';"></div>  </div></div>'),t++}),t=1,setTimeout(function(){$.each(a.pd,function(a,e){$(d+" .p-bar-"+t).css("width",e.statik_mhs+"%"),t++})},100)})}else"list-menu"==t?list_menu("all"):"backup-db"==t&&load_backup_tbl();setTimeout(function(){s.removeClass("fa-spin")},1070)}),$("#refresh-table-user").on("click",function(a){a.preventDefault(),Pace.restart();var t=$(this).find("i");t.addClass("fa-spin"),$("#box-content").find("div.overlay").fadeIn(),collapse_box("#box-content"),$("#tbl-user").DataTable().ajax.reload(),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#refresh-table-mhs").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path);var t=$(this).find("i");t.addClass("fa-spin"),$("#box-siswa").find("div.overlay").fadeIn(),collapse_box("#box-siswa"),$(".tbl-data-mhs").DataTable().ajax.reload(),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#refresh-table-guru").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path);var t=$(this).find("i");t.addClass("fa-spin"),$("#box-guru").find("div.overlay").fadeIn(),collapse_box("#box-guru"),$(".tbl-data-ptk").DataTable().ajax.reload(),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#refresh-table-fk").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path),collapse_box("#box-content");var t=$(this).find("i");t.addClass("fa-spin"),$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-fk").DataTable().ajax.reload(),$("#statik-fk").is(":visible")&&data_master_chart("","static_mhs_fk"),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$(".refresh-table-pd").on("click",function(a){a.preventDefault(),Pace.restart();var t=$(this).find("i");$("#box-prodi").is(":visible")&&(t.addClass("fa-spin"),setTimeout(function(){t.removeClass("fa-spin")},1070)),$("#box-prodi").slideDown(),$("#box-prodi").find("div.overlay").fadeIn(),$(".tbl-data-pd").DataTable().ajax.reload(),collapse_box("#box-prodi"),$("html, body").animate({scrollTop:$("#box-prodi").offset().top-55},800)}),$("#refresh-thn-ak").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path);var t=$(this).find("i");t.addClass("fa-spin"),$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-akademik").DataTable().ajax.reload(),$("#statik-thn-ak").is(":visible")&&($(".select2_thn_akademik").val()?thn_akademik_chart($(".select2_thn_akademik").val()):thn_akademik_chart()),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#refresh-table-thn-angkatan").on("click",function(a){a.preventDefault(),window.history.pushState(null,null,path);var t=$(this).find("i");t.addClass("fa-spin"),Pace.restart(),collapse_box("#box-content"),$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-angkatan").DataTable().ajax.reload(),""!=$("#tbl-thn-angkatan").DataTable().search()&&$("#tbl-thn-angkatan").DataTable().search("").draw(),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#refresh-table-visitors").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path);var t=$(this).find("i");t.addClass("fa-spin"),$("#box-content").find("div.overlay").fadeIn(),$("#visitors-mhs").is(":visible")&&$(".tbl-pengunjung-mhs").DataTable().ajax.reload(),$("#visitors-ptk").is(":visible")&&$(".tbl-pengunjung-ptk").DataTable().ajax.reload(),setTimeout(function(){t.removeClass("fa-spin")},1070)}),$("#semua-data").on("click",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path),$("#cari_thn_angkatan, #cari_prodi").val(""),($("#box-siswa").is(":visible")||$("#box-guru").is(":visible")||$(".box-alumni-do").is(":visible"))&&($(".control-panel-data-tbl .select2_thn_angkatan, .control-panel-data-tbl .select2_prodi").val("").text(""),$(".control-panel-data-tbl .select2_status_aktif_ptk").val(null).trigger("change")),0==$(".control-panel-data-tbl .select2_data").val()?$(".box-alumni-do .box-title").text("Data Alumni"):1==$(".control-panel-data-tbl .select2_data").val()&&$(".box-alumni-do .box-title").text("Data Mahasiswa Drop Out"),$(".control-panel-data-tbl .select2_src_dt").val(null).trigger("change"),$(".btn-status-data,.btn-status-user").attr("data-search",""),$("#box-siswa .box-title").text("Data Mahasiswa"),$("#box-guru .box-title").text("Data Tenaga Pendidik"),$("#box-siswa, #box-guru,#box-content").find("div.overlay").fadeIn(),$(".control-panel-data-tbl .cari-data-tbl").val(""),$("#tamp-data").addClass("disabled"),collapse_box("#box-siswa, #box-guru,#box-content");var t=$(this).attr("table-refresh");void 0==t?$(".tbl-data-mhs, .tbl-data-ptk, #tbl-user, .tbl-data-alumni-do").DataTable().ajax.reload():$(t).DataTable().ajax.reload(),$(".semua-data").hide(),$("html, body").animate({scrollTop:$("#box-siswa, #box-guru,#box-content").offset().top-55},800)}),$(document).on("click","#tamp-data",function(a){a.preventDefault(),Pace.restart(),window.history.pushState(null,null,path),$(".semua-data").show(),$("#myModal").modal("hide"),$("#form-get .select2_prodi").val()&&$("#form-get .select2_thn_angkatan").val()||$(".control-panel-data-tbl .select2_prodi").val()&&$(".control-panel-data-tbl .select2_thn_angkatan").val()||$(".control-panel-data .select2_browser").val()&&$(".control-panel-data .select2_platform").val()?($("#box-siswa .box-title").text("Data Mahasiswa Program Studi "+$("#form-get .select2_prodi").find(":selected").text()+" Angkatan Tahun "+$("#form-get .select2_thn_angkatan").find(":selected").text()),$("#box-siswa .box-title").text("Data Mahasiswa Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()+" Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()),0==$(".control-panel-data-tbl .select2_data").val()?$(".box-alumni-do .box-title").text("Data Alumni Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()+" Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()):1==$(".control-panel-data-tbl .select2_data").val()&&$(".box-alumni-do .box-title").text("Data Mahasiswa Drop Out Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()+" Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()),$("#cari_prodi").val($("#form-get .select2_prodi").val()),$("#cari_thn_angkatan").val($("#form-get .select2_thn_angkatan").val())):$("#form-get .select2_thn_angkatan").val()||$(".control-panel-data-tbl .select2_thn_angkatan").val()?($("#box-siswa .box-title").text("Data Mahasiswa Angkatan Tahun "+$("#form-get .select2_thn_angkatan").find(":selected").text()),0==$(".control-panel-data-tbl .select2_data").val()?$(".box-alumni-do .box-title").text("Data Alumni Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()):1==$(".control-panel-data-tbl .select2_data").val()&&$(".box-alumni-do .box-title").text("Data Mahasiswa Drop Out Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()),$("#cari_thn_angkatan").val($("#form-get .select2_thn_angkatan").val()),$("#cari_prodi").val(""),$("#box-siswa .box-title").text("Data Mahasiswa Angkatan Tahun "+$(".control-panel-data-tbl .select2_thn_angkatan").find(":selected").text()),$(".control-panel-data-tbl .select2_prodi").text("")):$("#form-get .select2_prodi").val()||$(".control-panel-data-tbl .select2_prodi").val()&&$(".control-panel-data-tbl .select2_status_aktif_ptk").val()?$("#box-guru .box-title").text("Data Tenaga Pendidik Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()+" : "+$(".control-panel-data-tbl .select2_status_aktif_ptk").find(":selected").text()):$(".control-panel-data-tbl .select2_status_aktif_ptk").val()?$("#box-guru .box-title").text("Data Tenaga Pendidik : "+$(".control-panel-data-tbl .select2_status_aktif_ptk").find(":selected").text()):$("#form-get .select2_prodi").val()||$(".control-panel-data-tbl .select2_prodi").val()?($("#box-siswa .box-title").text("Data Mahasiswa Program Studi "+$("#form-get .select2_prodi").find(":selected").text()),0==$(".control-panel-data-tbl .select2_data").val()?$(".box-alumni-do .box-title").text("Data Alumni Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()):1==$(".control-panel-data-tbl .select2_data").val()&&$(".box-alumni-do .box-title").text("Data Mahasiswa Drop Out Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()),$("#cari_prodi").val($("#form-get .select2_prodi").val()),$("#cari_thn_angkatan").val(""),$("#box-siswa .box-title").text("Data Mahasiswa Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()),$("#box-guru .box-title").text("Data Tenaga Pendidik Program Studi "+$(".control-panel-data-tbl .select2_prodi").find(":selected").text()),$(".control-panel-data-tbl .select2_thn_angkatan").text("")):$(".control-panel-data-tbl .select2_browser").val()||$(".control-panel-data-tbl .select2_platform").val()||($("#box-siswa .box-title").text("Data Mahasiswa"),$("#box-guru .box-title").text("Data Tenaga Pendidik"),0==$(".control-panel-data-tbl .select2_data").val()?$(".box-alumni-do .box-title").text("Data Alumni"):0==$(".control-panel-data-tbl .select2_data").val()&&$(".box-alumni-do .box-title").text("Data Mahasiswa Drop Out"),$(".semua-data").hide()),$("#box-siswa,#box-guru,#box-content").find("div.overlay").fadeIn(),$(".control-panel-data-tbl .cari-data-tbl").val(""),$(".btn-status-data").attr("data-search",""),collapse_box("#box-siswa, #box-guru, #box-content"),void 0==$(this).attr("table-refresh")?$(".tbl-data-mhs, .tbl-data-ptk, .tbl-data-alumni-do, .tbl-pengunjung-mhs, .tbl-pengunjung-ptk").DataTable().ajax.reload():$($(this).attr("table-refresh")).DataTable().ajax.reload(),$("html, body").animate({scrollTop:$("#box-siswa, #box-guru, #box-content").offset().top-55},800)}),$("#tampilkan-data").on("click",function(a){a.preventDefault(),$("#box-content").find("div.overlay").fadeIn(),$("#update-process").text(""),$("#update-process").fadeIn(),$("#update-process").html('<i class="fa fa-refresh fa-spin"></i><i>&nbsp&nbsp</i>'),delay(function(){Pace.restart(),$("#tbl-thn-angkatan").DataTable().ajax.reload(),""!=$("#tbl-thn-angkatan").DataTable().search()&&$("#tbl-thn-angkatan").DataTable().search("").draw(),$("#update-process").fadeOut()},500)}),$(document).on("click",".remove",function(a){path==controller_path+"/data_angkatan"?delay(function(){$("#box-mhs .box-title").text(""),$(".tbl-data-mhs-master").DataTable().destroy()},1e3):path==controller_path+"/data_fakultas_pstudi"?($(".check-all-prodi").iCheck("uncheck"),delay(function(){$(".tbl-data-prodi").find("tbody").text("").append('<tr>    <td colspan="6" align="center">Memproses Data</td></tr>'),$("#box-detail-fk .detail-fak").text(""),$(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active")},1e3)):path==controller_path+"/data_mata_kuliah"?($(".check-all-mk").iCheck("uncheck"),delay(function(){$(".box-daftar-mk .detail-prodi-mk").text("-"),$(".tbl-data-mk1, .tbl-data-mk2").find("tbody").html('<tr><td colspan="5" align="center">Memproses Data</td></tr>'),$(".tbl-data-mk").find("tbody").html('<tr><td colspan="7" align="center">Memproses Data</td></tr>')},1e3)):path==controller_path+"/data_jadwal_kuliah"?($(".check-all-jadwal").iCheck("uncheck"),delay(function(){$("#box-jadwal .description-text").text(""),$("table.tbl-data-jadwal").find("tbody").html('<tr><td colspan="9" align="center">Silahkan pilih tahun akademik</td></tr>')},1e3)):path==controller_path+"/data_mahasiswa"||path==controller_path+"/data_alumni_do"?delay(function(){$("#detail-mhs .close-tab, #detail-mhs .close-dt-tab").removeClass("active"),$("#detail-mhs .close-tab").find("a").attr("aria-expanded","false"),$("#detail-mhs .open-tab, #detail-mhs .open-dt-tab").addClass("active"),$("#detail-mhs .open-tab").find("a").attr("aria-expanded","true"),$("#box-detail-mhs .detail-data-mhs").text(""),$("#box-detail-mhs").attr("data-search",""),$(".tbl-detail-mhs").find("tbody").text("")},1e3):path==controller_path+"/data_ptk"&&delay(function(){$("#detail-ptk .close-tab, #detail-ptk .close-dt-tab").removeClass("active"),$("#detail-ptk .close-tab").find("a").attr("aria-expanded","false"),$("#detail-ptk .open-tab, #detail-ptk .open-dt-tab").addClass("active"),$("#detail-ptk .open-tab").find("a").attr("aria-expanded","true"),$("#box-ptk").attr("data-search",""),$("#box-ptk .detail-data-ptk").text(""),$(".tbl-detail-ptk").find("tbody").text("")},1e3),window.history.pushState(null,null,path)}),$(document).on("click",".remove-kelas",function(){$(".check-all-mhs-kelas").iCheck("uncheck"),delay(function(){$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="6" align="center">Silahkan pilih kelas</td></tr>')},1e3)}),$(document).on("click",".close-detail-pd",function(a){$(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active"),window.history.pushState(null,null,path)}),$("#form-identitas-pt, .form-identitas-pt").on("click",function(a){a.preventDefault(),modal_animated("zoomIn");var t=$(this).find("i");t.removeClass("fa-pencil-square").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+controller_path+"/action/ambil",{data:"data_identitas_pt"},1e3,!0).then(function(a){$("#myModal-pt #batal").html('<li class="fa fa-times"></li> Batal'),"empty"==a.status?($("#myModal-pt .modal-title").text("Input Data Identitas Perguruan Tinggi"),$("#myModal-pt #form-input").attr("action","tambah"),$("#myModal-pt").removeClass("modal-danger").addClass("modal-info"),$("#myModal-pt #submit").html('<li class="fa fa-save"></li> Simpan').show(),$("#myModal-pt .nav-tabs-custom").removeClass("nav-success nav-danger nav-warning").addClass("nav-info")):($("#myModal-pt .modal-title").text("Update Data Identitas Perguruan Tinggi"),$("#myModal-pt #form-input").attr("action","update"),$("#myModal-pt").removeClass("modal-danger").addClass("modal-success"),$("#myModal-pt #submit").html('<li class="fa fa-pencil-square"></li> Update').show(),$("#myModal-pt .nav-tabs-custom").removeClass("nav-danger nav-info nav-warning").addClass("nav-success"),$.each(a.data,function(a,t){$.each(t,function(a,t){$("#form-input input[name="+a+"], #form-input select[name="+a+"]").val(t),$("#form-input select[name="+a+"]").trigger("change.select2"),"tgl_sk_pend"!=a&&"tgl_sk_izin_op"!=a&&"tgl_berdiri"!=a||("0000-00-00"!=t&&"00 00 0000"!=t?$("#form-input input[name="+a+"]").datepicker("update",new Date(t)):$("#form-input input[name="+a+"]").val(""))})})),t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square"),$("#myModal-pt").modal("show")}).catch(function(){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-times"),setTimeout(function(){t.removeClass("fa-times fa-circle-o-notch fa-spin").addClass("fa-pencil-square")},1e3)})}),$(".info").on("click",function(){var a,t=$(this).attr("data-info");path==controller_path+"/data_fakultas_pstudi"?a='<ol style="text-align:left"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Fakultas</a> untuk menambah data fakultas</li><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Program Studi</a> untuk menambah program studi</li><li>klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i></a> pada daftar fakultas untuk menambah program studi</li></ol>':path==controller_path+"/data_thn_akademik"?a='<ol style="text-align:left"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Tahun Akademik</a> Untuk menambah tahun akademik</li><li>Klik tombol <a class="btn btn-danger"><i class="fa fa-ban"></i> Tutup Tahun Akademik</a> Untuk menutup/nonaktifkan tahun akademik yang sedang berjalan</li><li>klik <div class="toggle btn btn-success btn-sm" data-toggle="toggle" style="width: 140px; height: 30px;"><div class="toggle-group"><label class="btn btn-success btn-sm toggle-on"><i class="fa fa-check-circle"></i> Diterapkan</label><span class="toggle-handle btn btn-default btn-sm"></span></div></div> | <div class="toggle btn btn-danger off btn-sm" data-toggle="toggle" style="width: 140px; height: 30px;"><div class="toggle-group"><label class="btn btn-danger btn-sm active toggle-off"><i class="fa fa-ban"></i> Tidak Diterapkan</label><span class="toggle-handle btn btn-default btn-sm"></span></div></div> pada daftar tahun akademik untuk menerapkan atau menutup tahun akademik</li><li>klik <div class="toggle btn btn-success btn-sm" data-toggle="toggle" style="width: 140px; height: 30px;"><div class="toggle-group"><label class="btn btn-success btn-sm toggle-on"><i class="fa fa-check-circle"></i> Input Nilai</label><span class="toggle-handle btn btn-default btn-sm"></span></div></div> | <div class="toggle btn btn-danger off btn-sm" data-toggle="toggle" style="width: 140px; height: 30px;"><div class="toggle-group"><label class="btn btn-danger btn-sm active toggle-off"><i class="fa fa-ban"></i> Input Nilai</label><span class="toggle-handle btn btn-default btn-sm"></span></div></div> pada daftar tahun akademik agar proses input nilai bisa dilakukan maupun sebaliknya</li></ol>':path==controller_path+"/data_angkatan"?a='<ol style="text-align:left"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Tahun Angkatan</a> Untuk menambah tahun angkatan mahasiswa</li><li>Klik tombol <a class="btn btn-danger"><i class="fa fa-trash"></i> Hapus</a> Untuk menghapus tahun angkatan mahasiswa</li><li>klik tombol <a class="btn btn-warning"><i class="fa fa-list"></i></a> Untuk melihat daftar angkatan mahasiswa dan klik tombol <a class="btn btn-success"><i class="fa fa-pencil-square"></i></a> Untuk mengedit data tahun angkatan</li></ol>':path==controller_path+"/data_mata_kuliah"?a='<ol style="text-align:left"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Mata Kuliah</a> untuk menambah mata kuliah</li><li>Klik tombol <a class="btn btn-danger"><i class="fa fa-trash"></i> Hapus</a> pada control panel untuk menghapus multiple data</li><li>Klik tombol <a class="btn btn-success"><i class="fa fa-list"></i> Tampilkan Mata Kuliah</a> untuk Menampilkan mata kuliah berdasarkan prodi yang dipilih</li></ol>':path==controller_path+"/data_jadwal_kuliah"?a='<ol style="text-align:left"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Buat Jadwal Kuliah</a> untuk menambah jadwal kuliah kuliah</li><li>Klik tombol <a class="btn btn-danger"><i class="fa fa-trash"></i> Hapus</a> pada control panel untuk menghapus multiple data</li><li>Klik tombol <a class="btn btn-success"><i class="fa fa-list"></i> Tampilkan Jadwal Kuliah</a> untuk menampilkan jadwal kuliah berdasarkan tahun akademik dan prodi yang dipilih</li><li>Klik tombol <a class="btn btn-info"><i class="fa fa-plus"></i> Tambah Mahasiswa</a> untuk menambah mahasiswa kedalam kelas yang bersangkutan</li></ol>':path==controller_path+"/pengaturan"&&("layout-setting"==t?a='<ol style="text-align:left;"><li>Pilihan layout untuk merubah tampilan sistem dimana terdiri dari:<ul style="margin-left:-22px;list-style-type:square"><li><b>Fixed-Layout</b></li><li><b>Boxed-Layout</b></li><li><b>Toggle Sidebar</b></li><li><b>Toggle Right Sidebar</b></li></ul></li><li>Warna layout untuk merubah warna dasar tampilan sistem yang terdiri dari 12 pilihan warna</li><li>Pengaturan default layout ialah <b>Fixed-Layout</b> dan <b>Skin Yellow</b></li></ol>':"backup-db"==t&&(a='<ol style="text-align:left;"><li>Klik tombol <a class="btn btn-info"><i class="fa fa-download"></i></a> untuk download backup database dan klik tombol <a class="btn btn-danger"><i class="fa fa-trash"></i></a> untuk menghapus backup database</li><li>Klik tombol <a class="btn btn-default"><i class="fa fa-download"></i> Backup Database</a> untuk memulai proses backup database</li><li>Klik tombol <a class="btn btn-default"><i class="fa fa-download"></i> Backup Tabel</a> untuk memulai proses backup tabel database yang dipilih</li></ol>')),""!=a&&void 0!=a&&swal({type:"info",title:"Petunjuk",html:a,confirmButtonText:'<i class="fa fa-check"></i> Ok'})}),$(".tamp-mk").on("click",function(a){a.preventDefault();var t=$(".mk-prodi").val();null!=t?($(this).find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),daftar_mk(t)):($(this).addClass("disabled"),swal({type:"info",title:"Info",html:"Silahkan Pilih Program Studi",confirmButtonText:'<i class="fa fa-check"></i> Ok'}))}),$(document).on("click","#update-mk",function(a){a.preventDefault(),$("#alert-place").text("");var t=[],e=$("#form-edit-mk select[name=id_pd_mk]").val(),s=$("#form-edit-mk input[name=jml_sks].jml_sks").val(),l=$("#form-edit-mk select[name=jenis_jdl].jenis_jdl").val(),n=$(this).find("li");$(".check-mk:checked").each(function(){t.push($(this).val())}),n.removeClass("fa-pencil-square").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+controller_path+"/action/update_pd_mk",{id:t,id_pd_mk:e,sks:s,mk_j:l},500,!0).then(function(a){n.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square"),"success"==a.status?($("#myModal").modal("hide"),$(".check-all-mk").iCheck("uncheck"),$(".hapus,.edit-mk").addClass("disabled"),daftar_mk($(".box-daftar-mk").attr("data-search")),swal({title:"Data Berhasil Di Update",type:"success",timer:2e3})):"zero_change"==a.status||"failed_db"==a.status?$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>'+a.errors_message+"</font></div>"):($("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px"></ul></font></div>'),$.each(a.errors,function(a,t){$("#alert-place font ul").append("<li>"+t+"</li>"),$("#form-edit-mk #"+a).addClass("has-error")}))}).catch(function(a){n.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square")})}),$(".tamp-jadwal").on("click",function(a){a.preventDefault();var t=$(".select2_jadwal").val();null!=t?($(this).find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),daftar_jadwal(t)):($(this).addClass("disabled"),swal({type:"info",title:"Info",html:"Silahkan Pilih Tahun Akademik",confirmButtonText:'<i class="fa fa-check"></i> Ok'}))}),$(document).on("click",".view-kelas",function(){var a=$(this).val();$(this).find("i").removeClass("fa-list").addClass("fa-circle-o-notch fa-spin"),daftar_kelas_mhs(a)}),$(".box-mk-control .mk-prodi").on("change",function(){null!=$(this).val()?$(".tamp-mk").removeClass("disabled"):$(".tamp-mk").addClass("disabled")}),$(".box-jadwal-mk-control .select2_jadwal, .box-jadwal-mk-control .jdl-prodi").on("change",function(){null!=$(".box-jadwal-mk-control .select2_jadwal").val()?$(".tamp-jadwal").removeClass("disabled"):$(".tamp-jadwal").addClass("disabled")}),$(document).on("click",".show-password",function(){$(this).siblings(".pass").removeClass("password-cry"),$(this).siblings(".password").css("display","block"),$(this).attr("title","Sembunyikan password"),$(this).find("span").removeClass("glyphicon-eye-close").addClass("glyphicon-eye-open"),$(this).removeClass("show-password").addClass("hide-password")}),$(document).on("click",".hide-password",function(){$(this).siblings(".pass").addClass("password-cry"),$(this).siblings(".password").css("display","none"),$(this).attr("title","Tampilkan password"),$(this).find("span").removeClass("glyphicon-eye-open").addClass("glyphicon-eye-close"),$(this).removeClass("hide-password").addClass("show-password")}),$(document).on("click",".dt-vld",function(){if("1"==$(this).attr("data-status"))var a="Data telah terverifikasi!",t="success";else if("2"==$(this).attr("data-status"))var a="Data ini masih memiliki informasi yang salah!",t="error";else var a="Data masih belum diverifikasi!",t="info";swal({title:"Status Data",text:a,type:t,timer:2e3})}),$(document).on("change",".check-status-thn-ajar",function(){var a=$(this).prop("checked"),t=$(this).attr("value");getJSON_async("http://"+host+data_master_path+"/action/update_status",{in:t,status:a,data:"thn_ajaran_status"}).then(function(a){"success"==a.status&&(1==a.status_thn?($("#tbl-thn-akademik").DataTable().draw(!1),$(".tbl-daftar-thn-ajar").DataTable().draw(!1),$(".non-aktif-thn-ajaran").removeClass("disabled")):($(".non-aktif-thn-ajaran").addClass("disabled"),$(".check-status-thn-inp-"+t).bootstrapToggle("destroy"),$(".check-status-thn-inp-"+t).replaceWith("<input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+t+"' value='"+t+"'/>"),$(".check-status-thn-inp-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140}),$(".check-status-thn-inp-"+t).parent(".toggle").attr("disabled","disabled"),$(".check-status-thn-inp-"+t).attr("disabled","disabled")))})}),$(document).on("change",".check-status-thn-inp",function(){var a=$(this).prop("checked"),t=$(this).attr("value");getJSON_async("http://"+host+data_master_path+"/action/update_status",{in:t,status:a,data:"thn_ajaran_status_inp"})}),$(document).on("click",".non-aktif-thn-ajaran",function(a){a.preventDefault(),swal({type:"info",title:"Peringatan",text:"Anda akan menutup tahun akademik yang sedang berjalan, klik tombol Tutup untuk melanjutkan!",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check"></i> Tutup',cancelButtonText:'<i class="fa fa-times"></i> Batal'}).then(function(){getJSON_async("http://"+host+data_master_path+"/action/update_status",{data:"thn_ajaran_status_non"}).then(function(a){"success"==a.status&&(swal({title:"Tahun akademik berhasil ditutup",type:"success",timer:2e3}),$("#tbl-thn-akademik").DataTable().draw(!1),$(".non-aktif-thn-ajaran").addClass("disabled"))})})}),$("#box-nilai .select2_nilai_mhs").on("change",function(){null!=$(this).val()?$(".tamp-nilai, .tamp-all-nilai").removeClass("disabled"):$(".tamp-nilai, .tamp-all-nilai").addClass("disabled")}),$(".tamp-nilai").on("click",function(a){a.preventDefault();var t=$(".select2_nilai_mhs").val();$(this).find("i").removeClass("fa-file-text-o").addClass("fa-circle-o-notch fa-spin"),detail_nilai(t)}),$(".tamp-all-nilai").on("click",function(a){a.preventDefault();var t=$(".select2_nilai_mhs").val();$(this).find("i").removeClass("fa-files-o").addClass("fa-circle-o-notch fa-spin"),detail_nilai(t)}),$('a[href="#statik-thn-ak"]').on("click",function(){$(".select2_thn_akademik").val()?thn_akademik_chart($(".select2_thn_akademik").val()):thn_akademik_chart()}),$(".static-mhs-tab").on("click",function(){var a=$(this).attr("href").split("-");path==controller_path+"/data_thn_akademik"?data_master_chart(a[1],"static_mhs_thn_ak"):path==controller_path+"/data_angkatan"&&data_master_chart(a[1],"static_mhs_thn_angkatan")}),$('a[href="#statik-fk"]').on("click",function(){data_master_chart("","static_mhs_fk")}),$(".backup_db").on("click",function(a){modal_animated("zoomIn"),$("#myModal").modal("show"),$("#myModal form[form-data=backup-db]").show(),$("#myModal .submit").attr("id","backup_db").text("Backup Database").prepend('<li class="fa fa-download"></li> ').show(),$("#myModal .cancel").text("Batal").prepend('<li class="fa fa-times"></li> '),$("#myModal .modal-title").text("Backup Database"),$(".modal .load-data").replaceWith(""),path==controller_path+"/pengaturan"?$("#myModal").removeClass("modal-warning modal-success modal-default").addClass("modal-info"):$("#myModal").removeClass("modal-warning").addClass("modal-success")}),$(".backup_db_tbl").on("click",function(a){modal_animated("zoomIn"),$("#myModal").modal("show"),$("#myModal form[form-data=backup-db]").show(),$("#myModal .modal-title").text("Backup Table Database"),$("#myModal .submit").attr("id","backup_db_tbl").text("Backup Tabel").prepend('<li class="fa fa-download"></li> ').show(),$("#myModal .cancel").text("Batal").prepend('<li class="fa fa-times"></li> '),$(".modal .load-data").replaceWith(""),path==controller_path+"/pengaturan"?$("#myModal").removeClass("modal-warning modal-success modal-default").addClass("modal-info"):$("#myModal").removeClass("modal-success").addClass("modal-warning")}),$(document).on("click","#backup_db",function(a){var t=$(this).find("li");t.removeClass("fa-download").addClass("fa-circle-o-notch fa-spin");var e=$("#myModal form input[name=username]").val(),s=$("#myModal form input[name=password]").val(),l=$(".backup_db_opsi:checked").val();getJSON_async("http://"+host+data_dashboard_path+"/action/backup",{data:"backup_db",db_backup:"full-backup",user:e,pass:s,data_opsi:l},500).then(function(a){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-download"),"success"==a.status?($("#myModal").modal("hide"),load_backup_tbl(),window.location.href=a.url_download):($("#myModal #alert-place").show(),"failed_auth"==a.status?$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font>'+a.error+"</font></div>"):$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi error dalam backup database</font></div>'))}).catch(function(a){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-download"),$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi kesalahan, <b>Error '+a.status+": "+a.statusText+"</b></font></div>").show()})}),$(document).on("click","#backup_db_tbl",function(a){var t=$(this).find("li");t.removeClass("fa-download").addClass("fa-circle-o-notch fa-spin");var e=$("#myModal form input[name=username]").val(),s=$("#myModal form input[name=password]").val(),l=$(".select2_tbl_db").val(),n=$(".backup_db_opsi:checked").val();getJSON_async("http://"+host+data_dashboard_path+"/action/backup",{data:"backup_db",db_backup:"table-backup",table:l,user:e,pass:s,data_opsi:n},500).then(function(a){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-download"),$("#myModal #alert-place").text(""),"success"==a.status?($("#myModal").modal("hide"),load_backup_tbl(),window.location.href=a.url_download):($("#myModal #alert-place").show(),"failed_auth"==a.status||"failed_db_tbl"==a.status?$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font>'+a.error+"</font></div>"):$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi error dalam backup database</font></div>'))}).catch(function(a){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-download"),$("#myModal #alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi kesalahan, <b>Error '+a.status+": "+a.statusText+"</b></font></div>").show()})}),$(document).on("click",".download-backup",function(a){a.preventDefault();getJSON_async("http://"+host+data_dashboard_path+"/backup_db_file",{act:"check_backup",file:$(this).attr("href")},null,!0)}),$(document).on("click",".delete-backup",function(a){a.preventDefault(),getJSON_async("http://"+host+data_dashboard_path+"/configuration/action/delete",{data:"backup_file",act:"delete_backup",file:$(this).attr("href")},null,!0).then(function(a){1==a.status?load_backup_tbl():swal({title:"Error",text:"Gagal Menghapus Backup Database: "+a.status,type:"error"})}).catch(function(a){})}),$('a[href="#detail_riwayat_kuliah"], a[href="#detail_riwayat_studi"]').on("click",function(){delay(function(){detail_akademik_mhs()},100)}),$('.data-statistik-mhs a[href="#statistik-alumni"]').on("click",function(){$("#myModal .content-responsive").scrollTop(0);var a=$(this).find("span");a.removeClass("fa-bar-chart").addClass("fa-circle-o-notch fa-spin"),setTimeout(function(){$(".detail-jml-alumni .progress-bar").css("width","0%"),getJSON_async("http://"+host+controller_path+"/data_statistik/alumni",null,500).then(function(t){a.removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart"),$("#barchart-alumni").replaceWith('<canvas id="barchart-alumni" class="chart" style="height: 280px; width: 510px;"></canvas>'),line_chart_alumni_do(t.nama_prodi,t.mhs_lk,t.mhs_pr,t.color,"#barchart-alumni"),$(".detail-jml-alumni").text(""),$(".detail-jml-alumni").prepend('<p class="text-center"><strong>Keterangan</strong></p>');var e=1;$.each(t.pd,function(a,t){$(".detail-jml-alumni").append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+t.color_detail+';"></i> Prodi '+e+": "+t.nama_prodi+" ("+t.jenjang_prodi+')</span>  <span class="progress-number">'+t.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+e+'" style="background-color:'+t.color_detail+';"></div>  </div></div>'),e++}),e=1,delay(function(){$.each(t.pd,function(a,t){$(".detail-jml-alumni .p-bar-"+e).css("width",t.statik_mhs+"%"),e++})},100)}).catch(function(){a.removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart")})},200)}),$('.data-statistik-mhs a[href="#statistik-mhs-do"]').on("click",function(){$("#myModal .content-responsive").scrollTop(0);var a=$(this).find("span");a.removeClass("fa-bar-chart").addClass("fa-circle-o-notch fa-spin"),setTimeout(function(){$(".detail-jml-mhs-do .progress-bar").css("width","0%"),getJSON_async("http://"+host+controller_path+"/data_statistik/mhs_do",null,500).then(function(t){a.removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart"),$("#barchart-mhs-do").replaceWith('<canvas id="barchart-mhs-do" class="chart" style="height: 280px; width: 510px;"></canvas>'),line_chart_alumni_do(t.nama_prodi,t.mhs_lk,t.mhs_pr,t.color,"#barchart-mhs-do"),$(".detail-jml-mhs-do").text(""),$(".detail-jml-mhs-do").prepend('<p class="text-center"><strong>Keterangan</strong></p>');var e=1;$.each(t.pd,function(a,t){$(".detail-jml-mhs-do").append('<div class="progress-group">  <span class="progress-text"><i class="fa fa-circle" style="color: '+t.color_detail+';"></i> Prodi '+e+": "+t.nama_prodi+" ("+t.jenjang_prodi+')</span>  <span class="progress-number">'+t.statik_mhs+'%</span>  <div class="progress sm">    <div class="progress-bar p-bar-'+e+'" style="background-color:'+t.color_detail+';"></div>  </div></div>'),e++}),e=1,delay(function(){$.each(t.pd,function(a,t){$(".detail-jml-mhs-do .p-bar-"+e).css("width",t.statik_mhs+"%"),e++})},100)}).catch(function(){a.removeClass("fa-circle-o-notch fa-spin").addClass("fa-bar-chart")})},200)}),$(document).on("click",".change-pass-user",function(){var a=$(this).val().split("-"),t=$(this).find("li"),e=$(this).val();swal({type:"info",title:"Peringatan",html:"Anda melakukan reset password pada pengguna dengan username <b>"+a[2]+"</b>, klik tombol Reset untuk melanjutkan!",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check"></i> Reset',cancelButtonText:'<i class="fa fa-times"></i> Batal'}).then(function(){t.removeClass("fa-key").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+data_pengguna_path+"/action/update_password",{user_in:e},500,!0).then(function(e){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-key"),"success"==e.status?swal({title:"Berhasil",html:"Password pengguna dengan username <b>"+a[2]+"</b> berhasil direset!, password user <b>"+e.u_pass+"</b>",type:"success"}):swal({title:"Gagal",text:"Gagal melakukan reset password!",type:"error",timer:2e3})}).catch(function(a){t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-key")})})}),$(document).on("click","#created-pass",function(a){if(a.preventDefault(),$("#form-print-u").attr("target","").attr("action","").attr("method",""),null!=$(".control-panel-data-tbl .select2_prodi").val()&&null!=$(".control-panel-data-tbl .select2_thn_angkatan").val()){$(this).find("i").removeClass("fa-key").addClass("fa-refresh fa-spin");var t=$(".control-panel-data-tbl .select2_thn_angkatan").val(),e=$(".control-panel-data-tbl .select2_prodi").val();(s=getJSON_async("http://"+host+controller_path+"/check_print_data",{thn_angkatan:t,prodi:e,act:"created_pass"})).then(function(a){if($("#created-pass").find("i").removeClass("fa-refresh fa-spin").addClass("fa-key"),"success"!=a.status){if(a.errors.thn_angkatan&&a.errors.prodi)s="Maaf, tahun angkatan dan program studi yang anda pilih tidak ada dalam database";else if(a.errors.thn_angkatan)s=a.errors.thn_angkatan;else if(a.errors.prodi)var s=a.errors.prodi;swal({title:"Kesalahan",text:s,type:"error"})}else if("success"==a.status){var l=a.form_action+"?thn_angkatan="+t+"&prodi="+e+"&token="+token;window.open(l),$(this).attr("type","submit"),$("#form-print-u").attr("target","_blank").attr("action",a.form_action).attr("method","POST")}}).catch(function(){$("#created-pass").find("i").removeClass("fa-refresh fa-spin").addClass("fa-key")})}else if(path==controller_path+"/data_pengguna_ptk"&&null!=$(".control-panel-data-tbl .select2_prodi").val()){var e=$(".control-panel-data-tbl .select2_prodi").val(),s=getJSON("http://"+host+controller_path+"/check_print_data",{prodi:e});if("success"!=s.status){if(s.errors.prodi)n=s.errors.prodi;swal({title:"Kesalahan",text:n,type:"error"})}else{var l=s.form_action+"?prodi="+e+"&token="+token;window.open(l),$(this).attr("type","submit"),$("#form-print-u").attr("target","_blank").attr("action",s.form_action).attr("method","POST")}}else{if($("#created-pass").addClass("disabled"),path==controller_path+"/data_pengguna_mahasiswa")n="Silahkan pilih tahun angkatan dan program studi terlebih dahulu!";else if(path==controller_path+"/data_pengguna_ptk")var n="Silahkan pilih program studi terlebih dahulu!";swal({title:"Kesalahan",text:n,type:"error"})}}),$(document).on("click",".remove-photo",function(a){a.preventDefault();var t=getUrlVars();if(path==controller_path+"/data_mahasiswa"){if(null!=t.mhs&&""!=t.mhs)var e="mhs",s=t.mhs}else if(path==controller_path+"/data_ptk"&&null!=t.ptk&&""!=t.ptk)var e="ptk",s=t.ptk;if(void 0!=e&&void 0!=s){var l=$(this);l.find("span").removeClass("fa-trash").addClass("fa-circle-o-notch fa-spin"),getJSON_async("http://"+host+controller_path+"/delete_file",{data:"photo",photo:e,id_photo:s},500).then(function(a){l.find("span").removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),"success"==a.status?($("#form-input .photo-usr-edit-n").attr("src",a.default_photo),$("#form-input .photo-file-name").text("Nama File: -"),l.hide()):swal({type:"error",title:"Error",html:"Gagal menghapus foto!",confirmButtonText:'<i class="fa fa-check"></i> Ok'})}).catch(function(a){l.find("span").removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi kesalahan saat menghapus foto, <b>Error '+a.status+": "+a.statusText+"</b></font></div>")})}}),$(document).on("click",".show-about",function(a){a.preventDefault(),$("#about").modal("show")}),$(document).on("keyup","#form-input input[name=nama]",function(){path==controller_path+"/data_mahasiswa"&&$(this).val($(this).val().toUpperCase())}),$("input.link_menu").on({keyup:function(){""!=$(this).val()?"admin"==$(".select2_lvl_access_menu").val()?($("label[for=link_menu]").text("Link Menu : "+admin_url+$(this).val()),$(this).siblings("p.link_preview").text("Link: "+admin_url+$(this).val())):($("label[for=link_menu]").text("Link Menu : "+base_url+$(this).val()),$(this).siblings("p.link_preview").text("Link: "+base_url+$(this).val())):($("label[for=link_menu]").text("Link Menu"),$(this).siblings("p.link_preview").text(""))},focus:function(){""!=$(this).val()?"admin"==$(".select2_lvl_access_menu").val()?($("label[for=link_menu]").text("Link Menu : "+admin_url+$(this).val()),$(this).siblings("p.link_preview").text("Link: "+admin_url+$(this).val())):($("label[for=link_menu]").text("Link Menu : "+base_url+$(this).val()),$(this).siblings("p.link_preview").text("Link: "+base_url+$(this).val())):($("label[for=link_menu]").text("Link Menu"),$(this).siblings("p.link_preview").text(""))}}),$("input.color-input-text").on({keyup:function(){$(".icon_menu_review").find("i").css("color",$(this).val())},focus:function(){$(".icon_menu_review").find("i").css("color",$(this).val())}}),$("input.icon-input-text").on({keyup:function(){$(this).siblings("span").find("i").attr("class",""),$(this).siblings("span").find("i").addClass($(this).val())},focus:function(){$(this).siblings("span").find("i").attr("class",""),$(this).siblings("span").find("i").addClass($(this).val())}}),$(document).on("click","#submit",function(a){a.preventDefault(),$("#form-input, form").find(".has-error").removeClass("has-error");var t=$(this).find("li"),e=$("#form-input").attr("action"),s=getUrlVars();if("prodi"==s||"fk,i,token"==s||"pd,token"==s)l=$("#form-input-pstudi").serialize();else if("kelas_mhs"==s)l=$("#form-input-kls-mhs").serialize()+"&kelas_mhs="+s.kelas_mhs;else if("kelas"==s)if("update"==e)l=$("#form-pindah-kelas").serialize();else(l={id_mhs_kls:$("#form-input .id_jdl").val(),data_mhs_kls:""}).csrf_key=token;else if("mhs_do"==s.data||null!=s.mhs_do||"drop_out"==s.data){l=$("#form-input-mhs-do").serialize();if("drop_out"==s.data){n=[];$(".check-siswa:checked").each(function(){""!=$(this).val()&&(n+="mhs-data[]="+$(this).val()+"&")}),l=n+l}}else if("alumni"==s.data)if($("#form-input-alumni").is(":visible")){var l=$("#form-input-alumni").serialize(),n=[];$(".check-siswa:checked").each(function(){""!=$(this).val()&&(n+="id[]="+$(this).val()+"&")}),l=n+l}else l=$("#form-input").serialize();else if("alumni-mhs-do"==s["data-selected"]){if(0==$(".select2_data").val())l=$("#form-input").serialize()+"&update=batch";else if(1==$(".select2_data").val())l=$("#form-input-mhs-do").serialize()+"&update=batch";n=[];$(".check-mhs-dt:checked").each(function(){""!=$(this).val()&&(n+="&in_mhs[]="+$(this).val())}),l+=n}else if("pend_ptk"==s.data){l=$("#form-input-studi-ptk").serialize();$("#box-ptk").is(":visible")&&""!=$("#box-ptk").attr("data-search")&&(l=l+"&ptk_detail="+$("#box-ptk").attr("data-search"))}else if("research_ptk"==s.data){l=$("#form-input-penelitian-ptk").serialize();$("#box-ptk").is(":visible")&&""!=$("#box-ptk").attr("data-search")&&(l=l+"&ptk_detail="+$("#box-ptk").attr("data-search"))}else if("konsentrasi_prodi"==s.data||void 0!=s.prodi_kons)l=$("#form-input-konsentrasi-pd").serialize();else if("menu"==s.data)l=$("#form-input-menu").serialize();else if("sub-menu"==s.data)l=$("#form-input-sub-menu").serialize();else l=$("#form-input").serialize();$("#alert-place").text("");getUrlVars().data,$.ajax("http://"+host+controller_path+"/action/"+e,{dataType:"json",type:"POST",data:l,beforeSend:function(){t.removeClass("fa-save fa-trash fa-pencil-square").addClass("fa-circle-o-notch fa-spin")},complete:function(a){null!=a.responseJSON.login_rld&&($("#alert-place").text(""),$("#alert-place").prepend('<div class="alert alert-info alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-info-circle"></i> Info!</h4>  <font>Session anda telah berakhir, silihkan klik ulang untuk melanjutkan proses!</font></div>')),"tambah"==e?t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-save"):"update"==e?t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square"):"delete"==e&&t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),$(".submit-process").fadeOut()},success:function(a){if(token=a.n_token,"tambah"==e)if("success"==a.status){if("data_identitas_pt"==a.data)""==a.record_pt?($("#tab-identitas-pt .dl-horizontal .detail-data-pt").text("-"),$(".box").hide(),$("#tab-identitas-pt #profil, #tab-identitas-pt #kontak").append('<p class="text-center empty-pt-dt">Belum ada data untuk identitas perguruan tinggi. Klik <a class="btn btn-info btn-sm form-identitas-pt"><span class="fa fa-pencil-square"></span></a> untuk input data identitas perguruan tinggi pertama kalinya.</p>')):($(".box").show(),$(".empty-pt-dt").remove(),$.each(a.record_pt,function(a,t){$.each(t,function(a,t){""==t&&(t="-"),"rt"!=a&&"rw"!=a||$("#tab-identitas-pt ."+a).text(t),$("#tab-identitas-pt .detail-data-pt."+a).text(t)})})),collapse_box("#tab-identitas-pt .box"),$("#myModal-pt").modal("hide");else if("data_fakultas"==a.data)$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-fk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_prodi"==a.data)if($("#box-detail-fk").is(":visible")){$("#box-detail-fk").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-detail-fk").find("div.overlay").fadeOut()});var t=$("#form-input-pstudi .id_fk_pd").val();$("#box-prodi").is(":visible")&&($(".tbl-data-pd").DataTable().ajax.reload(),$(".tbl-data-pd").DataTable().search("").draw()),data_detail_fk(t)}else $("#box-content").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_thn_angkatan"==a.data)$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-angkatan").DataTable().ajax.reload(),$("#tbl-thn-angkatan").DataTable().search("").draw(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_thn_akademik"==a.data)$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-akademik").DataTable().ajax.reload(),$("#tbl-thn-akademik").DataTable().search("").draw(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_mhs"==a.data)$(".check-all-siswa").iCheck("uncheck"),$("#cari_thn_angkatan, #cari_prodi").val(""),$("#box-siswa .box-title").text("Data Mahasiswa"),$("#box-siswa").find("div.overlay").fadeIn(),$(".tbl-data-mhs").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-siswa").find("div.overlay").fadeOut()}),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"mhs",csrf_key:token}}),$(".file-select-foto").fileinput("upload"));else if("data_ptk"==a.data)$(".check-all-guru").iCheck("uncheck"),$("#box-guru").find("div.overlay").fadeIn(),$(".tbl-data-ptk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-guru").find("div.overlay").fadeOut()}),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"ptk",csrf_key:token}}),$(".file-select-foto").fileinput("upload"));else if("data_studi_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("studi_ptk");else if("data_penelitian_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("penelitian_ptk");else if("data_mata_kuliah"==a.data)$(".check-all-mk").iCheck("uncheck"),$(".box-daftar-mk").fadeIn("slow"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top},800),daftar_mk($("select.id_pd_mk").val());else if("data_jadwal"==a.data){$("#box-content").find("div.overlay").fadeIn(),$(".tbl-daftar-jadwal").DataTable().ajax.reload();$.each(a.thn,function(a,t){l=t.thn_ajaran_jdl+" "+t.id_pd_mk}),daftar_jadwal(l),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})}else"data_mhs_kls"==a.data?($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.kelas),$(document).bind("ajaxComplete",function(){$("#box-kelas-mhs").find("div.overlay").fadeOut()})):"data_alumni"==a.data?0==$(".select2_data").val()&&($(".check-all-mhs-dt").iCheck("uncheck"),$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-alumni-do").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})):"data_mhs_do"==a.data?1==$(".select2_data").val()&&($(".check-all-mhs-dt").iCheck("uncheck"),$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-alumni-do").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})):"data_menu"==a.data&&list_menu("all");$("#myModal").modal("hide"),swal({title:"Data Berhasil Di Simpan",type:"success",timer:2e3})}else"failed"==a.status?($("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px"></ul></font></div>'),$.each(a.errors,function(a,t){$("#alert-place font ul").append("<li>"+t+"</li>"),"jadwal"!=s?$("#"+a).addClass("has-error"):"mata_pelajaran"!=a?$("#"+a).addClass("has-error"):$("#jadwal_mata_pelajaran").addClass("has-error")})):$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Ada masalah ketika menyimpan ke database</font></div>');else if("update"==e)if("success"==a.status){if("data_identitas_pt"==a.data)""==a.record_pt?($("#tab-identitas-pt .dl-horizontal .detail-data-pt").text("-"),$(".box").hide(),$("#tab-identitas-pt #profil, #tab-identitas-pt #kontak").append('<p class="text-center empty-pt-dt">Belum ada data untuk identitas perguruan tinggi. Klik <a class="btn btn-info btn-sm form-identitas-pt"><span class="fa fa-pencil-square"></span></a> untuk input data identitas perguruan tinggi pertama kalinya.</p>')):($(".box").show(),$(".empty-pt-dt").remove(),$.each(a.record_pt,function(a,t){$.each(t,function(a,t){""==t&&(t="-"),"rt"!=a&&"rw"!=a||$("#tab-identitas-pt ."+a).text(t),$("#tab-identitas-pt .detail-data-pt."+a).text(t)})})),collapse_box("#tab-identitas-pt .box"),$("#myModal-pt").modal("hide");else if("data_fakultas"==a.data)$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-fk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()}),$("#box-detail-fk").is(":visible")&&data_detail_fk(t=getUrlVars().fk);else if("data_prodi"==a.data)$("#box-detail-fk").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-detail-fk").find("div.overlay").fadeOut()}),$("#box-detail-fk").is(":visible")&&($(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active"),data_detail_fk(t=$("#form-input-pstudi .id_fk_pd").val())),$("#box-prodi").is(":visible")&&($(".tbl-data-pd").DataTable().ajax.reload(),$(".tbl-data-pd").DataTable().search("").draw());else if("data_konsentrasi_pd"==a.data)$("#tab-detail-fk .nav-tabs li.detail-prodi").is(":visible")&&delay(function(){window.location.href=path+"#data?pd="+a.pd+"&token="+token},500);else if("data_thn_akademik"==a.data)$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-akademik").DataTable().ajax.reload(),$("#tbl-thn-akademik").DataTable().search("").draw(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_thn_angkatan"==a.data)collapse_box("#box-content"),$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-angkatan").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_mhs"==a.data)$(".check-all-siswa").iCheck("uncheck"),""==$("#cari_thn_angkatan").val()&&""==$("#cari_prodi").val()&&$("#box-siswa .box-title").text("Data Mahasiswa"),1==a.status_update&&($("#box-siswa").find("div.overlay").fadeIn(),$(".tbl-data-mhs").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-siswa").find("div.overlay").fadeOut()})),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"mhs",csrf_key:token}}),$(".file-select-foto").fileinput("upload")),$("#box-detail-mhs").is(":visible")&&id_data_akademik_u==a.in&&$("#box-detail-mhs").attr("data-search")==a.in&&delay(function(){window.location.href=path+"#detail?mhs="+a.in+"&token="+token},500);else if("data_ptk"==a.data)1==a.status_update&&($("#box-guru").find("div.overlay").fadeIn(),$(".tbl-data-ptk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-guru").find("div.overlay").fadeOut()})),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"ptk",csrf_key:token}}),$(".file-select-foto").fileinput("upload")),$("#box-ptk").is(":visible")&&id_data_akademik_u==a.in&&delay(function(){window.location.href=path+"#detail?ptk="+a.in+"&token="+token},500);else if("data_studi_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("studi_ptk");else if("data_penelitian_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("penelitian_ptk");else if("data_mk"==a.data)$(".check-all-mk").iCheck("uncheck"),$(".box-daftar-mk").fadeIn("slow"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top},800),daftar_mk($("select.id_pd_mk").val());else if("data_jadwal"==a.data){$("#box-content").find("div.overlay").fadeIn(),$(".tbl-daftar-jadwal").DataTable().ajax.reload();var l;$.each(a.thn,function(a,t){l=t.thn_ajaran_jdl+" "+t.id_pd_mk}),daftar_jadwal(l),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})}else"data_mhs_kls"==a.data?($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.c_kls),$(document).bind("ajaxComplete",function(){$("#box-kelas-mhs").find("div.overlay").fadeOut()})):"data_alumni"==a.data?$("#box-detail-mhs").is(":visible")&&id_data_akademik_u==a.in&&"alumni"==$("#box-detail-mhs").attr("data-detail")&&$("#box-detail-mhs").attr("data-search")==a.in&&delay(function(){window.location.href=path+"#detail?alumni="+a.in+"&token="+token},500):"data_mhs_do"==a.data?$("#box-detail-mhs").is(":visible")&&id_data_akademik_u==a.in&&"alumni"==$("#box-detail-mhs").attr("data-detail")&&$("#box-detail-mhs").attr("data-search")==a.in&&delay(function(){window.location.href=path+"#detail?mhs_do="+a.in+"&token="+token},500):"data_menu"==a.data&&list_menu("all");$("#myModal").modal("hide"),swal({title:"Data Berhasil Di Update",type:"success",timer:2e3})}else"nothing_change"==a.status?$(".modal").modal("hide"):"failed"==a.status?($("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px"></ul></font></div>'),$.each(a.errors,function(a,t){$("#alert-place font ul").append("<li>"+t+"</li>"),$("#"+a).addClass("has-error")})):$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Ada masalah ketika menyimpan ke database</font></div>');else if("delete"==e)if("success"==a.status)"data_mhs"==a.data?($(".check-all-siswa").iCheck("uncheck"),""==$("#cari_thn_angkatan").val()&&""==$("#cari_prodi").val()&&$("#box-siswa .box-title").text("Data Mahasiswa"),a.delete_id==$("#box-detail-mhs").attr("data-search")&&$("#box-detail-mhs").slideUp(),$("#box-siswa").find("div.overlay").fadeIn(),$(".tbl-data-mhs").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-siswa").find("div.overlay").fadeOut()})):"data_ptk"==a.data?(a.delete_id==$("#box-ptk").attr("data-search")&&$("#box-ptk").slideUp(),$(".check-all-guru").iCheck("uncheck"),$("#box-guru").find("div.overlay").fadeIn(),$(".tbl-data-ptk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-guru").find("div.overlay").fadeOut()})):"data_studi_ptk"==a.data?$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("studi_ptk"):"data_penelitian_ptk"==a.data?$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("penelitian_ptk"):"data_mk"==a.data?($(".check-all-mk").iCheck("uncheck"),$(".check-mk").iCheck("uncheck"),$(".hapus").addClass("disabled"),$(".box-daftar-mk").fadeIn("slow"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top},800),daftar_mk($(".box-daftar-mk").attr("data-search"))):"data_jadwal"==a.data?""!=a.thn?($("#box-content").find("div.overlay").fadeIn(),daftar_jadwal(l=a.thn+" "+a.pd,!0),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})):($(".tbl-daftar-jadwal").DataTable().ajax.reload(),$("#box-jadwal,#box-kelas-mhs").slideUp(),$("table.tbl-data-jadwal").find("tbody").text("")):"data_fakultas"==a.data?($(".check-all-fk, .check-all-prodi").iCheck("uncheck"),$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-fk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()}),$("#box-detail-fk").is(":visible")&&$("#box-detail-fk").slideUp()):"data_prodi"==a.data?($(".check-all-prodi").iCheck("uncheck"),$("#box-detail-fk").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-detail-fk").find("div.overlay").fadeOut()}),$("#box-detail-fk").is(":visible")&&($(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active"),data_detail_fk(t=$("#form-input-pstudi .id_fk_pd").attr("value"))),$("#box-prodi").is(":visible")&&($(".tbl-data-pd").DataTable().ajax.reload(),$(".tbl-data-pd").DataTable().search("").draw())):"data_konsentrasi_pd"==a.data?$("#tab-detail-fk .nav-tabs li.detail-prodi").is(":visible")&&delay(function(){window.location.href=path+"#data?pd="+a.pd+"&token="+token},500):"data_mhs_kls"==a.data?($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.c_kls),$(document).bind("ajaxComplete",function(){$("#box-kelas-mhs").find("div.overlay").fadeOut()})):"data_alumni"==a.data?0==$(".select2_data").val()&&($(".check-all-data").iCheck("uncheck"),$(".box-alumni-do").find("div.overlay").fadeIn(),$(".tbl-data-alumni-do").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$(".box-alumni-do").find("div.overlay").fadeOut()}),$("#box-detail-mhs").is(":visible")&&getUrlVars().alumni==$("#box-detail-mhs").attr("data-search")&&$("#box-detail-mhs").slideUp()):"data_mhs_do"==a.data?1==$(".select2_data").val()&&($(".check-all-data").iCheck("uncheck"),$(".box-alumni-do").find("div.overlay").fadeIn(),$(".tbl-data-alumni-do").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$(".box-alumni-do").find("div.overlay").fadeOut()}),$("#box-detail-mhs").is(":visible")&&getUrlVars().mhs_do==$("#box-detail-mhs").attr("data-search")&&$("#box-detail-mhs").slideUp()):"data_menu"==a.data&&list_menu("all"),$("#myModal").modal("hide"),swal({title:"Data Berhasil Di Hapus",type:"success",timer:2e3});else{var n="  <font>Gagal menghapus data</font>";"no_active_thn_jdl"==a.status?n="  <font>"+a.error_message+"</font>":"no_active_thn_kls"==a.status&&(n="  <font>"+a.error_message+"</font>"),$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>'+n+"</div>")}},error:function(){"tambah"==e?t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-save"):"update"==e?t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square"):"delete"==e&&t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}})}),$(document).on("click","#submit-again",function(a){a.preventDefault(),$("#form-input,form").find(".has-error").removeClass("has-error");var t=$(this).find("li"),e=$("#form-input").attr("action"),s=getUrlVars();if("jadwal"==s)l=$("#form-input-jadwal").serialize();else if("prodi"==s||"fk,i,token"==s||"pd"==s)l=$("#form-input-pstudi").serialize();else if("kelas_mhs"==s)l=$("#form-input-kls-mhs").serialize()+"&kelas_mhs="+s.kelas_mhs;else if("pend_ptk"==s.data){l=$("#form-input-studi-ptk").serialize();$("#box-ptk").is(":visible")&&""!=$("#box-ptk").attr("data-search")&&(l=l+"&ptk_detail="+$("#box-ptk").attr("data-search"))}else if("research_ptk"==s.data){l=$("#form-input-penelitian-ptk").serialize();$("#box-ptk").is(":visible")&&""!=$("#box-ptk").attr("data-search")&&(l=l+"&ptk_detail="+$("#box-ptk").attr("data-search"))}else if("konsentrasi_prodi"==s.data||void 0!=s.prodi_kons)l=$("#form-input-konsentrasi-pd").serialize();else if("mhs_do"==s.data)l=$("#form-input-mhs-do").serialize();else var l=$("#form-input").serialize();$("#alert-place").text("");getUrlVars().data,$.ajax("http://"+host+controller_path+"/action/"+e,{dataType:"json",type:"POST",data:l,beforeSend:function(){t.removeClass("fa-clone").addClass("fa-circle-o-notch fa-spin")},complete:function(a){null!=a.responseJSON.login_rld&&($("#alert-place").text(""),$("#alert-place").prepend('<div class="alert alert-info alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-info-circle"></i> Info!</h4>  <font>Session anda telah berakhir, silihkan klik ulang untuk melanjutkan proses!</font></div>')),"tambah"==e&&("success"==a.responseJSON.status?(t.removeClass("fa-circle-o-notch fa-spin").addClass("fa-check"),setTimeout(function(){t.removeClass("fa-check fa-circle-o-notch fa-spin").addClass("fa-clone")},2e3)):t.removeClass("fa-refresh fa-spin").addClass("fa-clone")),$(".submit-process").fadeOut()},success:function(a){if("tambah"==e)if("success"==a.status){if("data_thn_angkatan"==a.data)$("#box-content").find("div.overlay").fadeIn(),$("#tbl-thn-angkatan").DataTable().ajax.reload(),$("#tbl-thn-angkatan").DataTable().search("").draw(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_fakultas"==a.data)$("#box-content").find("div.overlay").fadeIn(),$(".tbl-data-fk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()});else if("data_prodi"==a.data)$("#box-detail-fk").is(":visible")?($("#box-detail-fk").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-detail-fk").find("div.overlay").fadeOut()}),data_detail_fk($("#form-input-pstudi .id_fk_pd").val())):($("#box-content").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()}));else if("data_mhs"==a.data)$(".check-all-siswa").iCheck("uncheck"),$('input[type="radio"]').iCheck("uncheck"),$("#cari_thn_angkatan, #cari_prodi").val(""),$("#box-siswa .box-title").text("Data Mahasiswa"),$(".tbl-data-mhs").DataTable().ajax.reload(),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"mhs",csrf_key:token}}),$(".file-select-foto").fileinput("upload"));else if("data_ptk"==a.data)$(".check-all-guru").iCheck("uncheck"),$('input[type="radio"]').iCheck("uncheck"),$("#box-guru").find("div.overlay").fadeIn(),$(".tbl-data-ptk").DataTable().ajax.reload(),$(document).bind("ajaxComplete",function(){$("#box-guru").find("div.overlay").fadeOut()}),""!=$(".file-select-foto").val()&&($(".file-select-foto").fileinput("refresh",{uploadExtraData:{data:a.in,pt:"ptk",csrf_key:token}}),$(".file-select-foto").fileinput("upload"));else if("data_studi_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("studi_ptk");else if("data_penelitian_ptk"==a.data)$("#box-ptk").is(":visible")&&$("#box-ptk").attr("data-search")==a.in_ptk&&detail_data_ptk("penelitian_ptk");else if("data_mata_kuliah"==a.data)$(".check-all-mk").iCheck("uncheck"),$(".box-daftar-mk").fadeIn("slow"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top},800),daftar_mk($("select.id_pd_mk").val());else if("data_jadwal"==a.data){$("#box-content").find("div.overlay").fadeIn(),$(".tbl-daftar-jadwal").DataTable().ajax.reload();var t;$.each(a.thn,function(a,e){t=e.thn_ajaran_jdl+" "+e.id_pd_mk}),daftar_jadwal(t),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})}else"data_mhs_kls"==a.data&&($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.kelas),$(document).bind("ajaxComplete",function(){$("#box-kelas-mhs").find("div.overlay").fadeOut()}));$(".modal #form-input,.modal form").find("input[type=text], input[type=number]").val(""),$('.modal input[type="radio"]').iCheck("uncheck"),$(".modal .select2").val(null).trigger("change"),$(".modal").find(".has-error").removeClass("has-error"),swal({title:"Data Berhasil Di Simpan",type:"success",timer:2e3})}else"failed"==a.status?($("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px"></ul></font></div>'),$.each(a.errors,function(a,t){$("#alert-place font ul").append("<li>"+t+"</li>"),"jadwal"!=s?$("#"+a).addClass("has-error"):"mata_pelajaran"!=a?$("#"+a).addClass("has-error"):$("#jadwal_mata_pelajaran").addClass("has-error")})):$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Ada masalah ketika menyimpan ke database</font></div>');token=a.n_token},error:function(){"tambah"==e&&t.removeClass("fa-refresh fa-spin").addClass("fa-clone"),swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}})}),$.fn.select2.defaults.set("language","id"),$(".select2_input_kelas").select2({placeholder:"Pilih kelas"}),$(".select2_agama").select2({placeholder:"Pilih agama"}),$(".select2_jns_tinggal").select2({placeholder:"Pilih jenis tinggal"}),$(".select2_alt_trans").select2({placeholder:"Pilih alat transportasi"}),$(".select2_jenjang_pendi").select2({placeholder:"Pilih jenjang pendidikan terakhir"}),$(".select2_pekerjaan").select2({placeholder:"Pilih pekerjaan sekarang"}),$(".select2_penghasilan").select2({placeholder:"Pilih jangkauan penghasilan"}),$("#select2_tampil_siswa").select2({placeholder:"Tampilkan data berdasarkan"}),$(".select2_status").select2({placeholder:"Pilih status perguruan tinggi"}),$(".select2_bentuk_pendi").select2({placeholder:"Pilih bentuk perguruan tinggi"}),$(".select2_status_milik").select2({placeholder:"Pilih status kepemilikan"}),$(".select2_status_bos").select2({placeholder:"Pilih status BOS"}),$(".select2_waktu_peny").select2({placeholder:"Pilih waktu penyelenggaraan"}),$(".select2_sertifikat_iso").select2({placeholder:"Pilih status sertifikasi ISO"}),$(".select2_status_ptk").select2({placeholder:"Pilih status tenaga pendidik"}),$(".select2_status_aktif_ptk").select2({placeholder:"Pilih status keaktifan tenaga pendidik"}),$(".control-panel-data-tbl .select2_status_aktif_ptk").select2({placeholder:"Pilih status keaktifan tenaga pendidik",allowClear:!0}),$(".select2_jenis_ptk").select2({placeholder:"Pilih jenis PTK"}),$(".select2_kategori").select2({placeholder:"Pilih kategori perguruan tinggi"}),$(".select2_jenjang").select2({placeholder:"Pilih jenjang"}),$(".select2_kompetensi").select2({placeholder:"Pilih kompetensi"}),$(".select2_kode_mp").select2({placeholder:"Pilih kode mata pelajaran"}),$(".select2_hari").select2({placeholder:"Pilih hari"}),$(".select2_semester").select2({placeholder:"Pilih semester"}),$(".select2_akreditasi_fk").select2({placeholder:"Pilih akreditasi fakultas"}),$(".select2_jenjang").select2({placeholder:"Pilih jenjang program studi"}),$(".select2_akreditasi_prodi").select2({placeholder:"Pilih akreditasi program studi"}),$(".select2_status_prodi").select2({placeholder:"Pilih status program studi"}),$(".select2_smstr").select2({placeholder:"Pilih tahun semester"}),$(".select2_semester").select2({placeholder:"Pilih semester"}),$(".select2_kelas").select2({placeholder:"Pilih kelas"}),$(".select2_jenismk").select2({placeholder:"Pilih mata kuliah umum/konsentrasi"}),$(".select2_tamp").select2({placeholder:"Pilih jumlah data yang ditampilkan",minimumResultsForSearch:-1}),$(".select2_status_menu").select2({placeholder:"Pilih status menu",minimumResultsForSearch:-1}),$(".select2_lvl_access_menu").select2({placeholder:"Pilih akses menu",minimumResultsForSearch:-1}),$(".select2_status_access_menu").select2({placeholder:"Pilih status akses menu",minimumResultsForSearch:-1}),$(".select2_status_access_sub_menu").select2({placeholder:"Pilih status akses sub menu",minimumResultsForSearch:-1}),$(".select2_data").select2({placeholder:"Pilih data yang ditampilkan",minimumResultsForSearch:-1,templateResult:function(a){var t;return 0==a.id?t="fa-graduation-cap":1==a.id&&(t="fa-user-times"),$("<p style='margin-bottom:0px'><i class='fa "+t+"'></i> "+a.text+"</p>")}}),$(".select2_browser").select2({placeholder:"Pilih browser",minimumResultsForSearch:-1,allowClear:!0,templateResult:function(a){var t;return t="Chrome"==a.id?"fa-chrome":"Mozilla"==a.id?"fa-firefox":"Edge"==a.id?"fa-edge":"Internet Explorer"==a.id?"fa-internet-explorer":"Safari"==a.id?"fa-apple":"Opera"==a.id?"fa-opera":"fa-globe",$("<p style='margin-bottom:0px'><i class='fa "+t+"'></i> "+a.text+"</p>")}}),$(".select2_platform").select2({placeholder:"Pilih platform",minimumResultsForSearch:-1,allowClear:!0,templateResult:function(a){var t;return t="Windows"==a.id?"fa-windows":"Linux"==a.id?"fa-linux":"Android"==a.id?"fa-android":"IOS"==a.id?"fa-apple":"MAC OS X"==a.id?"fa-apple":"fa-cube",$("<p style='margin-bottom:0px'><i class='fa "+t+"'></i> "+a.text+"</p>")}}),$(".select2_thn_akademik").select2({placeholder:"Pilih tahun akademik",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return path==controller_path+"/data_jadwal_kuliah"?{value:a.term,page:a.page,data:"daftar_thn_akademik",status:"active",csrf_key:token}:{value:a.term,page:a.page,data:"daftar_thn_akademik",status:"all",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.thn_ajaran}}},minimumInputLength:1,allowClear:!0,templateResult:function(a){if(a.loading)return a.text;var t=a.thn_ajaran_jdl.split("/"),e=t[0];if("1"==t[1])s="Ganjil";else var s="Genap";var l=$("<p style='margin-bottom:0px'>"+e+"/"+s+"</p>");return void 0!=a.text?l:void 0}}),$(".select2_thn_angkatan").select2({placeholder:"Pilih Tahun Angkatan",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_thn_angkatan",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.thn_angkatan}}},minimumInputLength:1,allowClear:!0}),$(".select2_fk").select2({placeholder:"Pilih Fakultas",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_fk",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.fk}}},minimumInputLength:1}),$(".select2_prodi").select2({placeholder:"Pilih Program Studi",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_pd",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.pd}},cache:!1},minimumInputLength:1,allowClear:!0}),$(".select2_mk").select2({placeholder:"Pilih mata kuliah",ajax:{url:"http://"+host+data_akademik_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){return{value:a.term,page:a.page,data:"daftar_mk",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.mk}}},minimumInputLength:1,templateResult:function(a){if(path==controller_path+"/data_jadwal_kuliah"){if(a.loading)return a.text;if(""==a.nama_prodi)t=a.nama_prodi="-";else var t=a.nama_prodi+" ("+a.jenjang_prodi+")";var e=$("<p style='margin-bottom:0px'><i class='fa fa-book'></i> "+a.text+"</p><p style='margin-bottom:0px'>Program Studi: "+t+"</p><p style='margin-bottom:0px'>Jumlah SKS: "+a.jml_sks+"</p>");if(void 0!=a.text)return e}}}),$(".select2_konsentrasi_mk").select2({placeholder:"Pilih konsentrasi mata kuliah",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){var t=$.param.fragment();if("tambah"==t||0==t.search("edit")&&void 0!=getUrlVars().mk)e=$("#form-input .select2_prodi").val();else if("edit"==t)var e=$("#form-edit-mk .select2_prodi").val();return{value:a.term,page:a.page,data:"daftar_konsentrasi",prodi:e,csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.konsentrasi}}},minimumInputLength:1,allowClear:!0,templateResult:function(a){if(a.loading)return a.text;if(""==a.nama_prodi)t=a.nama_prodi="-";else var t=a.nama_prodi+" ("+a.jenjang_prodi+")";var e=$("<p style='margin-bottom:0px'><i class='fa fa-book'></i> "+a.detail+"</p><p style='margin-bottom:0px'>Program Studi: "+t+"</p>");return void 0!=a.text?e:void 0}}),$(".select2_ptk").select2({placeholder:"Pilih dosen",ajax:{url:"http://"+host+data_akademik_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){return{value:a.term,page:a.page,data:"daftar_ptk",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.ptk,pagination:{more:a.total_data<a.total_count}}}},minimumInputLength:1,templateResult:function(a){if(a.loading)return a.text;if(""!=a.nama_prodi?a.nama_prodi=a.nama_prodi+" ("+a.jenjang_prodi+")":a.nama_prodi="-",path==controller_path+"/data_jadwal_kuliah")t=$("<div class='row' style='margin-left:0;margin-right:0;'>  <div class='col-md-3 col-sm-3 col-xs-3 hidden-phone' style='width:100px;'>    <img class='profile-user-img img-responsive img-circle photo-ptk-detail' src='"+a.photo+"' alt='Foto "+a.nama+"' style='width:68px;height:70px;margin-top:10px'>  </div>  <div class='col-md-9 col-sm-9 col-xs-12' style='padding-left:0'>    <table style='margin:5px 0 5px 0'>      <tr>        <td>NIDN</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nidn+"</td>      </tr>      <tr>        <td>NAMA</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nama+"</td>      </tr>      <tr>        <td>Program Studi</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nama_prodi+"</td>      </tr>      <tr>        <td>Status Keaktifan</td>        <td>&nbsp:&nbsp</td>        <td>"+a.status_aktif_ptk+"</td>      </tr>  </table>  </div></div>");else if(path==controller_path+"/data_ptk")var t=$("<div class='row' style='margin-left:0;margin-right:0;'>  <div class='col-md-3 col-sm-3 col-xs-3 hidden-phone' style='width:100px;'>    <img class='profile-user-img img-responsive img-circle photo-ptk-detail' src='"+a.photo+"' alt='Foto "+a.nama+"' style='width:68px;height:70px'>  </div>  <div class='col-md-9 col-sm-9 col-xs-12' style='padding-left:0'>    <table style='margin:5px 0 5px 0'>      <tr>        <td>NIDN</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nidn+"</td>      </tr>      <tr>        <td>NAMA</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nama+"</td>      </tr>      <tr>        <td>Program Studi</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nama_prodi+"</td>      </tr>  </table>  </div></div>");return void 0!=a.text?t:void 0}}),$(".select2_jadwal").select2({placeholder:"Pilih tahun akademik",ajax:{url:"http://"+host+data_master_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_thn_akademik",spec:"daftar_jadwal",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.jadwal}}},minimumInputLength:1,allowClear:!0,templateResult:function(a){if(path==controller_path+"/data_jadwal_kuliah"){if(a.loading)return a.text;var t=a.thn_ajaran_jdl.split("/"),e=t[0];if("1"==t[1])s="Ganjil";else var s="Genap";var l=$("<p style='margin-bottom:0px'>"+e+"/"+s+" "+a.nama_prodi+" ("+a.jenjang_prodi+")</p>");if(void 0!=a.text)return l}}}),$(".select2_mhs").select2({placeholder:"Pilih mahasiswa",ajax:{url:"http://"+host+data_akademik_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){return{value:a.term,page:a.page,data:"daftar_mhs",pd:getUrlVars().kelas_mhs,act:getUrlVars().data,csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.mhs,pagination:{more:a.total_data<a.total_count}}}},minimumInputLength:1,allowClear:!0,templateResult:function(a){if(a.loading)return a.text;var t=$("<div class='row' style='margin-left:0;margin-right:0;'>  <div class='col-md-3 col-sm-3 col-xs-3 hidden-phone' style='width:100px;'>    <img class='profile-user-img img-responsive img-circle photo-mhs-detail' src='"+a.photo+"' alt='Foto "+a.nama_mhs+"' style='width:68px;height:70px'>  </div>  <div class='col-md-9 col-sm-9 col-xs-12' style='padding-left:0'>    <table style='margin:5px 0 5px 0'>      <tr>        <td>NIM</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nim_mhs+"</td>      </tr>      <tr>        <td>NAMA</td>        <td>&nbsp:&nbsp</td>        <td>"+a.nama_mhs+"</td>      </tr>      <tr>        <td>Tahun Angkatan</td>        <td>&nbsp:&nbsp</td>        <td>"+a.tahun_angkatan+"</td>      </tr>  </table>  </div></div>");return void 0!=a.text?t:void 0}}),$(".select2_kls_mhs").select2({placeholder:"Pilih kelas",ajax:{url:"http://"+host+data_akademik_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){if(path==controller_path+"/data_jadwal_kuliah"){var t=[];return null==getUrlVars().kelas&&$(".check-mhs-kls:checked").each(function(){t.push($(this).val())}),{value:a.term,page:a.page,data:"daftar_kelas",thn:getUrlVars().kelas,m_thn:t[0],csrf_key:token}}},processResults:function(a,t){return t.page=t.page||1,{results:a.kls}}},minimumInputLength:1,allowClear:!0,templateResult:function(a){if(path==controller_path+"/data_jadwal_kuliah"){if(a.loading)return a.text;var t=a.jns;t=0==t?"":" (Konsentrasi "+t+")";var e=$("<p class=><div class='pull-left'><i class='fa fa-building-o'></i> "+a.semester+"/"+a.kelas+" </div><div class='pull-right'><i class='fa fa-group' title='Jumlah mahasiswa kelas "+a.semester+"/"+a.kelas+"'></i> "+a.jml_mhs+" <i class='fa fa-male' title='Jumlah mahasiswa laki-laki kelas "+a.semester+"/"+a.kelas+"'></i> "+a.jml_lk+" <i class='fa fa-female' title='Jumlah mahasiswa perempuan kelas "+a.semester+"/"+a.kelas+"'></i> "+a.jml_pr+"</div></p><p class='' style='clear:both'>Mata Kuliah: "+a.mk+t+"</p>");if(void 0!=a.text)return e}}}),$(".select2_nilai_mhs").select2({placeholder:"Masukkan NIM Mahasiswa",allowClear:!0,ajax:{url:"http://"+host+data_akademik_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){return{value:a.term,page:a.page,data:"daftar_nilai_mhs",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.nilai_mhs}}},minimumInputLength:1,templateResult:function(a){if(a.loading)return a.text;""==a.nama_prodi&&(a.nama_prodi="-");var t=$("<p style='margin-bottom:0px'><i class='fa fa-user'></i> NIM: "+a.nim_mhs+"</p><p style='margin-bottom:0px'>Nama: "+a.nama_mhs+"</p><p style='margin-bottom:0px'>Tahun Akademik: "+a.thn_akademik+"</p>");return void 0!=a.text?t:void 0}}),$(".select2_tbl_db").select2({placeholder:"Pilih tabel database",allowClear:!0,ajax:{url:"http://"+host+data_dashboard_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,csrf_key:token,data:"list_table_db"}},processResults:function(a,t){return t.page=t.page||1,{results:a.list_tbl}}}}),$(".select2_browser_rd").select2({placeholder:"Pilih browser",allowClear:!0,minimumResultsForSearch:-1,ajax:{url:"http://"+host+data_pengguna_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_browser",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.browser}}},templateResult:function(a){if(a.loading)return a.text;var t=$("<p style='margin-bottom:0px'><i class='fa "+a.icon+"'></i> "+a.text+"</p>");return void 0!=a.text?t:void 0}}),$(".select2_platform_rd").select2({placeholder:"Pilih platform",allowClear:!0,minimumResultsForSearch:-1,ajax:{url:"http://"+host+data_pengguna_path+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_platform",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.platform}}},templateResult:function(a){if(a.loading)return a.text;var t=$("<p style='margin-bottom:0px'><i class='fa "+a.icon+"'></i> "+a.text+"</p>");return void 0!=a.text?t:void 0}}),$(".select2_parent_menu").select2({placeholder:"Masukkan nama menu",allowClear:!0,ajax:{url:"http://"+host+data_dashboard_path+"/action/ambil",type:"post",dataType:"json",delay:600,data:function(a){return{value:a.term,page:a.page,data:"daftar_menu",csrf_key:token}},processResults:function(a,t){return t.page=t.page||1,{results:a.menu}}},minimumInputLength:1,templateResult:function(a){if(a.loading)return a.text;var t=$("<p style='margin-bottom:0px'>Nama Menu: <i class='"+a.icon+"'></i> "+a.text+"</p><p style='margin-bottom:0px'>Level Menu: "+a.level+"</p><p style='margin-bottom:0px'>Status: "+a.status+"</p>");return void 0!=a.text?t:void 0}}),$(".select2_thn_akademik").on("change",function(){path==controller_path+"/data_thn_akademik"&&$(this).val()&&thn_akademik_chart($(this).val())}),$(".select2_tbl_db").on("change",function(){null!=$(this).val()?$(".backup_db_tbl, #backup-tbl-db-btn").removeClass("disabled"):$(".backup_db_tbl, #backup-tbl-db-btn").addClass("disabled")}),$(".select2_lvl_access_menu").on("change",function(){"admin"==$(this).val()?($("label[for=link_menu]").text("Link Menu : "+admin_url+$("#form-input-menu input.link_menu").val()),$("label[for=link_menu]").siblings("p.link_preview").text("Link: "+admin_url+$("#form-input-menu input.link_menu").val())):""!=$(this).val()?($("label[for=link_menu]").text("Link Menu : "+base_url+$("#form-input-menu input.link_menu").val()),$("label[for=link_menu]").siblings("p.link_preview").text("Link: "+base_url+$("#form-input-menu input.link_menu").val())):($("label[for=link_menu]").text("Link Menu"),$("label[for=link_menu]").siblings("p.link_preview").text(""))}),$(".select2_platform, .select2_browser").on("change",function(){""!=$(".select2_platform").val()||""!=$(".select2_browser").val()?$("#tamp-data").removeClass("disabled"):$("#tamp-data").addClass("disabled")}),$(".L").on("ifClicked",function(a){$(".L").val(this.value)}),$(".P").on("ifClicked",function(a){$(".P").val(this.value)}),$(".form-group .backup_db").on("ifClicked",function(a){$(this).val(this.value)}),$('input[type="radio"]').iCheck({radioClass:"iradio_flat-blue"}),$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"}),$(document).on("ifChecked",".check-all-data",function(){var a=$(this).attr("data-selected"),t=$(this).attr("data-all-selected");$("."+a).iCheck("check"),$("."+t).iCheck("check")}),$(document).on("ifUnchecked",".check-all-data",function(){var a=$(this).attr("data-selected"),t=$(this).attr("data-all-selected"),e=$(this).attr("data-toggle").split(",");$("."+a).iCheck("uncheck"),$("."+t).iCheck("uncheck"),$.each(e,function(a,t){$(t).addClass("disabled")})}),$(document).on("ifChecked",".check-data",function(){var a=[],t=[],e=$(this).attr("data-selected"),s=$(this).attr("data-all-selected"),l=$(this).attr("data-toggle").split(",");$("."+e+":checked").each(function(){a.push($(this).val())}),$("."+e).each(function(){t.push($(this).val())}),t.length==a.length?$("."+s).iCheck("check"):$("."+s).iCheck("uncheck"),a.length>0?$.each(l,function(a,t){$(t).removeClass("disabled")}):$.each(l,function(a,t){$(t).addClass("disabled")})}),$(document).on("ifUnchecked",".check-data",function(){var a=[],t=$(this).attr("data-selected"),e=$(this).attr("data-all-selected"),s=$(this).attr("data-toggle").split(",");$("."+e).removeAttr("checked").iCheck("update"),$("."+t+":checked").each(function(){a.push($(this).val())}),a.length>0?$.each(s,function(a,t){$(t).removeClass("disabled")}):$.each(s,function(a,t){$(t).addClass("disabled")})}),$(document).on("click","#delete-selected",function(a){a.preventDefault();var t=[],e=$("#data").attr("name"),s=$(this).find("li");if(s.removeClass("fa-trash").addClass("fa-circle-o-notch fa-spin"),path==controller_path+"/data_mahasiswa"){var l=[];$(".check-siswa:checked").each(function(){if(""!=$(this).val()){var a=$(this).val().split(" ");t.push(a[0]),l.push(a[1])}}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,id_ortu:l,data:"data_mhs"},1e3)).then(function(a){"success"==a.status&&($("#box-detail-mhs").is(":visible")&&$.each(a.delete_id,function(a,t){if($("#box-detail-mhs").is(":hidden"))return!0;t==$("#box-detail-mhs").attr("data-search")&&$("#box-detail-mhs").slideUp()}),$("#myModal").modal("hide"),$(".tbl-data-mhs").DataTable().ajax.reload())})}else if(path==controller_path+"/data_ptk")$(".check-guru:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:"data_ptk"},1e3)).then(function(a){"success"==a.status&&($("#box-ptk").is(":visible")&&$.each(a.delete_id,function(a,t){if($("#box-ptk").is(":hidden"))return!0;t==$("#box-ptk").attr("data-search")&&$("#box-ptk").slideUp()}),$("#myModal").modal("hide"),$(".tbl-data-ptk").DataTable().ajax.reload())});else if(path==controller_path+"/data_fakultas_pstudi")"fk"==getUrlVars()?($(".check-fk:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:"data_fakultas"},1e3)).then(function(a){"success"==a.status&&($(".tbl-data-fk").DataTable().ajax.reload(),$("#box-detail-fk").is(":visible")&&$("#box-detail-fk").slideUp(),$("#myModal").modal("hide"))})):"pd"==getUrlVars()&&($(".check-prodi:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:"data_prodi"},1e3)).then(function(a){"success"==a.status&&($("#box-detail-fk").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-detail-fk").find("div.overlay").fadeOut()}),$("#box-detail-fk").is(":visible")&&($(".close-dt-pd-bt").fadeOut(),$(".detail-prodi").fadeOut().removeClass("active").find("a").attr("aria-expanded","false"),$("#detail-prodi").removeClass("active"),$(".daftar-prodi").addClass("active").find("a").attr("aria-expanded","true"),$("#daftar-prodi").addClass("active"),data_detail_fk(a.data)),$("#myModal").modal("hide"))}));else if(path==controller_path+"/data_mata_kuliah")$(".check-mk:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:"data_mk"},1e3)).then(function(a){"success"==a.status&&($(".check-all-mk").iCheck("uncheck"),$(".hapus").addClass("disabled"),$(".box-daftar-mk").fadeIn("slow"),$("html, body").animate({scrollTop:$(".box-daftar-mk").offset().top},800),daftar_mk($(".box-daftar-mk").attr("data-search")),$("#myModal").modal("hide"))});else if(path==controller_path+"/data_jadwal_kuliah")"jadwal"==getUrlVars().data?($(".check-jadwal:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:"data_jadwal_kuliah"},1e3)).then(function(a){"success"==a.status&&(""!=a.thn?daftar_jadwal(a.thn+" "+a.pd,!0):($(".tbl-daftar-jadwal").DataTable().ajax.reload(),$("#box-jadwal").slideUp(),$("#box-content").find("div.overlay").fadeIn(),$(document).bind("ajaxComplete",function(){$("#box-content").find("div.overlay").fadeOut()})),$("#myModal").modal("hide"))})):"kls_mhs"==getUrlVars().data&&($(".check-mhs-kls:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(d=t.length)>0&&(o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,kelas:getUrlVars().kls_mhs,data:"data_mhs_kls"},1e3)).then(function(a){"success"==a.status&&($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.c_kls),$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("#myModal").modal("hide"))}));else if(path==controller_path+"/data_alumni_do"){if($(".check-mhs-dt:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),0==$(".select2_data").val()){var n="alumni",i=0;e="data_alumni"}else if(1==$(".select2_data").val()){var n="mhs_do",i=1;e="data_mhs_do"}var d=t.length;if(d>0){var o=getJSON_async("http://"+host+controller_path+"/action/delete",{id:t,data:e},1e3);o.then(function(a){"success"==a.status&&($("#box-detail-mhs").is(":visible")&&$.each(a.delete_id,function(a,t){if($("#box-detail-mhs").is(":hidden"))return!0;t==$("#box-detail-mhs").attr("data-search")&&$("#box-detail-mhs").attr("data-detail")==n&&$("#box-detail-mhs").slideUp()}),$("#myModal").modal("hide"),$("#box-content").find("div.overlay").fadeIn(),$(".select2_data").val()==i&&$(".tbl-data-alumni-do").DataTable().ajax.reload())})}}void 0!=d&&d<1&&$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font>Silahkan pilih data yang ingin dihapus</font></div>'),void 0!=o&&o.then(function(a){s.removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),"success"==a.status?swal({title:"Data Berhasil Di Hapus",type:"success",timer:2e3}):null!=a.message?$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>'+a.message+"</font></div>"):null!=a.errors&&null!=a.message||($(".data-message").show(),$(".data-message .content-message").addClass("centered-content").html("Maaf, terjadi kesalahan ketika menghapus data!"))}).catch(function(a){s.removeClass("fa-circle-o-notch fa-spin").addClass("fa-trash"),$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Terjadi kesalahan saat menghapus data, <b>Error '+a.status+": "+a.statusText+"</b></font></div>")})}),$(document).on("click","#pindah-kelas",function(a){a.preventDefault(),$("#alert-place").text("");var t=[],e=$(this).find("li");if(e.removeClass("fa-pencil-square").addClass("fa-circle-o-notch fa-spin"),path==controller_path+"/data_mahasiswa"){var s=$("#form-pindah-kelas select[name=id_pd_mhs]").val();$(".check-siswa:checked").each(function(){""!=$(this).val()&&t.push($(this).val())}),(l=t.length)>0&&(i=getJSON_async("http://"+host+controller_path+"/action/update_pd",{id:t,pd:s},500)).then(function(a){"success"==a.status?($("#myModal").modal("hide"),$(".check-all-siswa").iCheck("uncheck"),$("#box-siswa").find("div.overlay").fadeIn(),$(".tbl-data-mhs").DataTable().ajax.reload(),$("#box-siswa").find("div.overlay").fadeOut(),$(".aksi").addClass("disabled"),swal({title:"Data Berhasil Di Update",type:"success",timer:2e3})):"failed_db"==a.status?$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font>Maaf terjadi kesalahan dalam memindahkan program studi mahasiswa</font></div>'):$("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font>'+a.error_message+"</font></div>")})}else if(path==controller_path+"/data_jadwal_kuliah"){$(".check-mhs-kls:checked").each(function(){""!=$(this).val()&&t.push($(this).val())});var l=t.length;if(l>0){var n=$("#form-pindah-kelas .select2_kls_mhs").val(),i=getJSON_async("http://"+host+controller_path+"/action/update",{id:t,update_kelas:"data_mhs_kls",kls_mhs:n,c_kls:getUrlVars().kls_mhs},500);i.then(function(a){"success"==a.status?($("#box-kelas-mhs").find("div.overlay").fadeIn(),daftar_kelas_mhs(a.c_kls),$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("#myModal").modal("hide"),swal({title:"Data Berhasil Di Update",type:"success",timer:2e3})):($("#alert-place").prepend('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font></font></div>'),""!=a.errors?$.each(a.errors,function(a,t){$("#alert-place font").append("<li>"+t+"</li>")}):$("#alert-place font").append("<li>Maaf terjadi kesalahan ketika mengupdate data!</li>"))})}}void 0!=l&&l<1&&$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font>Silahkan pilih data yang ingin diupdate</font></div>'),void 0!=i&&i.then(function(){e.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square")}).catch(function(){e.removeClass("fa-circle-o-notch fa-spin").addClass("fa-pencil-square")})}),$(".file-select-foto").fileinput({showUpload:!1,browseClass:"btn btn-info",browseLabel:"Pilih Berkas",browseIcon:'<li class="fa fa-folder-open"></li>',uploadClass:"btn btn-success",uploadIcon:'<li class="fa fa-upload"></li>',removeLabel:"Hapus",removeClass:"btn btn-danger",removeIcon:'<li class="fa fa-trash"></li>',cancelIcon:'<li class="fa fa-ban"></li>',allowedFileExtensions:["jpg","jpeg","png"],autoReplace:!0,maxFileCount:1,maxFileSize:1024,language:"id",uploadUrl:"http://"+host+controller_path+"/upload_file",uploadAsync:!0,showPreview:!0,elErrorContainer:".validation-ft-inp"}),$(".file-select-foto").on("fileclear",function(){$(this).parents().find(".fileinput-remove-button").hide(),$("#myModal .new-photo-file-name").text("Nama File: -"),$("#myModal .new-photo-usr").attr("src",$("#myModal .new-photo-usr").attr("default-photo"))}),$(".file-select-foto").on("change",function(){$(this).parents().find(".fileinput-remove-button").show()}),$(".file-select-foto").on("fileloaded",function(a,t,e,s,l){if($("#myModal .new-photo-usr").attr("src",l.result),""!=t){var n=t.type.split("/");t.size<=1024e3&&"jpeg"==n[1]||t.size<=1024e3&&"jpg"==n[1]||t.size<=1024e3&&"png"==n[1]?($("#myModal .new-photo-file-name").text("Nama File: "+t.name),0==$.param.fragment().search("edit")?path.search("admin/data_akademik/data_mahasiswa")>0?$(".file-select-foto").fileinput("refresh",{showUpload:!0,uploadExtraData:{data:getUrlVars().mhs,pt:"mhs",upload_act:"singleUpload",csrf_key:token}}):path.search("admin/data_akademik/data_ptk")>0&&$(".file-select-foto").fileinput("refresh",{showUpload:!0,uploadExtraData:{data:getUrlVars().ptk,pt:"ptk",upload_act:"singleUpload",csrf_key:token}}):$(".file-select-foto").fileinput("refresh",{showUpload:!1})):($(this).parents().find(".fileinput-remove-button").hide(),$(".file-select-foto").fileinput("clear"))}else $(this).parents().find(".fileinput-remove-button").hide(),$(".file-select-foto").fileinput("clear")}),$(".file-select-foto").on("fileuploaded",function(a,t){null!=t.extra.upload_act?"success"==t.response.status?(null!=t.response.photo_c&&null!=t.response.file_name&&($("#form-input .photo-usr-edit-n").attr("src",t.response.photo_c),$("#form-input .photo-file-name").text("Nama File: "+t.response.file_name),$("#form-input .remove-photo").show()),$(".file-select-foto").fileinput("enable").fileinput("refresh").fileinput("clear")):($("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px">'+t.response.errors+"</ul></font></div>"),$(this).parents().find(".fileinput-upload-button").replaceWith("")):$(".file-select-foto").fileinput("enable").fileinput("refresh").fileinput("clear"),token=t.response.n_token}),$(".file-select-foto").on("fileuploaderror",function(a,t,e){$("#myModal .validation-ft-inp").hide(),4==t.jqXHR.readyState?$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Kesalahan!</h4>  <font><ul style="padding-left:15px"><li>Terjadi kesalahan pada server saat proses upload photo.</li></ul></font></div>'):($(this).parents().find(".fileinput-upload-button").replaceWith(""),$("#alert-place").html('<div class="alert alert-danger alert-dismissible">  <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>  <h4><i class="icon fa fa-ban"></i> Validasi Gagal!</h4>  <font><ul style="padding-left:15px"><li>'+e+"</li></ul></font></div>"))}),$(document).on("click",".kv-error-close",function(a){a.preventDefault()}),$.fn.dataTable.ext.errMode="none",$.extend(!0,$.fn.dataTable.defaults,{oLanguage:{oPaginate:{sNext:"<li class='fa fa-angle-double-right' title='Selanjutnya'></li>",sPrevious:"<li class='fa fa-angle-double-left' title='Sebelumnya'></li>",sFirst:"Pertama",sLast:"Terakhir"},sInfo:"Menampilkan Data (_START_ Sampai _END_) Dari _TOTAL_ Data",sInfoEmpty:"Data tidak ditemukan",sProcessing:"<div class='datatable-loading-text load-datatable'>Memuat Data</div>",sLoadingRecords:"<center>Memproses Data...</center>",sSearch:"",sInfoFiltered:" - Hasil Pencarian Dari _MAX_ Data",sZeroRecords:"<center>Data yang dicari tidak ditemukan</center>"},fnDrawCallback:function(){$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"})},initComplete:function(a,t){}}),$(".datatable-dt").on("preXhr.dt",function(a,t,e){var s=0;$(".load-datatable").html("Memuat Data"),clearInterval(intval_vars),intval_vars=setInterval(function(){$(".load-datatable").append(". "),4==++s&&($(".load-datatable").html("Memuat Data"),s=0)},400),e.csrf_key=token;var l=$(this).attr("data-tbl-selected");void 0!=l&&(l=l.split(" "),$("."+l[0]).iCheck("uncheck"),$("."+l[1]).iCheck("uncheck"));$(this).attr("table-box")});var a=$("#tbl-thn-akademik").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/data_thn_akademik",type:"POST",data:{length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[0,"desc"]],columns:[{data:"thn_ajaran_jdl"},{data:"tgl_ma_ajar",sClass:"text-center",orderable:!1},{data:{thn_ajaran_jdl:"thn_ajaran_jdl",jml_mhs:"jml_mhs",jml_mhs_lk:"jml_mhs_lk",jml_mhs_pr:"jml_mhs_pr"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.thn_ajaran_jdl;return'<li class="fa fa-users" title="Jumlah mahasiswa tahun akademik '+s+'"></li> '+e.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki tahun akademik '+s+'"></li> '+e.jml_mhs_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan tahun akademik '+s+'"></li> '+e.jml_mhs_pr}},{data:{id_thn_ak:"id_thn_ak",status_jdl:"status_jdl",status_inp_nilai:"status_inp_nilai"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s,l,n,i=e.id_thn_ak,d=e.status_jdl,o=e.status_inp_nilai;return 1==d?(s="checked",n=""):1!=d&&(s="",n="disabled"),1==o?l="checked":1!=o&&(l=""),"<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+i+"' "+s+" value='"+i+"'/> <input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+i+"' "+l+" "+n+" value='"+i+"'/>"}},{data:{id_thn_ak:"id_thn_ak",thn_ajaran_jdl:"thn_ajaran_jdl"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.id_thn_ak,l=e.thn_ajaran_jdl;return'<div class="btn-group"> <a href="#data?thn_akademik='+l+"&i="+s+"&token="+token+'" class="btn btn-warning btn-sm detail-data-thn-ak" data-search="'+s+'" title="Lihat mahasiswa yang terdaftar pada tahun akademik '+l+'"><i class="fa fa-list"></i></a>  <a href="#edit?thn_akademik='+l+"&i="+s+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Data Tahun Akademik '+l+'"><i class="fa fa-pencil-square"></i></a> </div>'}}],oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="4">4 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,fnDrawCallback:function(){$(".check-status-thn-ajar").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140}),$(".check-status-thn-inp").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),t=$("#tbl-thn-angkatan").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/data_thn_angkatan",type:"POST",data:{length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[0,"desc"]],columns:[{data:"tahun_angkatan"},{data:"tgl_masuk_angkatan",sClass:"text-center"},{data:{tahun_angkatan:"tahun_angkatan",laki_laki:"laki_laki",perempuan:"perempuan",jumlah:"jumlah"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.tahun_angkatan;return'<li class="fa fa-users" title="Jumlah mahasiswa tahun angkatan '+s+'"></li> '+e.jumlah+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki tahun angkatan '+s+'"></li> '+e.laki_laki+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan tahun angkatan '+s+'"></li> '+e.perempuan}},{data:{tahun_angkatan:"tahun_angkatan",id_thn_angkatan:"id_thn_angkatan"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.tahun_angkatan;return id=e.id_thn_angkatan,'<div class="btn-group"> <a href="#data?mhs='+id+"&thn="+s+"&token="+token+'" class="btn btn-warning btn-sm detail-data-thn-mhs" data-search="'+id+'" title="Lihat Data Mahasiswa Tahun Angkatan '+s+'"><i class="fa fa-list"></i></a>  <a href="#edit?thn='+id+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Data Tahun Angkatan '+s+'"><i class="fa fa-pencil-square"></i></a> </div>'}}],oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="4">4 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},pageLength:4,paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),e=$("#tbl-user").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/user_list",type:"POST",data:{user_type:function(a){if(path==controller_path+"/data_pengguna_mahasiswa")t="mhs";else if(path==controller_path+"/data_pengguna_ptk")var t="ptk";return t},status_user:function(a){return $(".btn-status-user").attr("data-search")},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[3,"desc"]],columns:[{data:"username"},{data:"nama"},{data:{active_status:"active_status",id_user:"id_user"},orderable:!1,sClass:"text-center",width:"100px",mRender:function(a,t,e){var s=e.active_status,l=e.id_user;return"1"==s?(s="Aktif",check="checked"):"0"==s&&(s="Tidak Aktif",check=""),"<input type='checkbox' class='check-status-user status-user-"+l+"' "+check+" value='"+l+"'/>"}},{data:"last_online",sClass:"text-center",mRender:function(a,t,e){var s=e.last_online;return s="0000-00-00 00:00:00"==s?"Username belum pernah digunakan":"<span class='fa fa-clock-o'></span> "+moment(s).fromNow()}},{data:{user_i:"user_i",user_in:"user_in",username:"username"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<button type="button" class="btn btn-success btn-sm change-pass-user" title="Reset password" value="user-'+e.user_i+"-"+e.username+"-"+e.user_in+'"><li class="fa fa-key"></li></button>'}}],fnDrawCallback:function(){$(".check-status-user").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger",width:100}),$(document).on("change",".check-status-user",function(){var a=$(this).prop("checked"),t=$(this).attr("value");getJSON_async("http://"+host+controller_path+"/action/update_status",{id:t,status:a,data:"user_active_status"}).then(function(e){"success"!=e.status&&(1==a?(swal({title:"Akun gagal diaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t).bootstrapToggle("destroy"),$(".status-user-"+t).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t+"' value='"+t+"'/>"),$(".status-user-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500)):(swal({title:"Akun gagal dinonaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t).bootstrapToggle("destroy"),$(".status-user-"+t).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t+"' checked value='"+t+"'/>"),$(".status-user-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500)))}).catch(function(e){1==a?(swal({title:"Akun gagal diaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t).bootstrapToggle("destroy"),$(".status-user-"+t).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t+"' value='"+t+"'/>"),$(".status-user-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500)):(swal({title:"Akun gagal dinonaktifkan",type:"error",timer:2e3}),delay(function(){$(".status-user-"+t).bootstrapToggle("destroy"),$(".status-user-"+t).replaceWith("<input type='checkbox' class='check-status-user status-user-"+t+"' checked value='"+t+"'/>"),$(".status-user-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},500))})})},oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="5">5 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),s=$(".tbl-pengunjung-mhs").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/visitor_list",type:"POST",data:{visitor_browser:function(a){return null!=$(".control-panel-data-tbl .select2_browser").val()?$(".control-panel-data-tbl .select2_browser").find(":selected").val():""},visitor_platform:function(a){return null!=$(".control-panel-data-tbl .select2_platform").val()?$(".control-panel-data-tbl .select2_platform").find(":selected").val():""},visitor:function(){return"mhs"},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[4,"desc"]],columns:[{className:"text-center",orderable:!1,data:null,defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' style='font-size:20px' data-search='data-visitor-mhs'></li>"}},{data:"username",orderable:!1},{data:"nama",orderable:!1},{data:{visitor_browser:"visitor_browser",browser_icon:"browser_icon"},orderable:!1,sClass:"text-center",mRender:function(a,t,e){var s=e.visitor_browser;return"<li class='fa "+e.browser_icon+"'></li> "+s}},{data:"visitor_date",sClass:"text-center",mRender:function(a,t,e){var s=e.visitor_date;return s="0000-00-00 00:00:00"==s?"Username belum pernah digunakan":"<span class='fa fa-clock-o'></span> "+moment(s).fromNow()}}],fnDrawCallback:function(){$(".check-status-user").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="5">5 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),l=$(".tbl-pengunjung-ptk").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/visitor_list",type:"POST",data:{visitor_browser:function(a){return null!=$(".control-panel-data-tbl .select2_browser").val()?$(".control-panel-data-tbl .select2_browser").find(":selected").val():""},visitor_platform:function(a){return null!=$(".control-panel-data-tbl .select2_platform").val()?$(".control-panel-data-tbl .select2_platform").find(":selected").val():""},visitor:function(){return"ptk"},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[4,"desc"]],columns:[{className:"text-center",orderable:!1,data:null,defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' style='font-size:20px' data-search='data-visitor-ptk'></li>"}},{data:"username",orderable:!1},{data:"nama",orderable:!1},{data:{visitor_browser:"visitor_browser",browser_icon:"browser_icon"},orderable:!1,sClass:"text-center",mRender:function(a,t,e){var s=e.visitor_browser;return"<li class='fa "+e.browser_icon+"'></li> "+s}},{data:"visitor_date",sClass:"text-center",mRender:function(a,t,e){var s=e.visitor_date;return s="0000-00-00 00:00:00"==s?"Username belum pernah digunakan":"<span class='fa fa-clock-o'></span> "+moment(s).fromNow()}}],fnDrawCallback:function(){$(".check-status-user").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Nonaktif',size:"small",onstyle:"success",offstyle:"danger"})},oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="5">5 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),n=$(".tbl-data-mhs").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/data_mahasiswa",type:"POST",data:{cari_thn_angkatan:function(a){return null!=$(".control-panel-data-tbl .select2_thn_angkatan").val()?$(".control-panel-data-tbl .select2_thn_angkatan").val():""},cari_prodi:function(a){return null!=$(".control-panel-data-tbl .select2_prodi").val()?$(".control-panel-data-tbl .select2_prodi").val():""},status_data:function(a){return $(".btn-status-data").attr("data-search")},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[2,"asc"]],columns:[{className:"text-center",orderable:!1,data:null,width:"5px",defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' data-search='data-mhs'></li>"}},{data:{id:"id",id_ortu:"id_ortu"},width:"5px",sClass:"text-center selected-data-mhs",orderable:!1,mRender:function(a,t,e){return'<input type="checkbox" class="check-data check-siswa" name="id" value="'+e.id+" "+e.id_ortu+'" data-selected="check-siswa" data-all-selected="check-all-siswa" data-toggle=".aksi">'}},{data:"nisn",width:"70px"},{data:"nama",width:"220px"},{data:"nama_prodi",width:"100px"},{data:"tahun_angkatan",width:"20px"},{data:"status_verifikasi_mhs",orderable:!1,width:"10px",sClass:"text-center",mRender:function(a,t,e){var s=e.status_verifikasi_mhs;if("1"==s)var l="Data Terverifikasi",n="fa-check-square-o",i="btn-success";else if("2"==s)var l="Data Salah",n="fa-times",i="btn-danger";else var l="Data Belum Diverifikasi",n="fa-warning",i="btn-gray";return'<button type="button" class="btn '+i+' dt-vld" data-status="'+s+'" title="'+l+'"><li class="fa '+n+'"></li></button>'}}],oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="10">10 Data</option><option value="20">20 Data</option><option value="25">25 Data</option><option value="50">50 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:2},{responsivePriority:2,targets:3}],responsive:{details:!1},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),i=$(".tbl-data-alumni-do").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/data_mahasiswa_alni_do",type:"POST",data:{cari_thn_angkatan:function(a){return null!=$(".control-panel-data-tbl .select2_thn_angkatan").val()?$(".control-panel-data-tbl .select2_thn_angkatan").val():""},cari_prodi:function(a){return null!=$(".control-panel-data-tbl .select2_prodi").val()?$(".control-panel-data-tbl .select2_prodi").val():""},data_search:function(a){return null!=$(".control-panel-data-tbl .select2_data").val()?(0==$(".control-panel-data-tbl .select2_data").val()?$(".control-panel-data-tbl .cari-data-tbl").attr("placeholder","Cari Data Alumni"):$(".control-panel-data-tbl .cari-data-tbl").attr("placeholder","Cari Data Mahasiswa DO"),$(".control-panel-data-tbl .select2_data").val()):""},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[2,"asc"]],columns:[{className:"text-center",orderable:!1,data:null,width:"5px",defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' data-search='data-alumni-do'></li>"}},{data:{id:"id",data_mhs:"data_mhs"},width:"5px",sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<input type="checkbox" class="check-data check-mhs-dt" name="id" value="'+e.id+"-"+e.data_mhs+'" data-selected="check-mhs-dt" data-all-selected="check-all-mhs-dt" data-toggle=".aksi">'}},{data:"nisn",width:"70px"},{data:"nama",width:"220px"},{data:"nama_prodi",width:"100px"},{data:"tahun_angkatan",width:"20px"}],columnDefs:[{responsivePriority:1,targets:2},{responsivePriority:2,targets:3}],responsive:{details:!1},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),d=$(".tbl-data-ptk").DataTable({processing:!0,serverSide:!0,pageLength:$(".select2_tamp").val(),ajax:{url:"http://"+host+controller_path+"/data_table_request/data_ptk",type:"POST",data:{cari_prodi:function(a){return null!=$(".control-panel-data-tbl .select2_prodi").val()?$(".control-panel-data-tbl .select2_prodi").val():""},status_aktif_ptk:function(a){return null!=$(".control-panel-data-tbl .select2_status_aktif_ptk").val()?$(".control-panel-data-tbl .select2_status_aktif_ptk").val():""},status_data:function(a){return $(".btn-status-data").attr("data-search")},length:function(a){return $(".select2_tamp").val()},"search[value]":function(a){return $(".cari-data-tbl").val()}}},order:[[2,"asc"]],columns:[{className:"text-center",orderable:!1,data:null,width:"5px",defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' data-search='data-ptk'></li>"}},{data:"id_ptk",width:"5px",sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<input type="checkbox" class="check-data check-guru" name="id_ptk" value="'+e.id_ptk+'" data-selected="check-guru" data-all-selected="check-all-guru" data-toggle=".aksi">'}},{data:"nuptk",mRender:function(a,t,e){var s=e.nuptk;return""==s&&(s="-"),s}},{data:"nama_ptk"},{data:"status_aktif_ptk",orderable:!1,sClass:"text-center"},{data:"status_verifikasi_ptk",orderable:!1,width:"10px",sClass:"text-center",mRender:function(a,t,e){var s=e.status_verifikasi_ptk;if("1"==s)var l="Data Terverifikasi",n="fa-check-square-o",i="btn-success";else if("2"==s)var l="Data Salah",n="fa-times",i="btn-danger";else var l="Data Belum Diverifikasi",n="fa-warning",i="btn-gray";return'<button type="button" class="btn '+i+' dt-vld" data-status="'+s+'" title="'+l+'"><li class="fa '+n+'"></li></button>'}}],oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="10">10 Data</option><option value="20">20 Data</option><option value="25">25 Data</option><option value="50">50 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:2},{responsivePriority:2,targets:3}],responsive:{details:!1},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}}).page.len($(".select2_tamp").val()),o=($(".tbl-data-fk").DataTable({processing:!0,serverSide:!0,ajax:{url:"http://"+host+controller_path+"/data_table_request/data_fakultas",type:"POST"},order:[[1,"asc"]],columns:[{data:"id_fk",width:"5px",sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<input type="checkbox" class="check-data check-fk" name="id" value="'+e.id_fk+'" data-selected="check-fk" data-all-selected="check-all-fk" data-toggle=".hapus">'}},{data:"nama_fakultas"},{data:"dekan"},{data:"tgl_berdiri",sClass:"text-center"},{data:"akreditasi_fk",sClass:"text-center"},{data:{nama_fakultas:"nama_fakultas",id_fk:"id_fk"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.nama_fakultas,l=e.id_fk;return'<a href="#tambah?fk='+s.replace(" ","_").toLowerCase()+"&i="+l+"&token="+token+'" class="btn btn-info btn-sm" title="Tambah Program Studi pada Fakultas '+s+'" value="'+s+"/"+l+'"><i class="fa fa-plus"></i></a> | <div class="btn-group"> <a href="#data?fk='+s.replace(" ","_").toLowerCase()+"&i="+l+"&token="+token+'" class="btn btn-warning btn-sm detail-data-fk" data-search="'+l+'" title="Lihat Program Studi pada Fakultas '+s+'"><i class="fa fa-list"></i></a>  <a href="#edit?fk='+l+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Data Fakultas '+s+'"><i class="fa fa-pencil-square"></i></a>  <a href="#hapus?fk='+l+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Data Fakultas '+s+'"><i class="fa fa-trash"></i></a></div>'}}],columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},paging:!1,lengthChange:!1,searching:!1,ordering:!1,info:!1,autoWidth:!1,initComplete:function(a,t){}}),$(".tbl-data-pd").DataTable({processing:!0,serverSide:!0,ajax:{url:"http://"+host+controller_path+"/data_table_request/data_prodi",type:"POST"},order:[[2,"asc"]],columns:[{className:"text-center",orderable:!1,data:null,width:"5px",defaultContent:"",mRender:function(a,t,e){return"<li class='fa fa-plus-circle detail-row' data-search='data-prodi'></li>"}},{data:"id_prodi",width:"5px",sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<input type="checkbox" class="check-data check-prodi" name="id" value="'+e.id_prodi+'" data-selected="check-prodi" data-all-selected="check-all-prodi" data-toggle=".hapus-prodi">'}},{data:"kode_prodi",sClass:"text-center"},{data:"nama_prodi"},{data:"status_prodi",sClass:"text-center",orderable:!1},{data:"jenjang_prodi",sClass:"text-center",orderable:!1},{data:"count_mhs_prodi",sClass:"text-center",orderable:!1,mRender:function(a,t,e){return'<li class="fa fa-group"></li> '+e.count_mhs_prodi}},{data:{nama_prodi:"nama_prodi",id_prodi:"id_prodi"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.nama_prodi,l=e.id_prodi;return'<a href="#tambah?data=konsentrasi_prodi&prodi_kons='+s.replace(" ","_").toLowerCase()+"&i="+l+"&token="+token+'" class="btn btn-info btn-sm" title="Tambah Konsentrasi pada Program Studi '+s+'"><i class="fa fa-plus"></i></a> | <div class="btn-group"> <a href="#edit?pd='+l+"&token="+token+'" class="btn btn-success btn-sm" title="Edit Data Program Studi '+s+'"><i class="fa fa-pencil-square"></i></a> <a href="#hapus?pd='+l+"&token="+token+'" class="btn btn-danger btn-sm" title="Hapus Data Program Studi '+s+'"><i class="fa fa-trash"></i></a></div>'}}],oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:120px"><option value="-1">Semua Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:2},{responsivePriority:2,targets:3}],responsive:{details:!1},pageLength:-1,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){}}));$(".tbl-daftar-thn-ajar").DataTable({processing:!0,serverSide:!0,ajax:{url:"http://"+host+data_master_path+"/data_table_request/data_thn_akademik",type:"POST"},order:[[0,"desc"]],columns:[{data:"thn_ajaran_jdl"},{data:{thn_ajaran_jdl:"thn_ajaran_jdl",jml_mhs:"jml_mhs",jml_mhs_lk:"jml_mhs_lk",jml_mhs_pr:"jml_mhs_pr"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s=e.thn_ajaran_jdl;return'<li class="fa fa-users" title="Jumlah mahasiswa tahun akademik '+s+'"></li> '+e.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki tahun akademik '+s+'"></li> '+e.jml_mhs_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan tahun akademik '+s+'"></li> '+e.jml_mhs_pr}},{data:{id_thn_ak:"id_thn_ak",status_jdl:"status_jdl",status_inp_nilai:"status_inp_nilai"},sClass:"text-center",orderable:!1,mRender:function(a,t,e){var s,l,n,i=e.id_thn_ak,d=e.status_jdl,o=e.status_inp_nilai;return 1==d?(s="checked",n=""):1!=d&&(s="",n="disabled"),1==o?l="checked":1!=o&&(l=""),"<input type='checkbox' class='check-status-thn-ajar check-status-thn-ajar-"+i+"' "+s+" value='"+i+"'/> <input type='checkbox' class='check-status-thn-inp check-status-thn-inp-"+i+"' "+l+" "+n+" value='"+i+"'/>"}}],fnDrawCallback:function(){$(".check-status-thn-ajar").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Diterapkan',off:'<i class="fa fa-ban"></i> Tidak Diterapkan',size:"small",onstyle:"success",offstyle:"danger",width:140}),$(".check-status-thn-inp").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Input Nilai',off:'<i class="fa fa-ban"></i> Input Nilai',size:"small",onstyle:"success",offstyle:"danger",width:140})},oLanguage:{sLengthMenu:'Tampilkan <select class="form-control input-sm" style="width:90px"><option value="4">4 Data</option><option value="10">10 Data</option><option value="15">15 Data</option><option value="20">20 Data</option></select>'},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}],responsive:{details:!1},pageLength:4,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!1,initComplete:function(a,t){$("body").find(".dataTables_scrollBody").addClass("style-2")}});$(".datatable-dt").on("error.dt",function(a,t,e,s){swal({title:"Error",html:'Terjadi error pada server!<br><p style="text-align:right;"><a href="" class="show-error">Show Error</a></p><div style="font-family:Segoe UI;text-align: justify;display:none" class="error-detail">'+s+"</div>",type:"error"})}).DataTable(),$(".datatable-dt").on("xhr.dt",function(a,t,e,s){if(clearInterval(intval_vars),null!=e.login_rld){var l=$(this).attr("table-dt");void 0!=l&&$(l).DataTable().ajax.reload()}token=e.n_token;var n=$(this).attr("data-tbl-selected");void 0!=n&&(n=n.split(" "),$("."+n[0]).iCheck("uncheck"),$("."+n[1]).iCheck("uncheck"));var i=$(this).attr("table-box");void 0!=i&&$(i).find("div.overlay").fadeOut()}).DataTable(),$("div.dataTables_filter label").append('<div class="input-group hidden-tablet hidden-phone">      <span class="input-group-btn">        <button type="button" class="btn btn-default btn-flat" style="cursor: default;"><span class="fa fa-search"></span></button>      </span></div>'),$("div.dataTables_filter input").removeClass("input-sm").attr("placeholder","Cari Data..."),$("div.dataTables_length select").removeClass("input-sm").addClass("select2_change"),$(".select2_change").select2({minimumResultsForSearch:-1}),$(".cari-data-tbl").on({keyup:function(o){delay(function(){a.ajax.reload(),t.ajax.reload(),n.ajax.reload(),i.ajax.reload(),d.ajax.reload(),e.ajax.reload(),$("#visitors-mhs").is(":visible")&&s.ajax.reload(),$("#visitors-ptk").is(":visible")&&l.ajax.reload(),window.history.pushState(null,null,path),collapse_box("#box-siswa, #box-guru, .box-thn-angkatan, #box-content"),$("html, body").animate({scrollTop:$("#box-siswa, #box-guru, .box-thn-angkatan, #box-content").offset().top-55},800)},500)}}),$(document).on("click",".clear-search",function(){$(this).parent().siblings(".cari-data-tbl").val(""),$(this).find("span").removeClass("fa-times-circle").addClass("fa-search"),$(this).removeClass("clear-search")}),$(".select2_tamp").on("change",function(){a.page.len($(this).val()).draw(),t.page.len($(this).val()).draw(),n.page.len($(this).val()).draw(),i.page.len($(this).val()).draw(),d.page.len($(this).val()).draw(),e.page.len($(this).val()).draw(),$("#visitors-mhs").is(":visible")&&s.page.len($(this).val()).draw(),$("#visitors-ptk").is(":visible")&&l.page.len($(this).val()).draw(),window.history.pushState(null,null,path),collapse_box("#box-siswa, #box-guru, .box-thn-angkatan, #box-content"),$("html, body").animate({scrollTop:$("#box-siswa, #box-guru, .box-thn-angkatan, #box-content").offset().top-55},800)}),$(".btn-status-data").on("click",function(){$(".btn-status-data").attr("data-search",$(this).val()),$(".control-panel-data-tbl .cari-data-tbl").val(""),$(".semua-data").show(),n.ajax.reload(),d.ajax.reload(),window.history.pushState(null,null,path),collapse_box("#box-siswa, #box-guru"),$("html, body").animate({scrollTop:$("#box-siswa, #box-guru").offset().top-55},800)}),$(".control-panel-data-tbl .filter-dt").on("change",function(){path==controller_path+"/data_pengguna_ptk"&&null!=$(".select2_prodi").val()?($("#created-pass").css("pointer-events",""),$("#created-pass").removeClass("disabled")):null!=$(".select2_prodi").val()&&null!=$(".select2_thn_angkatan").val()?$("#tamp-data, #created-pass").removeClass("disabled"):null!=$(".select2_prodi").val()&&null==$(".select2_thn_angkatan").val()||null!=$(".select2_prodi").val()&&null!=$(".select2_status_aktif_ptk").val()?($("#tamp-data").removeClass("disabled"),$("#created-pass").addClass("disabled")):null==$(".select2_prodi").val()&&null!=$(".select2_thn_angkatan").val()||null!=$(".select2_prodi").val()&&null==$(".select2_status_aktif_ptk").val()?($("#tamp-data").removeClass("disabled"),$("#created-pass").addClass("disabled")):null!=$(".select2_status_aktif_ptk").val()&&""!=$(".select2_status_aktif_ptk").val()?$("#tamp-data").removeClass("disabled"):($("#tamp-data, #created-pass").addClass("disabled"),$("#created-pass").css("pointer-events","none"))}),$(".select2_data").on("change",function(){0==$(this).val()?($(".control-panel-data-tbl .cari-data-tbl").attr("placeholder","Cari Data Alumni"),$("#box-content .box-title").text("Data Alumni")):1==$(this).val()&&($(".control-panel-data-tbl .cari-data-tbl").attr("placeholder","Cari Data Mahasiswa DO"),$("#box-content .box-title").text("Data Mahasiswa Drop Out")),0!=$(this).val()&&1!=$(this).val()||($(".control-panel-data-tbl .select2_thn_angkatan, .control-panel-data-tbl .select2_prodi").val("").text(""),$(".control-panel-data-tbl .cari-data-tbl").val(""),$("#tamp-data,.aksi").addClass("disabled"),$(".semua-data").hide(),i.ajax.reload(),window.history.pushState(null,null,path),collapse_box("#box-content"),$("html, body").animate({scrollTop:$("#box-content").offset().top-55},800))}),$(".btn-status-user").on("click",function(){$(".btn-status-user").attr("data-search",$(this).val()),$(".control-panel-data-tbl .cari-data-tbl").val(""),$(".semua-data").show(),$("#box-content").find("div.overlay").fadeIn(),e.ajax.reload(),window.history.pushState(null,null,path),collapse_box("#box-content"),$("html, body").animate({scrollTop:$("#box-content").offset().top-55},800),$("#box-content").find("div.overlay").fadeOut()}),$(".selected-data-btn").on("click",function(){var a=$(this).attr("data-selected");0==$(this).attr("state")?($(this).attr("state","1"),$(this).removeClass("bg-light-blue").addClass("bg-gray"),$(this).find("li").removeClass("fa-check-square").addClass("fa-times-rectangle-o"),$("."+a).removeClass("hide")):($(this).attr("state","0"),$(this).addClass("bg-light-blue").removeClass("bg-gray"),$(this).find("li").addClass("fa-check-square").removeClass("fa-times-rectangle-o"),$("."+a).addClass("hide"),$("."+a).iCheck("uncheck"))}),$(document).on("click",".detail-row",function(){var a=$(this).closest("tr");if("data-user"==$(this).attr("data-search"))t=e.row(a);else if("data-mhs"==$(this).attr("data-search"))t=n.row(a);else if("data-ptk"==$(this).attr("data-search"))t=d.row(a);else if("data-prodi"==$(this).attr("data-search"))t=o.row(a);else if("data-visitor-mhs"==$(this).attr("data-search"))t=s.row(a);else if("data-visitor-ptk"==$(this).attr("data-search"))t=l.row(a);else if("data-alumni-do"==$(this).attr("data-search"))var t=i.row(a);void 0!=t&&(t.child.isShown()?($("div.slider-detail",t.child()).slideUp(function(){t.child.hide()}),$(this).removeClass("fa-minus-circle").addClass("fa-plus-circle")):(t.child(row_detail(t.data(),$(this).attr("data-search")),"no-padding").show(),$("div.slider-detail",t.child()).slideDown(),$(this).removeClass("fa-plus-circle").addClass("fa-minus-circle")))}),$(document).on("click",".show-error",function(a){a.preventDefault(),$(".error-detail").show(),$(".show-error").text("Hide Error").removeClass("show-error").addClass("hide-error")}),$(document).on("click",".hide-error",function(a){a.preventDefault(),$(".error-detail").hide(),$(".hide-error").text("Show Error").removeClass("hide-error").addClass("show-error")}),$(document).ajaxSuccess(function(a,t){null!=t.responseJSON.n_token?token=t.responseJSON.n_token:token=rand_val()})});